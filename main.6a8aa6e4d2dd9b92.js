"use strict";(self.webpackChunkfirbase_realtime=self.webpackChunkfirbase_realtime||[]).push([[179],{6304:(Qe,ve,O)=>{O.d(ve,{Dh:()=>Se,GT:()=>ue,cc:()=>Ie,hO:()=>Ne,on:()=>F,pX:()=>ne,xv:()=>le});var p=O(5879),Q=O(7142),P=O(8186);Qe=O.hmd(Qe);const X=["ngOnDestroy"],ne=(Re,rt,Je,te={})=>new Proxy(Re,{get:(he,ee)=>Je.runOutsideAngular(()=>{var ye;if(Re[ee])return!(null===(ye=te?.spy)||void 0===ye)&&ye.get&&te.spy.get(ee,Re[ee]),Re[ee];if(X.indexOf(ee)>-1)return()=>{};const Me=rt.toPromise().then(Ue=>{const ie=Ue&&Ue[ee];return"function"==typeof ie?ie.bind(Ue):ie&&ie.then?ie.then(ot=>Je.run(()=>ot)):Je.run(()=>ie)});return new Proxy(()=>{},{get:(Ue,ie)=>Me[ie],apply:(Ue,ie,ot)=>Me.then(Ct=>{var Pn;const sr=Ct&&Ct(...ot);return!(null===(Pn=te?.spy)||void 0===Pn)&&Pn.apply&&te.spy.apply(ee,ot,sr),sr})})})}),ue=(Re,rt)=>{rt.forEach(Je=>{Object.getOwnPropertyNames(Je.prototype||Je).forEach(te=>{Object.defineProperty(Re.prototype,te,Object.getOwnPropertyDescriptor(Je.prototype||Je,te))})})};class de{constructor(rt){return rt}}const Se=new p.OlP("angularfire2.app.options"),le=new p.OlP("angularfire2.app.name");function F(Re,rt,Je){const he="object"==typeof Je&&Je||{};he.name=he.name||"string"==typeof Je&&Je||"[DEFAULT]";const ye=Q.Z.apps.filter(Me=>Me&&Me.name===he.name)[0]||rt.runOutsideAngular(()=>Q.Z.initializeApp(Re,he));try{JSON.stringify(Re)!==JSON.stringify(ye.options)&&H("error",`${ye.name} Firebase App already initialized with different options${Qe.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new de(ye)}const H=(Re,...rt)=>{(0,p.X6Q)()&&typeof console<"u"&&console[Re](...rt)},Y={provide:de,useFactory:F,deps:[Se,p.R0b,[new p.FiY,le]]};let Ne=(()=>{class Re{constructor(Je){Q.Z.registerVersion("angularfire",P.q4.full,"core"),Q.Z.registerVersion("angularfire",P.q4.full,"app-compat"),Q.Z.registerVersion("angular",p.q4F.full,Je.toString())}static initializeApp(Je,te){return{ngModule:Re,providers:[{provide:Se,useValue:Je},{provide:le,useValue:te}]}}}return Re.\u0275fac=function(Je){return new(Je||Re)(p.LFG(p.Lbi))},Re.\u0275mod=p.oAB({type:Re}),Re.\u0275inj=p.cJS({providers:[Y]}),Re})();function Ie(Re,rt,Je,te,he){const[,ee,ye]=globalThis.\u0275AngularfireInstanceCache.find(Me=>Me[0]===Re)||[];if(ee)return function Be(Re,rt){try{return Re.toString()===rt.toString()}catch{return Re===rt}}(he,ye)||(Le("error",`${rt} was already initialized on the ${Je} Firebase App with different settings.${Te?" You may need to reload as Firebase is not HMR aware.":""}`),Le("warn",{is:he,was:ye})),ee;{const Me=te();return globalThis.\u0275AngularfireInstanceCache.push([Re,Me,he]),Me}}const Te=!!Qe.hot,Le=(Re,...rt)=>{(0,p.X6Q)()&&typeof console<"u"&&console[Re](...rt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},8186:(Qe,ve,O)=>{O.d(ve,{q4:()=>Ur,iC:()=>Zc,HU:()=>xs,vb:()=>Br,JM:()=>Xa});var p=O(5879),Q=O(3182),P=O(5861),X=O(534),ne=O(9058),ue=O(4537),de=O(7879);const Se=(E,D)=>D.some(S=>E instanceof S);let le,F;const Ne=new WeakMap,Ie=new WeakMap,Be=new WeakMap,Te=new WeakMap,Le=new WeakMap;let Je={get(E,D,S){if(E instanceof IDBTransaction){if("done"===D)return Ie.get(E);if("objectStoreNames"===D)return E.objectStoreNames||Be.get(E);if("store"===D)return S.objectStoreNames[1]?void 0:S.objectStore(S.objectStoreNames[0])}return ye(E[D])},set:(E,D,S)=>(E[D]=S,!0),has:(E,D)=>E instanceof IDBTransaction&&("done"===D||"store"===D)||D in E};function ee(E){return"function"==typeof E?function he(E){return E!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Y(){return F||(F=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(E)?function(...D){return E.apply(Me(this),D),ye(Ne.get(this))}:function(...D){return ye(E.apply(Me(this),D))}:function(D,...S){const N=E.call(Me(this),D,...S);return Be.set(N,D.sort?D.sort():[D]),ye(N)}}(E):(E instanceof IDBTransaction&&function rt(E){if(Ie.has(E))return;const D=new Promise((S,N)=>{const $=()=>{E.removeEventListener("complete",Z),E.removeEventListener("error",oe),E.removeEventListener("abort",oe)},Z=()=>{S(),$()},oe=()=>{N(E.error||new DOMException("AbortError","AbortError")),$()};E.addEventListener("complete",Z),E.addEventListener("error",oe),E.addEventListener("abort",oe)});Ie.set(E,D)}(E),Se(E,function H(){return le||(le=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(E,Je):E)}function ye(E){if(E instanceof IDBRequest)return function Re(E){const D=new Promise((S,N)=>{const $=()=>{E.removeEventListener("success",Z),E.removeEventListener("error",oe)},Z=()=>{S(ye(E.result)),$()},oe=()=>{N(E.error),$()};E.addEventListener("success",Z),E.addEventListener("error",oe)});return D.then(S=>{S instanceof IDBCursor&&Ne.set(S,E)}).catch(()=>{}),Le.set(D,E),D}(E);if(Te.has(E))return Te.get(E);const D=ee(E);return D!==E&&(Te.set(E,D),Le.set(D,E)),D}const Me=E=>Le.get(E),ot=["get","getKey","getAll","getAllKeys","count"],Ct=["put","add","delete","clear"],Pn=new Map;function sr(E,D){if(!(E instanceof IDBDatabase)||D in E||"string"!=typeof D)return;if(Pn.get(D))return Pn.get(D);const S=D.replace(/FromIndex$/,""),N=D!==S,$=Ct.includes(S);if(!(S in(N?IDBIndex:IDBObjectStore).prototype)||!$&&!ot.includes(S))return;const Z=function(){var oe=(0,P.Z)(function*(je,...xe){const Ye=this.transaction(je,$?"readwrite":"readonly");let ft=Ye.store;return N&&(ft=ft.index(xe.shift())),(yield Promise.all([ft[S](...xe),$&&Ye.done]))[0]});return function(xe){return oe.apply(this,arguments)}}();return Pn.set(D,Z),Z}!function te(E){Je=E(Je)}(E=>({...E,get:(D,S,N)=>sr(D,S)||E.get(D,S,N),has:(D,S)=>!!sr(D,S)||E.has(D,S)}));const yi="@firebase/installations",fn="0.6.4",ms=1e4,Bi=`w:${fn}`,se="FIS_v2",ae="https://firebaseinstallations.googleapis.com/v1",fe=36e5,We=new ne.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ke(E){return E instanceof ne.ZR&&E.code.includes("request-failed")}function nn({projectId:E}){return`${ae}/projects/${E}/installations`}function tt(E){return{token:E.token,requestStatus:2,expiresIn:$n(E.expiresIn),creationTime:Date.now()}}function xt(E,D){return pt.apply(this,arguments)}function pt(){return(pt=(0,P.Z)(function*(E,D){const N=(yield D.json()).error;return We.create("request-failed",{requestName:E,serverCode:N.code,serverMessage:N.message,serverStatus:N.status})})).apply(this,arguments)}function qt({apiKey:E}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E})}function bn(E){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,P.Z)(function*(E){const D=yield E();return D.status>=500&&D.status<600?E():D})).apply(this,arguments)}function $n(E){return Number(E.replace("s","000"))}function Dr(){return(Dr=(0,P.Z)(function*({appConfig:E,heartbeatServiceProvider:D},{fid:S}){const N=nn(E),$=qt(E),Z=D.getImmediate({optional:!0});if(Z){const Ye=yield Z.getHeartbeatsHeader();Ye&&$.append("x-firebase-client",Ye)}const je={method:"POST",headers:$,body:JSON.stringify({fid:S,authVersion:se,appId:E.appId,sdkVersion:Bi})},xe=yield bn(()=>fetch(N,je));if(xe.ok){const Ye=yield xe.json();return{fid:Ye.fid||S,registrationStatus:2,refreshToken:Ye.refreshToken,authToken:tt(Ye.authToken)}}throw yield xt("Create Installation",xe)})).apply(this,arguments)}function wr(E){return new Promise(D=>{setTimeout(D,E)})}const Oo=/^[cdef][\w-]{21}$/,nt="";function It(){try{const E=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(E),E[0]=112+E[0]%16;const S=function ct(E){return function Hi(E){return btoa(String.fromCharCode(...E)).replace(/\+/g,"-").replace(/\//g,"_")}(E).substr(0,22)}(E);return Oo.test(S)?S:nt}catch{return nt}}function Gt(E){return`${E.appName}!${E.appId}`}const en=new Map;function or(E,D){const S=Gt(E);Qs(S,D),function qe(E,D){const S=function vt(){return!ar&&"BroadcastChannel"in self&&(ar=new BroadcastChannel("[Firebase] FID Change"),ar.onmessage=E=>{Qs(E.data.key,E.data.fid)}),ar}();S&&S.postMessage({key:E,fid:D}),function Ei(){0===en.size&&ar&&(ar.close(),ar=null)}()}(S,D)}function Qs(E,D){const S=en.get(E);if(S)for(const N of S)N(D)}let ar=null;const ii="firebase-installations-database",Js=1,Xn="firebase-installations-store";let $i=null;function Wr(){return $i||($i=function Ue(E,D,{blocked:S,upgrade:N,blocking:$,terminated:Z}={}){const oe=indexedDB.open(E,D),je=ye(oe);return N&&oe.addEventListener("upgradeneeded",xe=>{N(ye(oe.result),xe.oldVersion,xe.newVersion,ye(oe.transaction))}),S&&oe.addEventListener("blocked",()=>S()),je.then(xe=>{Z&&xe.addEventListener("close",()=>Z()),$&&xe.addEventListener("versionchange",()=>$())}).catch(()=>{}),je}(ii,Js,{upgrade:(E,D)=>{0===D&&E.createObjectStore(Xn)}})),$i}function Tn(E,D){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,P.Z)(function*(E,D){const S=Gt(E),$=(yield Wr()).transaction(Xn,"readwrite"),Z=$.objectStore(Xn),oe=yield Z.get(S);return yield Z.put(D,S),yield $.done,(!oe||oe.fid!==D.fid)&&or(E,D.fid),D})).apply(this,arguments)}function Ci(E){return rn.apply(this,arguments)}function rn(){return(rn=(0,P.Z)(function*(E){const D=Gt(E),N=(yield Wr()).transaction(Xn,"readwrite");yield N.objectStore(Xn).delete(D),yield N.done})).apply(this,arguments)}function zr(E,D){return er.apply(this,arguments)}function er(){return(er=(0,P.Z)(function*(E,D){const S=Gt(E),$=(yield Wr()).transaction(Xn,"readwrite"),Z=$.objectStore(Xn),oe=yield Z.get(S),je=D(oe);return void 0===je?yield Z.delete(S):yield Z.put(je,S),yield $.done,je&&(!oe||oe.fid!==je.fid)&&or(E,je.fid),je})).apply(this,arguments)}function U(E){return L.apply(this,arguments)}function L(){return L=(0,P.Z)(function*(E){let D;const S=yield zr(E.appConfig,N=>{const $=function W(E){return pn(E||{fid:It(),registrationStatus:0})}(N),Z=function _e(E,D){if(0===D.registrationStatus){if(!navigator.onLine)return{installationEntry:D,registrationPromise:Promise.reject(We.create("app-offline"))};const S={fid:D.fid,registrationStatus:1,registrationTime:Date.now()},N=function re(E,D){return ze.apply(this,arguments)}(E,S);return{installationEntry:S,registrationPromise:N}}return 1===D.registrationStatus?{installationEntry:D,registrationPromise:it(E)}:{installationEntry:D}}(E,$);return D=Z.registrationPromise,Z.installationEntry});return S.fid===nt?{installationEntry:yield D}:{installationEntry:S,registrationPromise:D}}),L.apply(this,arguments)}function ze(){return ze=(0,P.Z)(function*(E,D){try{const S=yield function ji(E,D){return Dr.apply(this,arguments)}(E,D);return Tn(E.appConfig,S)}catch(S){throw ke(S)&&409===S.customData.serverCode?yield Ci(E.appConfig):yield Tn(E.appConfig,{fid:D.fid,registrationStatus:0}),S}}),ze.apply(this,arguments)}function it(E){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,P.Z)(function*(E){let D=yield kt(E.appConfig);for(;1===D.registrationStatus;)yield wr(100),D=yield kt(E.appConfig);if(0===D.registrationStatus){const{installationEntry:S,registrationPromise:N}=yield U(E);return N||S}return D})).apply(this,arguments)}function kt(E){return zr(E,D=>{if(!D)throw We.create("installation-not-found");return pn(D)})}function pn(E){return function ht(E){return 1===E.registrationStatus&&E.registrationTime+ms<Date.now()}(E)?{fid:E.fid,registrationStatus:0}:E}function kn(){return(kn=(0,P.Z)(function*({appConfig:E,heartbeatServiceProvider:D},S){const N=function lr(E,{fid:D}){return`${nn(E)}/${D}/authTokens:generate`}(E,S),$=function Yt(E,{refreshToken:D}){const S=qt(E);return S.append("Authorization",function Ir(E){return`${se} ${E}`}(D)),S}(E,S),Z=D.getImmediate({optional:!0});if(Z){const Ye=yield Z.getHeartbeatsHeader();Ye&&$.append("x-firebase-client",Ye)}const je={method:"POST",headers:$,body:JSON.stringify({installation:{sdkVersion:Bi,appId:E.appId}})},xe=yield bn(()=>fetch(N,je));if(xe.ok)return tt(yield xe.json());throw yield xt("Generate Auth Token",xe)})).apply(this,arguments)}function Ii(E){return Po.apply(this,arguments)}function Po(){return Po=(0,P.Z)(function*(E,D=!1){let S;const N=yield zr(E.appConfig,Z=>{if(!He(Z))throw We.create("not-registered");const oe=Z.authToken;if(!D&&function Rt(E){return 2===E.requestStatus&&!function gn(E){const D=Date.now();return D<E.creationTime||E.creationTime+E.expiresIn<D+fe}(E)}(oe))return Z;if(1===oe.requestStatus)return S=function ce(E,D){return J.apply(this,arguments)}(E,D),Z;{if(!navigator.onLine)throw We.create("app-offline");const je=function ln(E){const D={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},E),{authToken:D})}(Z);return S=function Ke(E,D){return Xe.apply(this,arguments)}(E,je),je}});return S?yield S:N.authToken}),Po.apply(this,arguments)}function J(){return(J=(0,P.Z)(function*(E,D){let S=yield Ae(E.appConfig);for(;1===S.authToken.requestStatus;)yield wr(100),S=yield Ae(E.appConfig);const N=S.authToken;return 0===N.requestStatus?Ii(E,D):N})).apply(this,arguments)}function Ae(E){return zr(E,D=>{if(!He(D))throw We.create("not-registered");return function si(E){return 1===E.requestStatus&&E.requestTime+ms<Date.now()}(D.authToken)?Object.assign(Object.assign({},D),{authToken:{requestStatus:0}}):D})}function Xe(){return Xe=(0,P.Z)(function*(E,D){try{const S=yield function Tt(E,D){return kn.apply(this,arguments)}(E,D),N=Object.assign(Object.assign({},D),{authToken:S});return yield Tn(E.appConfig,N),S}catch(S){if(!ke(S)||401!==S.customData.serverCode&&404!==S.customData.serverCode){const N=Object.assign(Object.assign({},D),{authToken:{requestStatus:0}});yield Tn(E.appConfig,N)}else yield Ci(E.appConfig);throw S}}),Xe.apply(this,arguments)}function He(E){return void 0!==E&&2===E.registrationStatus}function Di(){return(Di=(0,P.Z)(function*(E){const D=E,{installationEntry:S,registrationPromise:N}=yield U(D);return N?N.catch(console.error):Ii(D).catch(console.error),S.fid})).apply(this,arguments)}function Da(){return Da=(0,P.Z)(function*(E,D=!1){const S=E;return yield function wa(E){return Pr.apply(this,arguments)}(S),(yield Ii(S,D)).token}),Da.apply(this,arguments)}function Pr(){return(Pr=(0,P.Z)(function*(E){const{registrationPromise:D}=yield U(E);D&&(yield D)})).apply(this,arguments)}function Gn(E){return We.create("missing-app-config-values",{valueName:E})}const yc="installations",Vf=E=>{const D=E.getProvider("app").getImmediate(),S=function Sa(E){if(!E||!E.options)throw Gn("App Configuration");if(!E.name)throw Gn("App Name");const D=["projectId","apiKey","appId"];for(const S of D)if(!E.options[S])throw Gn(S);return{appName:E.name,projectId:E.options.projectId,apiKey:E.options.apiKey,appId:E.options.appId}}(D);return{app:D,appConfig:S,heartbeatServiceProvider:(0,X._getProvider)(D,"heartbeat"),_delete:()=>Promise.resolve()}},_s=E=>{const D=E.getProvider("app").getImmediate(),S=(0,X._getProvider)(D,yc).getImmediate();return{getId:()=>function ur(E){return Di.apply(this,arguments)}(S),getToken:$=>function Ml(E){return Da.apply(this,arguments)}(S,$)}};(function ch(){(0,X._registerComponent)(new ue.wA(yc,Vf,"PUBLIC")),(0,X._registerComponent)(new ue.wA("installations-internal",_s,"PRIVATE"))})(),(0,X.registerVersion)(yi,fn),(0,X.registerVersion)(yi,fn,"esm2017");const Aa="@firebase/remote-config",Fn=new ne.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Fe{constructor(D,S,N,$){this.client=D,this.storage=S,this.storageCache=N,this.logger=$}isCachedDataFresh(D,S){if(!S)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const N=Date.now()-S,$=N<=D;return this.logger.debug(`Config fetch cache check. Cache age millis: ${N}. Cache max age millis (minimumFetchIntervalMillis setting): ${D}. Is cache hit: ${$}.`),$}fetch(D){var S=this;return(0,P.Z)(function*(){const[N,$]=yield Promise.all([S.storage.getLastSuccessfulFetchTimestampMillis(),S.storage.getLastSuccessfulFetchResponse()]);if($&&S.isCachedDataFresh(D.cacheMaxAgeMillis,N))return $;D.eTag=$&&$.eTag;const Z=yield S.client.fetch(D),oe=[S.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Z.status&&oe.push(S.storage.setLastSuccessfulFetchResponse(Z)),yield Promise.all(oe),Z})()}}function mt(E=navigator){return E.languages&&E.languages[0]||E.language}class Ht{constructor(D,S,N,$,Z,oe){this.firebaseInstallations=D,this.sdkVersion=S,this.namespace=N,this.projectId=$,this.apiKey=Z,this.appId=oe}fetch(D){var S=this;return(0,P.Z)(function*(){const[N,$]=yield Promise.all([S.firebaseInstallations.getId(),S.firebaseInstallations.getToken()]),oe=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${S.projectId}/namespaces/${S.namespace}:fetch?key=${S.apiKey}`,je={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":D.eTag||"*"},xe={sdk_version:S.sdkVersion,app_instance_id:N,app_instance_id_token:$,app_id:S.appId,language_code:mt()},Ye={method:"POST",headers:je,body:JSON.stringify(xe)},ft=fetch(oe,Ye),ut=new Promise((vr,yr)=>{D.signal.addEventListener(()=>{const Su=new Error("The operation was aborted.");Su.name="AbortError",yr(Su)})});let rr;try{yield Promise.race([ft,ut]),rr=yield ft}catch(vr){let yr="fetch-client-network";throw"AbortError"===vr?.name&&(yr="fetch-timeout"),Fn.create(yr,{originalErrorMessage:vr?.message})}let Kt=rr.status;const Oi=rr.headers.get("ETag")||void 0;let Tu,Wt;if(200===rr.status){let vr;try{vr=yield rr.json()}catch(yr){throw Fn.create("fetch-client-parse",{originalErrorMessage:yr?.message})}Tu=vr.entries,Wt=vr.state}if("INSTANCE_STATE_UNSPECIFIED"===Wt?Kt=500:"NO_CHANGE"===Wt?Kt=304:("NO_TEMPLATE"===Wt||"EMPTY_CONFIG"===Wt)&&(Tu={}),304!==Kt&&200!==Kt)throw Fn.create("fetch-status",{httpStatus:Kt});return{status:Kt,eTag:Oi,config:Tu}})()}}class tr{constructor(D,S){this.client=D,this.storage=S}fetch(D){var S=this;return(0,P.Z)(function*(){const N=(yield S.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return S.attemptFetch(D,N)})()}attemptFetch(D,{throttleEndTimeMillis:S,backoffCount:N}){var $=this;return(0,P.Z)(function*(){yield function br(E,D){return new Promise((S,N)=>{const $=Math.max(D-Date.now(),0),Z=setTimeout(S,$);E.addEventListener(()=>{clearTimeout(Z),N(Fn.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(D.signal,S);try{const Z=yield $.client.fetch(D);return yield $.storage.deleteThrottleMetadata(),Z}catch(Z){if(!function eo(E){if(!(E instanceof ne.ZR&&E.customData))return!1;const D=Number(E.customData.httpStatus);return 429===D||500===D||503===D||504===D}(Z))throw Z;const oe={throttleEndTimeMillis:Date.now()+(0,ne.$s)(N),backoffCount:N+1};return yield $.storage.setThrottleMetadata(oe),$.attemptFetch(D,oe)}})()}}class Zi{constructor(D,S,N,$,Z){this.app=D,this._client=S,this._storageCache=N,this._storage=$,this._logger=Z,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Zr(E,D){const S=E.target.error||void 0;return Fn.create(D,{originalErrorMessage:S&&S?.message})}const et="app_namespace_store";class vn{constructor(D,S,N,$=function wi(){return new Promise((E,D)=>{try{const S=indexedDB.open("firebase_remote_config",1);S.onerror=N=>{D(Zr(N,"storage-open"))},S.onsuccess=N=>{E(N.target.result)},S.onupgradeneeded=N=>{0===N.oldVersion&&N.target.result.createObjectStore(et,{keyPath:"compositeKey"})}}catch(S){D(Fn.create("storage-open",{originalErrorMessage:S?.message}))}})}()){this.appId=D,this.appName=S,this.namespace=N,this.openDbPromise=$}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(D){return this.set("last_fetch_status",D)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(D){return this.set("last_successful_fetch_timestamp_millis",D)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(D){return this.set("last_successful_fetch_response",D)}getActiveConfig(){return this.get("active_config")}setActiveConfig(D){return this.set("active_config",D)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(D){return this.set("active_config_etag",D)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(D){return this.set("throttle_metadata",D)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(D){var S=this;return(0,P.Z)(function*(){const N=yield S.openDbPromise;return new Promise(($,Z)=>{const je=N.transaction([et],"readonly").objectStore(et),xe=S.createCompositeKey(D);try{const Ye=je.get(xe);Ye.onerror=ft=>{Z(Zr(ft,"storage-get"))},Ye.onsuccess=ft=>{const ut=ft.target.result;$(ut?ut.value:void 0)}}catch(Ye){Z(Fn.create("storage-get",{originalErrorMessage:Ye?.message}))}})})()}set(D,S){var N=this;return(0,P.Z)(function*(){const $=yield N.openDbPromise;return new Promise((Z,oe)=>{const xe=$.transaction([et],"readwrite").objectStore(et),Ye=N.createCompositeKey(D);try{const ft=xe.put({compositeKey:Ye,value:S});ft.onerror=ut=>{oe(Zr(ut,"storage-set"))},ft.onsuccess=()=>{Z()}}catch(ft){oe(Fn.create("storage-set",{originalErrorMessage:ft?.message}))}})})()}delete(D){var S=this;return(0,P.Z)(function*(){const N=yield S.openDbPromise;return new Promise(($,Z)=>{const je=N.transaction([et],"readwrite").objectStore(et),xe=S.createCompositeKey(D);try{const Ye=je.delete(xe);Ye.onerror=ft=>{Z(Zr(ft,"storage-delete"))},Ye.onsuccess=()=>{$()}}catch(Ye){Z(Fn.create("storage-delete",{originalErrorMessage:Ye?.message}))}})})()}createCompositeKey(D){return[this.appId,this.appName,this.namespace,D].join()}}class to{constructor(D){this.storage=D}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var D=this;return(0,P.Z)(function*(){const S=D.storage.getLastFetchStatus(),N=D.storage.getLastSuccessfulFetchTimestampMillis(),$=D.storage.getActiveConfig(),Z=yield S;Z&&(D.lastFetchStatus=Z);const oe=yield N;oe&&(D.lastSuccessfulFetchTimestampMillis=oe);const je=yield $;je&&(D.activeConfig=je)})()}setLastFetchStatus(D){return this.lastFetchStatus=D,this.storage.setLastFetchStatus(D)}setLastSuccessfulFetchTimestampMillis(D){return this.lastSuccessfulFetchTimestampMillis=D,this.storage.setLastSuccessfulFetchTimestampMillis(D)}setActiveConfig(D){return this.activeConfig=D,this.storage.setActiveConfig(D)}}function Cc(){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,P.Z)(function*(){if(!(0,ne.hl)())return!1;try{return yield(0,ne.eu)()}catch{return!1}})).apply(this,arguments)}!function dr(){(0,X._registerComponent)(new ue.wA("remote-config",function E(D,{instanceIdentifier:S}){const N=D.getProvider("app").getImmediate(),$=D.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Fn.create("registration-window");if(!(0,ne.hl)())throw Fn.create("indexed-db-unavailable");const{projectId:Z,apiKey:oe,appId:je}=N.options;if(!Z)throw Fn.create("registration-project-id");if(!oe)throw Fn.create("registration-api-key");if(!je)throw Fn.create("registration-app-id");const xe=new vn(je,N.name,S=S||"firebase"),Ye=new to(xe),ft=new de.Yd(Aa);ft.logLevel=de.in.ERROR;const ut=new Ht($,X.SDK_VERSION,S,Z,oe,je),rr=new tr(ut,xe),Kt=new Fe(rr,xe,Ye,ft),Oi=new Zi(N,Kt,Ye,xe,ft);return function Ln(E){const D=(0,ne.m9)(E);D._initializePromise||(D._initializePromise=D._storageCache.loadFromStorage().then(()=>{D._isInitializationComplete=!0}))}(Oi),Oi},"PUBLIC").setMultipleInstances(!0)),(0,X.registerVersion)(Aa,"0.4.4"),(0,X.registerVersion)(Aa,"0.4.4","esm2017")}();const bi=(E,D)=>D.some(S=>E instanceof S);let Ki,oi;const xo=new WeakMap,ai=new WeakMap,Tr=new WeakMap,Wn=new WeakMap,Ti=new WeakMap;let xa={get(E,D,S){if(E instanceof IDBTransaction){if("done"===D)return ai.get(E);if("objectStoreNames"===D)return E.objectStoreNames||Tr.get(E);if("store"===D)return S.objectStoreNames[1]?void 0:S.objectStore(S.objectStoreNames[0])}return Zn(E[D])},set:(E,D,S)=>(E[D]=S,!0),has:(E,D)=>E instanceof IDBTransaction&&("done"===D||"store"===D)||D in E};function jl(E){return"function"==typeof E?function zn(E){return E!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Bl(){return oi||(oi=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(E)?function(...D){return E.apply(ys(this),D),Zn(xo.get(this))}:function(...D){return Zn(E.apply(ys(this),D))}:function(D,...S){const N=E.call(ys(this),D,...S);return Tr.set(N,D.sort?D.sort():[D]),Zn(N)}}(E):(E instanceof IDBTransaction&&function An(E){if(ai.has(E))return;const D=new Promise((S,N)=>{const $=()=>{E.removeEventListener("complete",Z),E.removeEventListener("error",oe),E.removeEventListener("abort",oe)},Z=()=>{S(),$()},oe=()=>{N(E.error||new DOMException("AbortError","AbortError")),$()};E.addEventListener("complete",Z),E.addEventListener("error",oe),E.addEventListener("abort",oe)});ai.set(E,D)}(E),bi(E,function St(){return Ki||(Ki=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(E,xa):E)}function Zn(E){if(E instanceof IDBRequest)return function ko(E){const D=new Promise((S,N)=>{const $=()=>{E.removeEventListener("success",Z),E.removeEventListener("error",oe)},Z=()=>{S(Zn(E.result)),$()},oe=()=>{N(E.error),$()};E.addEventListener("success",Z),E.addEventListener("error",oe)});return D.then(S=>{S instanceof IDBCursor&&xo.set(S,E)}).catch(()=>{}),Ti.set(D,E),D}(E);if(Wn.has(E))return Wn.get(E);const D=jl(E);return D!==E&&(Wn.set(E,D),Ti.set(D,E)),D}const ys=E=>Ti.get(E);function fr(E,D,{blocked:S,upgrade:N,blocking:$,terminated:Z}={}){const oe=indexedDB.open(E,D),je=Zn(oe);return N&&oe.addEventListener("upgradeneeded",xe=>{N(Zn(oe.result),xe.oldVersion,xe.newVersion,Zn(oe.transaction))}),S&&oe.addEventListener("blocked",()=>S()),je.then(xe=>{Z&&xe.addEventListener("close",()=>Z()),$&&xe.addEventListener("versionchange",()=>$())}).catch(()=>{}),je}function qi(E,{blocked:D}={}){const S=indexedDB.deleteDatabase(E);return D&&S.addEventListener("blocked",()=>D()),Zn(S).then(()=>{})}const Hl=["get","getKey","getAll","getAllKeys","count"],hh=["put","add","delete","clear"],$l=new Map;function Gl(E,D){if(!(E instanceof IDBDatabase)||D in E||"string"!=typeof D)return;if($l.get(D))return $l.get(D);const S=D.replace(/FromIndex$/,""),N=D!==S,$=hh.includes(S);if(!(S in(N?IDBIndex:IDBObjectStore).prototype)||!$&&!Hl.includes(S))return;const Z=function(){var oe=(0,P.Z)(function*(je,...xe){const Ye=this.transaction(je,$?"readwrite":"readonly");let ft=Ye.store;return N&&(ft=ft.index(xe.shift())),(yield Promise.all([ft[S](...xe),$&&Ye.done]))[0]});return function(xe){return oe.apply(this,arguments)}}();return $l.set(D,Z),Z}!function nr(E){xa=E(xa)}(E=>({...E,get:(D,S,N)=>Gl(D,S)||E.get(D,S,N),has:(D,S)=>!!Gl(D,S)||E.has(D,S)}));const Wl="/firebase-messaging-sw.js",zl="/firebase-cloud-messaging-push-scope",Ic="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Uf="https://fcmregistrations.googleapis.com/v1",Qt="google.c.a.c_id",Bf="google.c.a.c_l",fh="google.c.a.ts";var Dc=function(E){return E.PUSH_RECEIVED="push-received",E.NOTIFICATION_CLICKED="notification-clicked",E}(Dc||{});function Si(E){const D=new Uint8Array(E);return btoa(String.fromCharCode(...D)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Zl(E){const S=(E+"=".repeat((4-E.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),N=atob(S),$=new Uint8Array(N.length);for(let Z=0;Z<N.length;++Z)$[Z]=N.charCodeAt(Z);return $}const ka="fcm_token_details_db",Kl=5,Es="fcm_token_object_Store";function Fo(){return Fo=(0,P.Z)(function*(E){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Z=>Z.name).includes(ka))return null;let D=null;return(yield fr(ka,Kl,{upgrade:(N=(0,P.Z)(function*($,Z,oe,je){var xe;if(Z<2||!$.objectStoreNames.contains(Es))return;const Ye=je.objectStore(Es),ft=yield Ye.index("fcmSenderId").get(E);if(yield Ye.clear(),ft)if(2===Z){const ut=ft;if(!ut.auth||!ut.p256dh||!ut.endpoint)return;D={token:ut.fcmToken,createTime:null!==(xe=ut.createTime)&&void 0!==xe?xe:Date.now(),subscriptionOptions:{auth:ut.auth,p256dh:ut.p256dh,endpoint:ut.endpoint,swScope:ut.swScope,vapidKey:"string"==typeof ut.vapidKey?ut.vapidKey:Si(ut.vapidKey)}}}else if(3===Z){const ut=ft;D={token:ut.fcmToken,createTime:ut.createTime,subscriptionOptions:{auth:Si(ut.auth),p256dh:Si(ut.p256dh),endpoint:ut.endpoint,swScope:ut.swScope,vapidKey:Si(ut.vapidKey)}}}else if(4===Z){const ut=ft;D={token:ut.fcmToken,createTime:ut.createTime,subscriptionOptions:{auth:Si(ut.auth),p256dh:Si(ut.p256dh),endpoint:ut.endpoint,swScope:ut.swScope,vapidKey:Si(ut.vapidKey)}}}}),function(Z,oe,je,xe){return N.apply(this,arguments)})})).close(),yield qi(ka),yield qi("fcm_vapid_details_db"),yield qi("undefined"),function jf(E){if(!E||!E.subscriptionOptions)return!1;const{subscriptionOptions:D}=E;return"number"==typeof E.createTime&&E.createTime>0&&"string"==typeof E.token&&E.token.length>0&&"string"==typeof D.auth&&D.auth.length>0&&"string"==typeof D.p256dh&&D.p256dh.length>0&&"string"==typeof D.endpoint&&D.endpoint.length>0&&"string"==typeof D.swScope&&D.swScope.length>0&&"string"==typeof D.vapidKey&&D.vapidKey.length>0}(D)?D:null;var N}),Fo.apply(this,arguments)}const Ai="firebase-messaging-database",li=1,Lr="firebase-messaging-store";let wc=null;function mn(){return wc||(wc=fr(Ai,li,{upgrade:(E,D)=>{0===D&&E.createObjectStore(Lr)}})),wc}function no(E){return Un.apply(this,arguments)}function Un(){return Un=(0,P.Z)(function*(E){const D=ro(E),N=yield(yield mn()).transaction(Lr).objectStore(Lr).get(D);if(N)return N;{const $=yield function om(E){return Fo.apply(this,arguments)}(E.appConfig.senderId);if($)return yield ql(E,$),$}}),Un.apply(this,arguments)}function ql(E,D){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,P.Z)(function*(E,D){const S=ro(E),$=(yield mn()).transaction(Lr,"readwrite");return yield $.objectStore(Lr).put(D,S),yield $.done,D})).apply(this,arguments)}function Vo(){return(Vo=(0,P.Z)(function*(E){const D=ro(E),N=(yield mn()).transaction(Lr,"readwrite");yield N.objectStore(Lr).delete(D),yield N.done})).apply(this,arguments)}function ro({appConfig:E}){return E.appId}const Mn=new ne.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Fa(E,D){return Yl.apply(this,arguments)}function Yl(){return(Yl=(0,P.Z)(function*(E,D){const S=yield La(E),N=Hf(D),$={method:"POST",headers:S,body:JSON.stringify(N)};let Z;try{Z=yield(yield fetch(Mi(E.appConfig),$)).json()}catch(oe){throw Mn.create("token-subscribe-failed",{errorInfo:oe?.toString()})}if(Z.error)throw Mn.create("token-subscribe-failed",{errorInfo:Z.error.message});if(!Z.token)throw Mn.create("token-subscribe-no-token");return Z.token})).apply(this,arguments)}function Jl(){return(Jl=(0,P.Z)(function*(E,D){const S=yield La(E),N=Hf(D.subscriptionOptions),$={method:"PATCH",headers:S,body:JSON.stringify(N)};let Z;try{Z=yield(yield fetch(`${Mi(E.appConfig)}/${D.token}`,$)).json()}catch(oe){throw Mn.create("token-update-failed",{errorInfo:oe?.toString()})}if(Z.error)throw Mn.create("token-update-failed",{errorInfo:Z.error.message});if(!Z.token)throw Mn.create("token-update-no-token");return Z.token})).apply(this,arguments)}function io(E,D){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,P.Z)(function*(E,D){const N={method:"DELETE",headers:yield La(E)};try{const Z=yield(yield fetch(`${Mi(E.appConfig)}/${D}`,N)).json();if(Z.error)throw Mn.create("token-unsubscribe-failed",{errorInfo:Z.error.message})}catch($){throw Mn.create("token-unsubscribe-failed",{errorInfo:$?.toString()})}})).apply(this,arguments)}function Mi({projectId:E}){return`${Uf}/projects/${E}/registrations`}function La(E){return Va.apply(this,arguments)}function Va(){return(Va=(0,P.Z)(function*({appConfig:E,installations:D}){const S=yield D.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E.apiKey,"x-goog-firebase-installations-auth":`FIS ${S}`})})).apply(this,arguments)}function Hf({p256dh:E,auth:D,endpoint:S,vapidKey:N}){const $={web:{endpoint:S,auth:D,p256dh:E}};return N!==Ic&&($.web.applicationPubKey=N),$}const mh=6048e5;function Ua(){return Ua=(0,P.Z)(function*(E){const D=yield function ja(E,D){return Tc.apply(this,arguments)}(E.swRegistration,E.vapidKey),S={vapidKey:E.vapidKey,swScope:E.swRegistration.scope,endpoint:D.endpoint,auth:Si(D.getKey("auth")),p256dh:Si(D.getKey("p256dh"))},N=yield no(E.firebaseDependencies);if(N){if(function Sc(E,D){return D.vapidKey===E.vapidKey&&D.endpoint===E.endpoint&&D.auth===E.auth&&D.p256dh===E.p256dh}(N.subscriptionOptions,S))return Date.now()>=N.createTime+mh?function eu(E,D){return Ba.apply(this,arguments)}(E,{token:N.token,createTime:Date.now(),subscriptionOptions:S}):N.token;try{yield io(E.firebaseDependencies,N.token)}catch($){console.warn($)}return tu(E.firebaseDependencies,S)}return tu(E.firebaseDependencies,S)}),Ua.apply(this,arguments)}function Xl(){return Xl=(0,P.Z)(function*(E){const D=yield no(E.firebaseDependencies);D&&(yield io(E.firebaseDependencies,D.token),yield function bc(E){return Vo.apply(this,arguments)}(E.firebaseDependencies));const S=yield E.swRegistration.pushManager.getSubscription();return!S||S.unsubscribe()}),Xl.apply(this,arguments)}function Ba(){return Ba=(0,P.Z)(function*(E,D){try{const S=yield function Ql(E,D){return Jl.apply(this,arguments)}(E.firebaseDependencies,D),N=Object.assign(Object.assign({},D),{token:S,createTime:Date.now()});return yield ql(E.firebaseDependencies,N),S}catch(S){throw yield function Gf(E){return Xl.apply(this,arguments)}(E),S}}),Ba.apply(this,arguments)}function tu(E,D){return so.apply(this,arguments)}function so(){return(so=(0,P.Z)(function*(E,D){const N={token:yield Fa(E,D),createTime:Date.now(),subscriptionOptions:D};return yield ql(E,N),N.token})).apply(this,arguments)}function Tc(){return(Tc=(0,P.Z)(function*(E,D){return(yield E.pushManager.getSubscription())||E.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Zl(D)})})).apply(this,arguments)}function Uo(E){const D={from:E.from,collapseKey:E.collapse_key,messageId:E.fcmMessageId};return function Bo(E,D){if(!D.notification)return;E.notification={};const S=D.notification.title;S&&(E.notification.title=S);const N=D.notification.body;N&&(E.notification.body=N);const $=D.notification.image;$&&(E.notification.image=$);const Z=D.notification.icon;Z&&(E.notification.icon=Z)}(D,E),function _h(E,D){D.data&&(E.data=D.data)}(D,E),function nu(E,D){var S,N,$,Z,oe;if(!(D.fcmOptions||null!==(S=D.notification)&&void 0!==S&&S.click_action))return;E.fcmOptions={};const je=null!==($=null===(N=D.fcmOptions)||void 0===N?void 0:N.link)&&void 0!==$?$:null===(Z=D.notification)||void 0===Z?void 0:Z.click_action;je&&(E.fcmOptions.link=je);const xe=null===(oe=D.fcmOptions)||void 0===oe?void 0:oe.analytics_label;xe&&(E.fcmOptions.analyticsLabel=xe)}(D,E),D}function Ac(E,D){const S=[];for(let N=0;N<E.length;N++)S.push(E.charAt(N)),N<D.length&&S.push(D.charAt(N));return S.join("")}function Ha(E){return Mn.create("missing-app-config-values",{valueName:E})}Ac("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ac("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class zf{constructor(D,S,N){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const $=function Mc(E){if(!E||!E.options)throw Ha("App Configuration Object");if(!E.name)throw Ha("App Name");const D=["projectId","apiKey","appId","messagingSenderId"],{options:S}=E;for(const N of D)if(!S[N])throw Ha(N);return{appName:E.name,projectId:S.projectId,apiKey:S.apiKey,appId:S.appId,senderId:S.messagingSenderId}}(D);this.firebaseDependencies={app:D,appConfig:$,installations:S,analyticsProvider:N}}_delete(){return Promise.resolve()}}function oo(){return(oo=(0,P.Z)(function*(E){try{E.swRegistration=yield navigator.serviceWorker.register(Wl,{scope:zl}),E.swRegistration.update().catch(()=>{})}catch(D){throw Mn.create("failed-service-worker-registration",{browserErrorMessage:D?.message})}})).apply(this,arguments)}function Is(){return(Is=(0,P.Z)(function*(E,D){if(!D&&!E.swRegistration&&(yield function Rc(E){return oo.apply(this,arguments)}(E)),D||!E.swRegistration){if(!(D instanceof ServiceWorkerRegistration))throw Mn.create("invalid-sw-registration");E.swRegistration=D}})).apply(this,arguments)}function Ds(){return(Ds=(0,P.Z)(function*(E,D){D?E.vapidKey=D:E.vapidKey||(E.vapidKey=Ic)})).apply(this,arguments)}function iu(){return iu=(0,P.Z)(function*(E,D){if(!navigator)throw Mn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Mn.create("permission-blocked");return yield function Ri(E,D){return Ds.apply(this,arguments)}(E,D?.vapidKey),yield function Nc(E,D){return Is.apply(this,arguments)}(E,D?.serviceWorkerRegistration),function $f(E){return Ua.apply(this,arguments)}(E)}),iu.apply(this,arguments)}function Oc(){return(Oc=(0,P.Z)(function*(E,D,S){const N=function ui(E){switch(E){case Dc.NOTIFICATION_CLICKED:return"notification_open";case Dc.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(D);(yield E.firebaseDependencies.analyticsProvider.get()).logEvent(N,{message_id:S[Qt],message_name:S[Bf],message_time:S[fh],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ws(){return ws=(0,P.Z)(function*(E,D){const S=D.data;if(!S.isFirebaseMessaging)return;E.onMessageHandler&&S.messageType===Dc.PUSH_RECEIVED&&("function"==typeof E.onMessageHandler?E.onMessageHandler(Uo(S)):E.onMessageHandler.next(Uo(S)));const N=S.data;(function Wf(E){return"object"==typeof E&&!!E&&Qt in E})(N)&&"1"===N["google.c.a.e"]&&(yield function su(E,D,S){return Oc.apply(this,arguments)}(E,S.messageType,N))}),ws.apply(this,arguments)}const Ut="@firebase/messaging",bs=E=>{const D=new zf(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),E.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",S=>function Pc(E,D){return ws.apply(this,arguments)}(D,S)),D},pr=E=>{const D=E.getProvider("messaging").getImmediate();return{getToken:N=>function ru(E,D){return iu.apply(this,arguments)}(D,N)}};function ou(){return ci.apply(this,arguments)}function ci(){return(ci=(0,P.Z)(function*(){try{yield(0,ne.eu)()}catch{return!1}return typeof window<"u"&&(0,ne.hl)()&&(0,ne.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function xc(){(0,X._registerComponent)(new ue.wA("messaging",bs,"PUBLIC")),(0,X._registerComponent)(new ue.wA("messaging-internal",pr,"PRIVATE")),(0,X.registerVersion)(Ut,"0.12.4"),(0,X.registerVersion)(Ut,"0.12.4","esm2017")}();const zt="analytics",yh="firebase_id",lu="origin",lt=6e4,Ga="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",uu="https://www.googletagmanager.com/gtag/js",Rn=new de.Yd("@firebase/analytics"),Kn=new ne.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function uo(E){if(!E.startsWith(uu)){const D=Kn.create("invalid-gtag-resource",{gtagURL:E});return Rn.warn(D.message),""}return E}function Yi(E){return Promise.all(E.map(D=>D.catch(S=>S)))}function jo(){return(jo=(0,P.Z)(function*(E,D,S,N,$,Z){const oe=N[$];try{if(oe)yield D[oe];else{const xe=(yield Yi(S)).find(Ye=>Ye.measurementId===$);xe&&(yield D[xe.appId])}}catch(je){Rn.error(je)}E("config",$,Z)})).apply(this,arguments)}function _t(){return(_t=(0,P.Z)(function*(E,D,S,N,$){try{let Z=[];if($&&$.send_to){let oe=$.send_to;Array.isArray(oe)||(oe=[oe]);const je=yield Yi(S);for(const xe of oe){const Ye=je.find(ut=>ut.measurementId===xe),ft=Ye&&D[Ye.appId];if(!ft){Z=[];break}Z.push(ft)}}0===Z.length&&(Z=Object.values(D)),yield Promise.all(Z),E("event",N,$||{})}catch(Z){Rn.error(Z)}})).apply(this,arguments)}const hu=30,pu=new class gr{constructor(D={},S=1e3){this.throttleMetadata=D,this.intervalMillis=S}getThrottleMetadata(D){return this.throttleMetadata[D]}setThrottleMetadata(D,S){this.throttleMetadata[D]=S}deleteThrottleMetadata(D){delete this.throttleMetadata[D]}};function gu(E){return new Headers({Accept:"application/json","x-goog-api-key":E})}function Eh(){return(Eh=(0,P.Z)(function*(E){var D;const{appId:S,apiKey:N}=E,$={method:"GET",headers:gu(N)},Z=Ga.replace("{app-id}",S),oe=yield fetch(Z,$);if(200!==oe.status&&304!==oe.status){let je="";try{const xe=yield oe.json();null!==(D=xe.error)&&void 0!==D&&D.message&&(je=xe.error.message)}catch{}throw Kn.create("config-fetch-failed",{httpStatus:oe.status,responseMessage:je})}return oe.json()})).apply(this,arguments)}function En(){return(En=(0,P.Z)(function*(E,D=pu,S){const{appId:N,apiKey:$,measurementId:Z}=E.options;if(!N)throw Kn.create("no-app-id");if(!$){if(Z)return{measurementId:Z,appId:N};throw Kn.create("no-api-key")}const oe=D.getThrottleMetadata(N)||{backoffCount:0,throttleEndTimeMillis:Date.now()},je=new Ih;return setTimeout((0,P.Z)(function*(){je.abort()}),void 0!==S?S:lt),Ni({appId:N,apiKey:$,measurementId:Z},oe,je,D)})).apply(this,arguments)}function Ni(E,D,S){return mu.apply(this,arguments)}function mu(){return mu=(0,P.Z)(function*(E,{throttleEndTimeMillis:D,backoffCount:S},N,$=pu){var Z;const{appId:oe,measurementId:je}=E;try{yield function Ho(E,D){return new Promise((S,N)=>{const $=Math.max(D-Date.now(),0),Z=setTimeout(S,$);E.addEventListener(()=>{clearTimeout(Z),N(Kn.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(N,D)}catch(xe){if(je)return Rn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${je} provided in the "measurementId" field in the local Firebase config. [${xe?.message}]`),{appId:oe,measurementId:je};throw xe}try{const xe=yield function qf(E){return Eh.apply(this,arguments)}(E);return $.deleteThrottleMetadata(oe),xe}catch(xe){const Ye=xe;if(!function di(E){if(!(E instanceof ne.ZR&&E.customData))return!1;const D=Number(E.customData.httpStatus);return 429===D||500===D||503===D||504===D}(Ye)){if($.deleteThrottleMetadata(oe),je)return Rn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${je} provided in the "measurementId" field in the local Firebase config. [${Ye?.message}]`),{appId:oe,measurementId:je};throw xe}const ft=503===Number(null===(Z=Ye?.customData)||void 0===Z?void 0:Z.httpStatus)?(0,ne.$s)(S,$.intervalMillis,hu):(0,ne.$s)(S,$.intervalMillis),ut={throttleEndTimeMillis:Date.now()+ft,backoffCount:S+1};return $.setThrottleMetadata(oe,ut),Rn.debug(`Calling attemptFetch again in ${ft} millis`),Ni(E,ut,N,$)}}),mu.apply(this,arguments)}class Ih{constructor(){this.listeners=[]}addEventListener(D){this.listeners.push(D)}abort(){this.listeners.forEach(D=>D())}}let $o,_r;function Lc(){return(Lc=(0,P.Z)(function*(E,D,S,N,$){if($&&$.global)E("event",S,N);else{const Z=yield D;E("event",S,Object.assign(Object.assign({},N),{send_to:Z}))}})).apply(this,arguments)}function Bn(){return(Bn=(0,P.Z)(function*(){if(!(0,ne.hl)())return Rn.warn(Kn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ne.eu)()}catch(E){return Rn.warn(Kn.create("indexeddb-unavailable",{errorInfo:E?.toString()}).message),!1}return!0})).apply(this,arguments)}function jt(){return jt=(0,P.Z)(function*(E,D,S,N,$,Z,oe){var je;const xe=function Ch(E){return En.apply(this,arguments)}(E);xe.then(Kt=>{S[Kt.measurementId]=Kt.appId,E.options.measurementId&&Kt.measurementId!==E.options.measurementId&&Rn.warn(`The measurement ID in the local Firebase config (${E.options.measurementId}) does not match the measurement ID fetched from the server (${Kt.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Kt=>Rn.error(Kt)),D.push(xe);const Ye=function _u(){return Bn.apply(this,arguments)}().then(Kt=>{if(Kt)return N.getId()}),[ft,ut]=yield Promise.all([xe,Ye]);(function yn(E){const D=window.document.getElementsByTagName("script");for(const S of Object.values(D))if(S.src&&S.src.includes(uu)&&S.src.includes(E))return S;return null})(Z)||function za(E,D){const S=function Wa(E,D){let S;return window.trustedTypes&&(S=window.trustedTypes.createPolicy(E,D)),S}("firebase-js-sdk-policy",{createScriptURL:uo}),N=document.createElement("script"),$=`${uu}?l=${E}&id=${D}`;N.src=S?S?.createScriptURL($):$,N.async=!0,document.head.appendChild(N)}(Z,ft.measurementId),_r&&($("consent","default",_r),function ho(E){_r=E}(void 0)),$("js",new Date);const rr=null!==(je=oe?.config)&&void 0!==je?je:{};return rr[lu]="firebase",rr.update=!0,null!=ut&&(rr[yh]=ut),$("config",ft.measurementId,rr),$o&&($("set",$o),function Wo(E){$o=E}(void 0)),ft.measurementId}),jt.apply(this,arguments)}class qr{constructor(D){this.app=D}_delete(){return delete dt[this.app.options.appId],Promise.resolve()}}let dt={},Uc=[];const Bc={};let Ms,Lt,fo="dataLayer",vu=!1;function Ns(E,D,S){!function Ka(){const E=[];if((0,ne.ru)()&&E.push("This is a browser extension environment."),(0,ne.zI)()||E.push("Cookies are not available."),E.length>0){const D=E.map((N,$)=>`(${$+1}) ${N}`).join(" "),S=Kn.create("invalid-analytics-context",{errorInfo:D});Rn.warn(S.message)}}();const N=E.options.appId;if(!N)throw Kn.create("no-app-id");if(!E.options.apiKey){if(!E.options.measurementId)throw Kn.create("no-api-key");Rn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${E.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=dt[N])throw Kn.create("already-exists",{id:N});if(!vu){!function Kf(E){let D=[];Array.isArray(window[E])?D=window[E]:window[E]=D}(fo);const{wrappedGtag:Z,gtagCore:oe}=function Fc(E,D,S,N,$){let Z=function(...oe){window[N].push(arguments)};return window[$]&&"function"==typeof window[$]&&(Z=window[$]),window[$]=function du(E,D,S,N){function Z(){return Z=(0,P.Z)(function*(oe,...je){try{if("event"===oe){const[xe,Ye]=je;yield function Ce(E,D,S,N,$){return _t.apply(this,arguments)}(E,D,S,xe,Ye)}else if("config"===oe){const[xe,Ye]=je;yield function cu(E,D,S,N,$,Z){return jo.apply(this,arguments)}(E,D,S,N,xe,Ye)}else if("consent"===oe){const[xe]=je;E("consent","update",xe)}else if("get"===oe){const[xe,Ye,ft]=je;E("get",xe,Ye,ft)}else if("set"===oe){const[xe]=je;E("set",xe)}else E(oe,...je)}catch(xe){Rn.error(xe)}}),Z.apply(this,arguments)}return function $(oe){return Z.apply(this,arguments)}}(Z,E,D,S),{gtagCore:Z,wrappedGtag:window[$]}}(dt,Uc,Bc,fo,"gtag");Lt=Z,Ms=oe,vu=!0}return dt[N]=function hi(E,D,S,N,$,Z,oe){return jt.apply(this,arguments)}(E,Uc,Bc,D,Ms,fo,S),new qr(E)}function Qi(){return yu.apply(this,arguments)}function yu(){return(yu=(0,P.Z)(function*(){if((0,ne.ru)()||!(0,ne.zI)()||!(0,ne.hl)())return!1;try{return yield(0,ne.eu)()}catch{return!1}})).apply(this,arguments)}const Eu="@firebase/analytics";!function an(){(0,X._registerComponent)(new ue.wA(zt,(D,{options:S})=>Ns(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),S),"PUBLIC")),(0,X._registerComponent)(new ue.wA("analytics-internal",function E(D){try{const S=D.getProvider(zt).getImmediate();return{logEvent:(N,$,Z)=>function qn(E,D,S,N){E=(0,ne.m9)(E),function Yf(E,D,S,N,$){return Lc.apply(this,arguments)}(Lt,dt[E.app.options.appId],D,S,N).catch($=>Rn.error($))}(S,N,$,Z)}}catch(S){throw Kn.create("interop-component-reg-failed",{reason:S})}},"PRIVATE")),(0,X.registerVersion)(Eu,"0.10.0"),(0,X.registerVersion)(Eu,"0.10.0","esm2017")}();var ts=O(1954),Qr=O(2631);const Cu=new class _n extends Qr.v{}(class zo extends ts.o{constructor(D,S){super(D,S),this.scheduler=D,this.work=S}schedule(D,S=0){return S>0?super.schedule(D,S):(this.delay=S,this.state=D,this.scheduler.flush(this),this)}execute(D,S){return S>0||this.closed?super.execute(D,S):this._execute(D,S)}requestAsyncId(D,S,N=0){return null!=N&&N>0||null==N&&this.delay>0?super.requestAsyncId(D,S,N):(D.flush(this),0)}});var Ya=O(6321),ns=O(9397),Yn=O(5137),In=O(3093);const Ur=new p.GfV("7.6.1"),po="__angularfire_symbol__analyticsIsSupportedValue",rs="__angularfire_symbol__analyticsIsSupported",is="__angularfire_symbol__remoteConfigIsSupportedValue",go="__angularfire_symbol__remoteConfigIsSupported",Qa="__angularfire_symbol__messagingIsSupportedValue",Ps="__angularfire_symbol__messagingIsSupported";function Xa(E,D,S){if(D){if(1===D.length)return D[0];const Z=D.filter(oe=>oe.app===S);if(1===Z.length)return Z[0]}return S.container.getProvider(E).getImmediate({optional:!0})}globalThis[rs]||(globalThis[rs]=Qi().then(E=>globalThis[po]=E).catch(()=>globalThis[po]=!1)),globalThis[Ps]||(globalThis[Ps]=ou().then(E=>globalThis[Qa]=E).catch(()=>globalThis[Qa]=!1)),globalThis[go]||(globalThis[go]=Cc().then(E=>globalThis[is]=E).catch(()=>globalThis[is]=!1));const Br=(E,D)=>{const S=D?[D]:(0,Q.C6)(),N=[];return S.forEach($=>{$.container.getProvider(E).instances.forEach(oe=>{N.includes(oe)||N.push(oe)})}),N};function ss(){}class Iu{constructor(D,S=Cu){this.zone=D,this.delegate=S}now(){return this.delegate.now()}schedule(D,S,N){const $=this.zone;return this.delegate.schedule(function(oe){$.runGuarded(()=>{D.apply(this,[oe])})},S,N)}}class Jr{constructor(D){this.zone=D,this.task=null}call(D,S){const N=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ss,{},ss,ss)),S.pipe((0,ns.b)({next:N,complete:N,error:N})).subscribe(D).add(N)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let xs=(()=>{class E{constructor(S){this.ngZone=S,this.outsideAngular=S.runOutsideAngular(()=>new Iu(Zone.current)),this.insideAngular=S.run(()=>new Iu(Zone.current,Ya.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return E.\u0275fac=function(S){return new(S||E)(p.LFG(p.R0b))},E.\u0275prov=p.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function os(){const E=globalThis.\u0275AngularFireScheduler;if(!E)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return E}function Zc(E){return os(),function wu(E){return function(S){return(S=S.lift(new Jr(E.ngZone))).pipe((0,Yn.R)(E.outsideAngular),(0,In.Q)(E.insideAngular))}}(os())(E)}},9058:(Qe,ve,O)=>{O.d(ve,{$s:()=>Ci,BH:()=>ee,DV:()=>$n,Dv:()=>Qs,GJ:()=>bn,L:()=>le,LL:()=>Ee,Pz:()=>he,Sg:()=>ye,UG:()=>ie,UI:()=>ji,US:()=>ue,Wj:()=>vt,Wl:()=>tt,Yr:()=>ms,ZB:()=>Y,ZR:()=>me,aH:()=>te,b$:()=>Pn,cI:()=>nn,dS:()=>ii,eu:()=>ae,g5:()=>P,gK:()=>qe,gQ:()=>ct,h$:()=>Se,hl:()=>se,hu:()=>Q,jU:()=>ot,lb:()=>Ei,m9:()=>er,ne:()=>Gt,p$:()=>H,pd:()=>It,r3:()=>Bt,ru:()=>Ct,tV:()=>F,uI:()=>Ue,ug:()=>Js,vZ:()=>Dr,w1:()=>yi,w9:()=>Yt,xO:()=>Oo,xb:()=>Ir,z$:()=>Me,zI:()=>fe,zd:()=>nt});const p={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},Q=function(U,L){if(!U)throw P(L)},P=function(U){return new Error("Firebase Database ("+p.SDK_VERSION+") INTERNAL ASSERT FAILED: "+U)},X=function(U){const L=[];let W=0;for(let _e=0;_e<U.length;_e++){let re=U.charCodeAt(_e);re<128?L[W++]=re:re<2048?(L[W++]=re>>6|192,L[W++]=63&re|128):55296==(64512&re)&&_e+1<U.length&&56320==(64512&U.charCodeAt(_e+1))?(re=65536+((1023&re)<<10)+(1023&U.charCodeAt(++_e)),L[W++]=re>>18|240,L[W++]=re>>12&63|128,L[W++]=re>>6&63|128,L[W++]=63&re|128):(L[W++]=re>>12|224,L[W++]=re>>6&63|128,L[W++]=63&re|128)}return L},ue={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(U,L){if(!Array.isArray(U))throw Error("encodeByteArray takes an array as a parameter");this.init_();const W=L?this.byteToCharMapWebSafe_:this.byteToCharMap_,_e=[];for(let re=0;re<U.length;re+=3){const ze=U[re],it=re+1<U.length,Mt=it?U[re+1]:0,kt=re+2<U.length,pn=kt?U[re+2]:0;let kn=(15&Mt)<<2|pn>>6,lr=63&pn;kt||(lr=64,it||(kn=64)),_e.push(W[ze>>2],W[(3&ze)<<4|Mt>>4],W[kn],W[lr])}return _e.join("")},encodeString(U,L){return this.HAS_NATIVE_SUPPORT&&!L?btoa(U):this.encodeByteArray(X(U),L)},decodeString(U,L){return this.HAS_NATIVE_SUPPORT&&!L?atob(U):function(U){const L=[];let W=0,_e=0;for(;W<U.length;){const re=U[W++];if(re<128)L[_e++]=String.fromCharCode(re);else if(re>191&&re<224){const ze=U[W++];L[_e++]=String.fromCharCode((31&re)<<6|63&ze)}else if(re>239&&re<365){const kt=((7&re)<<18|(63&U[W++])<<12|(63&U[W++])<<6|63&U[W++])-65536;L[_e++]=String.fromCharCode(55296+(kt>>10)),L[_e++]=String.fromCharCode(56320+(1023&kt))}else{const ze=U[W++],it=U[W++];L[_e++]=String.fromCharCode((15&re)<<12|(63&ze)<<6|63&it)}}return L.join("")}(this.decodeStringToByteArray(U,L))},decodeStringToByteArray(U,L){this.init_();const W=L?this.charToByteMapWebSafe_:this.charToByteMap_,_e=[];for(let re=0;re<U.length;){const ze=W[U.charAt(re++)],Mt=re<U.length?W[U.charAt(re)]:0;++re;const pn=re<U.length?W[U.charAt(re)]:64;++re;const Tt=re<U.length?W[U.charAt(re)]:64;if(++re,null==ze||null==Mt||null==pn||null==Tt)throw new de;_e.push(ze<<2|Mt>>4),64!==pn&&(_e.push(Mt<<4&240|pn>>2),64!==Tt&&_e.push(pn<<6&192|Tt))}return _e},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let U=0;U<this.ENCODED_VALS.length;U++)this.byteToCharMap_[U]=this.ENCODED_VALS.charAt(U),this.charToByteMap_[this.byteToCharMap_[U]]=U,this.byteToCharMapWebSafe_[U]=this.ENCODED_VALS_WEBSAFE.charAt(U),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[U]]=U,U>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(U)]=U,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(U)]=U)}}};class de extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Se=function(U){const L=X(U);return ue.encodeByteArray(L,!0)},le=function(U){return Se(U).replace(/\./g,"")},F=function(U){try{return ue.decodeString(U,!0)}catch(L){console.error("base64Decode failed: ",L)}return null};function H(U){return Y(void 0,U)}function Y(U,L){if(!(L instanceof Object))return L;switch(L.constructor){case Date:return new Date(L.getTime());case Object:void 0===U&&(U={});break;case Array:U=[];break;default:return L}for(const W in L)!L.hasOwnProperty(W)||!Ne(W)||(U[W]=Y(U[W],L[W]));return U}function Ne(U){return"__proto__"!==U}const Re=()=>{try{return function Ie(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const U=process.env.__FIREBASE_DEFAULTS__;return U?JSON.parse(U):void 0})()||(()=>{if(typeof document>"u")return;let U;try{U=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const L=U&&F(U[1]);return L&&JSON.parse(L)})()}catch(U){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${U}`)}},te=()=>{var U;return null===(U=Re())||void 0===U?void 0:U.config},he=U=>{var L;return null===(L=Re())||void 0===L?void 0:L[`_${U}`]};class ee{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((L,W)=>{this.resolve=L,this.reject=W})}wrapCallback(L){return(W,_e)=>{W?this.reject(W):this.resolve(_e),"function"==typeof L&&(this.promise.catch(()=>{}),1===L.length?L(W):L(W,_e))}}}function ye(U,L){if(U.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const _e=L||"demo-project",re=U.iat||0,ze=U.sub||U.user_id;if(!ze)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const it=Object.assign({iss:`https://securetoken.google.com/${_e}`,aud:_e,iat:re,exp:re+3600,auth_time:re,sub:ze,user_id:ze,firebase:{sign_in_provider:"custom",identities:{}}},U);return[le(JSON.stringify({alg:"none",type:"JWT"})),le(JSON.stringify(it)),""].join(".")}function Me(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ue(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Me())}function ie(){var U;const L=null===(U=Re())||void 0===U?void 0:U.forceEnvironment;if("node"===L)return!0;if("browser"===L)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function ot(){return"object"==typeof self&&self.self===self}function Ct(){const U="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof U&&void 0!==U.id}function Pn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function yi(){const U=Me();return U.indexOf("MSIE ")>=0||U.indexOf("Trident/")>=0}function ms(){return!0===p.NODE_CLIENT||!0===p.NODE_ADMIN}function se(){try{return"object"==typeof indexedDB}catch{return!1}}function ae(){return new Promise((U,L)=>{try{let W=!0;const _e="validate-browser-context-for-indexeddb-analytics-module",re=self.indexedDB.open(_e);re.onsuccess=()=>{re.result.close(),W||self.indexedDB.deleteDatabase(_e),U(!0)},re.onupgradeneeded=()=>{W=!1},re.onerror=()=>{var ze;L((null===(ze=re.error)||void 0===ze?void 0:ze.message)||"")}}catch(W){L(W)}})}function fe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class me extends Error{constructor(L,W,_e){super(W),this.code=L,this.customData=_e,this.name="FirebaseError",Object.setPrototypeOf(this,me.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ee.prototype.create)}}class Ee{constructor(L,W,_e){this.service=L,this.serviceName=W,this.errors=_e}create(L,...W){const _e=W[0]||{},re=`${this.service}/${L}`,ze=this.errors[L],it=ze?function We(U,L){return U.replace(ke,(W,_e)=>{const re=L[_e];return null!=re?String(re):`<${_e}?>`})}(ze,_e):"Error";return new me(re,`${this.serviceName}: ${it} (${re}).`,_e)}}const ke=/\{\$([^}]+)}/g;function nn(U){return JSON.parse(U)}function tt(U){return JSON.stringify(U)}const xt=function(U){let L={},W={},_e={},re="";try{const ze=U.split(".");L=nn(F(ze[0])||""),W=nn(F(ze[1])||""),re=ze[2],_e=W.d||{},delete W.d}catch{}return{header:L,claims:W,data:_e,signature:re}},Yt=function(U){const W=xt(U).claims;return!!W&&"object"==typeof W&&W.hasOwnProperty("iat")},bn=function(U){const L=xt(U).claims;return"object"==typeof L&&!0===L.admin};function Bt(U,L){return Object.prototype.hasOwnProperty.call(U,L)}function $n(U,L){if(Object.prototype.hasOwnProperty.call(U,L))return U[L]}function Ir(U){for(const L in U)if(Object.prototype.hasOwnProperty.call(U,L))return!1;return!0}function ji(U,L,W){const _e={};for(const re in U)Object.prototype.hasOwnProperty.call(U,re)&&(_e[re]=L.call(W,U[re],re,U));return _e}function Dr(U,L){if(U===L)return!0;const W=Object.keys(U),_e=Object.keys(L);for(const re of W){if(!_e.includes(re))return!1;const ze=U[re],it=L[re];if(wr(ze)&&wr(it)){if(!Dr(ze,it))return!1}else if(ze!==it)return!1}for(const re of _e)if(!W.includes(re))return!1;return!0}function wr(U){return null!==U&&"object"==typeof U}function Oo(U){const L=[];for(const[W,_e]of Object.entries(U))Array.isArray(_e)?_e.forEach(re=>{L.push(encodeURIComponent(W)+"="+encodeURIComponent(re))}):L.push(encodeURIComponent(W)+"="+encodeURIComponent(_e));return L.length?"&"+L.join("&"):""}function nt(U){const L={};return U.replace(/^\?/,"").split("&").forEach(_e=>{if(_e){const[re,ze]=_e.split("=");L[decodeURIComponent(re)]=decodeURIComponent(ze)}}),L}function It(U){const L=U.indexOf("?");if(!L)return"";const W=U.indexOf("#",L);return U.substring(L,W>0?W:void 0)}class ct{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let L=1;L<this.blockSize;++L)this.pad_[L]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(L,W){W||(W=0);const _e=this.W_;if("string"==typeof L)for(let Tt=0;Tt<16;Tt++)_e[Tt]=L.charCodeAt(W)<<24|L.charCodeAt(W+1)<<16|L.charCodeAt(W+2)<<8|L.charCodeAt(W+3),W+=4;else for(let Tt=0;Tt<16;Tt++)_e[Tt]=L[W]<<24|L[W+1]<<16|L[W+2]<<8|L[W+3],W+=4;for(let Tt=16;Tt<80;Tt++){const kn=_e[Tt-3]^_e[Tt-8]^_e[Tt-14]^_e[Tt-16];_e[Tt]=4294967295&(kn<<1|kn>>>31)}let pn,ht,re=this.chain_[0],ze=this.chain_[1],it=this.chain_[2],Mt=this.chain_[3],kt=this.chain_[4];for(let Tt=0;Tt<80;Tt++){Tt<40?Tt<20?(pn=Mt^ze&(it^Mt),ht=1518500249):(pn=ze^it^Mt,ht=1859775393):Tt<60?(pn=ze&it|Mt&(ze|it),ht=2400959708):(pn=ze^it^Mt,ht=3395469782);const kn=(re<<5|re>>>27)+pn+kt+ht+_e[Tt]&4294967295;kt=Mt,Mt=it,it=4294967295&(ze<<30|ze>>>2),ze=re,re=kn}this.chain_[0]=this.chain_[0]+re&4294967295,this.chain_[1]=this.chain_[1]+ze&4294967295,this.chain_[2]=this.chain_[2]+it&4294967295,this.chain_[3]=this.chain_[3]+Mt&4294967295,this.chain_[4]=this.chain_[4]+kt&4294967295}update(L,W){if(null==L)return;void 0===W&&(W=L.length);const _e=W-this.blockSize;let re=0;const ze=this.buf_;let it=this.inbuf_;for(;re<W;){if(0===it)for(;re<=_e;)this.compress_(L,re),re+=this.blockSize;if("string"==typeof L){for(;re<W;)if(ze[it]=L.charCodeAt(re),++it,++re,it===this.blockSize){this.compress_(ze),it=0;break}}else for(;re<W;)if(ze[it]=L[re],++it,++re,it===this.blockSize){this.compress_(ze),it=0;break}}this.inbuf_=it,this.total_+=W}digest(){const L=[];let W=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let re=this.blockSize-1;re>=56;re--)this.buf_[re]=255&W,W/=256;this.compress_(this.buf_);let _e=0;for(let re=0;re<5;re++)for(let ze=24;ze>=0;ze-=8)L[_e]=this.chain_[re]>>ze&255,++_e;return L}}function Gt(U,L){const W=new en(U,L);return W.subscribe.bind(W)}class en{constructor(L,W){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=W,this.task.then(()=>{L(this)}).catch(_e=>{this.error(_e)})}next(L){this.forEachObserver(W=>{W.next(L)})}error(L){this.forEachObserver(W=>{W.error(L)}),this.close(L)}complete(){this.forEachObserver(L=>{L.complete()}),this.close()}subscribe(L,W,_e){let re;if(void 0===L&&void 0===W&&void 0===_e)throw new Error("Missing Observer.");re=function Vt(U,L){if("object"!=typeof U||null===U)return!1;for(const W of L)if(W in U&&"function"==typeof U[W])return!0;return!1}(L,["next","error","complete"])?L:{next:L,error:W,complete:_e},void 0===re.next&&(re.next=xn),void 0===re.error&&(re.error=xn),void 0===re.complete&&(re.complete=xn);const ze=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?re.error(this.finalError):re.complete()}catch{}}),this.observers.push(re),ze}unsubscribeOne(L){void 0===this.observers||void 0===this.observers[L]||(delete this.observers[L],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(L){if(!this.finalized)for(let W=0;W<this.observers.length;W++)this.sendOne(W,L)}sendOne(L,W){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[L])try{W(this.observers[L])}catch(_e){typeof console<"u"&&console.error&&console.error(_e)}})}close(L){this.finalized||(this.finalized=!0,void 0!==L&&(this.finalError=L),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function xn(){}const Qs=function(U,L,W,_e){let re;if(_e<L?re="at least "+L:_e>W&&(re=0===W?"none":"no more than "+W),re)throw new Error(U+" failed: Was called with "+_e+(1===_e?" argument.":" arguments.")+" Expects "+re+".")};function qe(U,L){return`${U} failed: ${L} argument `}function vt(U,L,W,_e){if((!_e||W)&&"function"!=typeof W)throw new Error(qe(U,L)+"must be a valid function.")}function Ei(U,L,W,_e){if((!_e||W)&&("object"!=typeof W||null===W))throw new Error(qe(U,L)+"must be a valid context object.")}const ii=function(U){const L=[];let W=0;for(let _e=0;_e<U.length;_e++){let re=U.charCodeAt(_e);if(re>=55296&&re<=56319){const ze=re-55296;_e++,Q(_e<U.length,"Surrogate pair missing trail surrogate."),re=65536+(ze<<10)+(U.charCodeAt(_e)-56320)}re<128?L[W++]=re:re<2048?(L[W++]=re>>6|192,L[W++]=63&re|128):re<65536?(L[W++]=re>>12|224,L[W++]=re>>6&63|128,L[W++]=63&re|128):(L[W++]=re>>18|240,L[W++]=re>>12&63|128,L[W++]=re>>6&63|128,L[W++]=63&re|128)}return L},Js=function(U){let L=0;for(let W=0;W<U.length;W++){const _e=U.charCodeAt(W);_e<128?L++:_e<2048?L+=2:_e>=55296&&_e<=56319?(L+=4,W++):L+=3}return L},$i=1e3,Wr=2,Tn=144e5,Sn=.5;function Ci(U,L=$i,W=Wr){const _e=L*Math.pow(W,U),re=Math.round(Sn*_e*(Math.random()-.5)*2);return Math.min(Tn,_e+re)}function er(U){return U&&U._delegate?U._delegate:U}},7754:(Qe,ve,O)=>{var p=O(5879);let Q=null;function P(){return Q}class ne{}const ue=new p.OlP("DocumentToken");let de=(()=>{class n{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275prov=p.Yz7({token:n,factory:function(){return(0,p.f3M)(le)},providedIn:"platform"})}return n})();const Se=new p.OlP("Location Initialized");let le=(()=>{class n extends de{constructor(){super(),this._doc=(0,p.f3M)(ue),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return P().getBaseHref(this._doc)}onPopState(e){const s=P().getGlobalEventTarget(this._doc,"window");return s.addEventListener("popstate",e,!1),()=>s.removeEventListener("popstate",e)}onHashChange(e){const s=P().getGlobalEventTarget(this._doc,"window");return s.addEventListener("hashchange",e,!1),()=>s.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,s,l){this._history.pushState(e,s,l)}replaceState(e,s,l){this._history.replaceState(e,s,l)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275prov=p.Yz7({token:n,factory:function(){return new n},providedIn:"platform"})}return n})();function F(n,r){if(0==n.length)return r;if(0==r.length)return n;let e=0;return n.endsWith("/")&&e++,r.startsWith("/")&&e++,2==e?n+r.substring(1):1==e?n+r:n+"/"+r}function H(n){const r=n.match(/#|\?|$/),e=r&&r.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Y(n){return n&&"?"!==n[0]?"?"+n:n}let Ne=(()=>{class n{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275prov=p.Yz7({token:n,factory:function(){return(0,p.f3M)(Be)},providedIn:"root"})}return n})();const Ie=new p.OlP("appBaseHref");let Be=(()=>{class n extends Ne{constructor(e,s){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=s??this._platformLocation.getBaseHrefFromDOM()??(0,p.f3M)(ue).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return F(this._baseHref,e)}path(e=!1){const s=this._platformLocation.pathname+Y(this._platformLocation.search),l=this._platformLocation.hash;return l&&e?`${s}${l}`:s}pushState(e,s,l,d){const g=this.prepareExternalUrl(l+Y(d));this._platformLocation.pushState(e,s,g)}replaceState(e,s,l,d){const g=this.prepareExternalUrl(l+Y(d));this._platformLocation.replaceState(e,s,g)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(s){return new(s||n)(p.LFG(de),p.LFG(Ie,8))};static#t=this.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Te=(()=>{class n extends Ne{constructor(e,s){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=s&&(this._baseHref=s)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let s=this._platformLocation.hash;return null==s&&(s="#"),s.length>0?s.substring(1):s}prepareExternalUrl(e){const s=F(this._baseHref,e);return s.length>0?"#"+s:s}pushState(e,s,l,d){let g=this.prepareExternalUrl(l+Y(d));0==g.length&&(g=this._platformLocation.pathname),this._platformLocation.pushState(e,s,g)}replaceState(e,s,l,d){let g=this.prepareExternalUrl(l+Y(d));0==g.length&&(g=this._platformLocation.pathname),this._platformLocation.replaceState(e,s,g)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(s){return new(s||n)(p.LFG(de),p.LFG(Ie,8))};static#t=this.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac})}return n})(),Le=(()=>{class n{constructor(e){this._subject=new p.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const s=this._locationStrategy.getBaseHref();this._basePath=function te(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(H(Je(s))),this._locationStrategy.onPopState(l=>{this._subject.emit({url:this.path(!0),pop:!0,state:l.state,type:l.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,s=""){return this.path()==this.normalize(e+Y(s))}normalize(e){return n.stripTrailingSlash(function rt(n,r){if(!n||!r.startsWith(n))return r;const e=r.substring(n.length);return""===e||["/",";","?","#"].includes(e[0])?e:r}(this._basePath,Je(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,s="",l=null){this._locationStrategy.pushState(l,"",e,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Y(s)),l)}replaceState(e,s="",l=null){this._locationStrategy.replaceState(l,"",e,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Y(s)),l)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(s=>{this._notifyUrlChangeListeners(s.url,s.state)})),()=>{const s=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(s,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",s){this._urlChangeListeners.forEach(l=>l(e,s))}subscribe(e,s,l){return this._subject.subscribe({next:e,error:s,complete:l})}static#e=this.normalizeQueryParams=Y;static#t=this.joinWithSlash=F;static#n=this.stripTrailingSlash=H;static#r=this.\u0275fac=function(s){return new(s||n)(p.LFG(Ne))};static#i=this.\u0275prov=p.Yz7({token:n,factory:function(){return function Re(){return new Le((0,p.LFG)(Ne))}()},providedIn:"root"})}return n})();function Je(n){return n.replace(/\/index.html$/,"")}class ba{constructor(r,e,s,l){this.$implicit=r,this.ngForOf=e,this.index=s,this.count=l}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Gi=(()=>{class n{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,s,l){this._viewContainer=e,this._template=s,this._differs=l,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const s=this._viewContainer;e.forEachOperation((l,d,g)=>{if(null==l.previousIndex)s.createEmbeddedView(this._template,new ba(l.item,this._ngForOf,-1,-1),null===g?void 0:g);else if(null==g)s.remove(null===d?void 0:d);else if(null!==d){const I=s.get(d);s.move(I,g),Rl(I,l)}});for(let l=0,d=s.length;l<d;l++){const I=s.get(l).context;I.index=l,I.count=d,I.ngForOf=this._ngForOf}e.forEachIdentityChange(l=>{Rl(s.get(l.currentIndex),l)})}static ngTemplateContextGuard(e,s){return!0}static#e=this.\u0275fac=function(s){return new(s||n)(p.Y36(p.s_b),p.Y36(p.Rgc),p.Y36(p.ZZ4))};static#t=this.\u0275dir=p.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function Rl(n,r){n.context.$implicit=r.item}let zi=(()=>{class n{static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275mod=p.oAB({type:n});static#n=this.\u0275inj=p.cJS({})}return n})();function Pa(n){return"server"===n}let dr=(()=>{class n{static#e=this.\u0275prov=(0,p.Yz7)({token:n,providedIn:"root",factory:()=>new hr((0,p.LFG)(ue),window)})}return n})();class hr{constructor(r,e){this.document=r,this.window=e,this.offset=()=>[0,0]}setOffset(r){this.offset=Array.isArray(r)?()=>r:r}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(r){this.supportsScrolling()&&this.window.scrollTo(r[0],r[1])}scrollToAnchor(r){if(!this.supportsScrolling())return;const e=function Fr(n,r){const e=n.getElementById(r)||n.getElementsByName(r)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const s=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let l=s.currentNode;for(;l;){const d=l.shadowRoot;if(d){const g=d.getElementById(r)||d.querySelector(`[name="${r}"]`);if(g)return g}l=s.nextNode()}}return null}(this.document,r);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(r){this.supportsScrolling()&&(this.window.history.scrollRestoration=r)}scrollToElement(r){const e=r.getBoundingClientRect(),s=e.left+this.window.pageXOffset,l=e.top+this.window.pageYOffset,d=this.offset();this.window.scrollTo(s-d[0],l-d[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Sc extends ne{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Uo extends Sc{static makeCurrent(){!function X(n){Q||(Q=n)}(new Uo)}onAndCancel(r,e,s){return r.addEventListener(e,s),()=>{r.removeEventListener(e,s)}}dispatchEvent(r,e){r.dispatchEvent(e)}remove(r){r.parentNode&&r.parentNode.removeChild(r)}createElement(r,e){return(e=e||this.getDefaultDocument()).createElement(r)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(r){return r.nodeType===Node.ELEMENT_NODE}isShadowRoot(r){return r instanceof DocumentFragment}getGlobalEventTarget(r,e){return"window"===e?window:"document"===e?r:"body"===e?r.body:null}getBaseHref(r){const e=function _h(){return Bo=Bo||document.querySelector("base"),Bo?Bo.getAttribute("href"):null}();return null==e?null:function Wf(n){nu=nu||document.createElement("a"),nu.setAttribute("href",n);const r=nu.pathname;return"/"===r.charAt(0)?r:`/${r}`}(e)}resetBaseElement(){Bo=null}getUserAgent(){return window.navigator.userAgent}getCookie(r){return function ur(n,r){r=encodeURIComponent(r);for(const e of n.split(";")){const s=e.indexOf("="),[l,d]=-1==s?[e,""]:[e.slice(0,s),e.slice(s+1)];if(l.trim()===r)return decodeURIComponent(d)}return null}(document.cookie,r)}}let nu,Bo=null,Mc=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac})}return n})();const Ha=new p.OlP("EventManagerPlugins");let zf=(()=>{class n{constructor(e,s){this._zone=s,this._eventNameToPlugin=new Map,e.forEach(l=>{l.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,s,l){return this._findPluginFor(s).addEventListener(e,s,l)}getZone(){return this._zone}_findPluginFor(e){let s=this._eventNameToPlugin.get(e);if(s)return s;if(s=this._plugins.find(d=>d.supports(e)),!s)throw new p.vHH(5101,!1);return this._eventNameToPlugin.set(e,s),s}static#e=this.\u0275fac=function(s){return new(s||n)(p.LFG(Ha),p.LFG(p.R0b))};static#t=this.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac})}return n})();class Rc{constructor(r){this._doc=r}}const oo="ng-app-id";let Nc=(()=>{class n{constructor(e,s,l,d={}){this.doc=e,this.appId=s,this.nonce=l,this.platformId=d,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Pa(d),this.resetHostNodes()}addStyles(e){for(const s of e)1===this.changeUsageCount(s,1)&&this.onStyleAdded(s)}removeStyles(e){for(const s of e)this.changeUsageCount(s,-1)<=0&&this.onStyleRemoved(s)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(s=>s.remove()),e.clear());for(const s of this.getAllStyles())this.onStyleRemoved(s);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const s of this.getAllStyles())this.addStyleToHost(e,s)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const s of this.hostNodes)this.addStyleToHost(s,e)}onStyleRemoved(e){const s=this.styleRef;s.get(e)?.elements?.forEach(l=>l.remove()),s.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${oo}="${this.appId}"]`);if(e?.length){const s=new Map;return e.forEach(l=>{null!=l.textContent&&s.set(l.textContent,l)}),s}return null}changeUsageCount(e,s){const l=this.styleRef;if(l.has(e)){const d=l.get(e);return d.usage+=s,d.usage}return l.set(e,{usage:s,elements:[]}),s}getStyleElement(e,s){const l=this.styleNodesInDOM,d=l?.get(s);if(d?.parentNode===e)return l.delete(s),d.removeAttribute(oo),d;{const g=this.doc.createElement("style");return this.nonce&&g.setAttribute("nonce",this.nonce),g.textContent=s,this.platformIsServer&&g.setAttribute(oo,this.appId),g}}addStyleToHost(e,s){const l=this.getStyleElement(e,s);e.appendChild(l);const d=this.styleRef,g=d.get(s)?.elements;g?g.push(l):d.set(s,{elements:[l],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}static#e=this.\u0275fac=function(s){return new(s||n)(p.LFG(ue),p.LFG(p.AFp),p.LFG(p.Ojb,8),p.LFG(p.Lbi))};static#t=this.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac})}return n})();const Is={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ri=/%COMP%/g,Oc=new p.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function ws(n,r){return r.map(e=>e.replace(Ri,n))}let Ut=(()=>{class n{constructor(e,s,l,d,g,I,w,R=null){this.eventManager=e,this.sharedStylesHost=s,this.appId=l,this.removeStylesOnCompDestroy=d,this.doc=g,this.platformId=I,this.ngZone=w,this.nonce=R,this.rendererByCompId=new Map,this.platformIsServer=Pa(I),this.defaultRenderer=new ao(e,g,w,this.platformIsServer)}createRenderer(e,s){if(!e||!s)return this.defaultRenderer;this.platformIsServer&&s.encapsulation===p.ifc.ShadowDom&&(s={...s,encapsulation:p.ifc.Emulated});const l=this.getOrCreateRenderer(e,s);return l instanceof Sr?l.applyToHost(e):l instanceof ci&&l.applyStyles(),l}getOrCreateRenderer(e,s){const l=this.rendererByCompId;let d=l.get(s.id);if(!d){const g=this.doc,I=this.ngZone,w=this.eventManager,R=this.sharedStylesHost,V=this.removeStylesOnCompDestroy,j=this.platformIsServer;switch(s.encapsulation){case p.ifc.Emulated:d=new Sr(w,R,s,this.appId,V,g,I,j);break;case p.ifc.ShadowDom:return new ou(w,R,e,s,g,I,this.nonce,j);default:d=new ci(w,R,s,V,g,I,j)}l.set(s.id,d)}return d}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(s){return new(s||n)(p.LFG(zf),p.LFG(Nc),p.LFG(p.AFp),p.LFG(Oc),p.LFG(ue),p.LFG(p.Lbi),p.LFG(p.R0b),p.LFG(p.Ojb))};static#t=this.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac})}return n})();class ao{constructor(r,e,s,l){this.eventManager=r,this.doc=e,this.ngZone=s,this.platformIsServer=l,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(r,e){return e?this.doc.createElementNS(Is[e]||e,r):this.doc.createElement(r)}createComment(r){return this.doc.createComment(r)}createText(r){return this.doc.createTextNode(r)}appendChild(r,e){(xc(r)?r.content:r).appendChild(e)}insertBefore(r,e,s){r&&(xc(r)?r.content:r).insertBefore(e,s)}removeChild(r,e){r&&r.removeChild(e)}selectRootElement(r,e){let s="string"==typeof r?this.doc.querySelector(r):r;if(!s)throw new p.vHH(-5104,!1);return e||(s.textContent=""),s}parentNode(r){return r.parentNode}nextSibling(r){return r.nextSibling}setAttribute(r,e,s,l){if(l){e=l+":"+e;const d=Is[l];d?r.setAttributeNS(d,e,s):r.setAttribute(e,s)}else r.setAttribute(e,s)}removeAttribute(r,e,s){if(s){const l=Is[s];l?r.removeAttributeNS(l,e):r.removeAttribute(`${s}:${e}`)}else r.removeAttribute(e)}addClass(r,e){r.classList.add(e)}removeClass(r,e){r.classList.remove(e)}setStyle(r,e,s,l){l&(p.JOm.DashCase|p.JOm.Important)?r.style.setProperty(e,s,l&p.JOm.Important?"important":""):r.style[e]=s}removeStyle(r,e,s){s&p.JOm.DashCase?r.style.removeProperty(e):r.style[e]=""}setProperty(r,e,s){r[e]=s}setValue(r,e){r.nodeValue=e}listen(r,e,s){if("string"==typeof r&&!(r=P().getGlobalEventTarget(this.doc,r)))throw new Error(`Unsupported event target ${r} for event ${e}`);return this.eventManager.addEventListener(r,e,this.decoratePreventDefault(s))}decoratePreventDefault(r){return e=>{if("__ngUnwrap__"===e)return r;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>r(e)):r(e))&&e.preventDefault()}}}function xc(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class ou extends ao{constructor(r,e,s,l,d,g,I,w){super(r,d,g,w),this.sharedStylesHost=e,this.hostEl=s,this.shadowRoot=s.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const R=ws(l.id,l.styles);for(const V of R){const j=document.createElement("style");I&&j.setAttribute("nonce",I),j.textContent=V,this.shadowRoot.appendChild(j)}}nodeOrShadowRoot(r){return r===this.hostEl?this.shadowRoot:r}appendChild(r,e){return super.appendChild(this.nodeOrShadowRoot(r),e)}insertBefore(r,e,s){return super.insertBefore(this.nodeOrShadowRoot(r),e,s)}removeChild(r,e){return super.removeChild(this.nodeOrShadowRoot(r),e)}parentNode(r){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(r)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class ci extends ao{constructor(r,e,s,l,d,g,I,w){super(r,d,g,I),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=l,this.styles=w?ws(w,s.styles):s.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Sr extends ci{constructor(r,e,s,l,d,g,I,w){const R=l+"-"+s.id;super(r,e,s,d,g,I,w,R),this.contentAttr=function ui(n){return"_ngcontent-%COMP%".replace(Ri,n)}(R),this.hostAttr=function Pc(n){return"_nghost-%COMP%".replace(Ri,n)}(R)}applyToHost(r){this.applyStyles(),this.setAttribute(r,this.hostAttr,"")}createElement(r,e){const s=super.createElement(r,e);return super.setAttribute(s,this.contentAttr,""),s}}let lo=(()=>{class n extends Rc{constructor(e){super(e)}supports(e){return!0}addEventListener(e,s,l){return e.addEventListener(s,l,!1),()=>this.removeEventListener(e,s,l)}removeEventListener(e,s,l){return e.removeEventListener(s,l)}static#e=this.\u0275fac=function(s){return new(s||n)(p.LFG(ue))};static#t=this.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac})}return n})();const vh=["alt","control","meta","shift"],Ts={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ss={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let $a=(()=>{class n extends Rc{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,s,l){const d=n.parseEventName(s),g=n.eventCallback(d.fullKey,l,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>P().onAndCancel(e,d.domEventName,g))}static parseEventName(e){const s=e.toLowerCase().split("."),l=s.shift();if(0===s.length||"keydown"!==l&&"keyup"!==l)return null;const d=n._normalizeKey(s.pop());let g="",I=s.indexOf("code");if(I>-1&&(s.splice(I,1),g="code."),vh.forEach(R=>{const V=s.indexOf(R);V>-1&&(s.splice(V,1),g+=R+".")}),g+=d,0!=s.length||0===d.length)return null;const w={};return w.domEventName=l,w.fullKey=g,w}static matchEventFullKeyCode(e,s){let l=Ts[e.key]||e.key,d="";return s.indexOf("code.")>-1&&(l=e.code,d="code."),!(null==l||!l)&&(l=l.toLowerCase()," "===l?l="space":"."===l&&(l="dot"),vh.forEach(g=>{g!==l&&(0,Ss[g])(e)&&(d+=g+".")}),d+=l,d===s)}static eventCallback(e,s,l){return d=>{n.matchEventFullKeyCode(d,e)&&l.runGuarded(()=>s(d))}}static _normalizeKey(e){return"esc"===e?"escape":e}static#e=this.\u0275fac=function(s){return new(s||n)(p.LFG(ue))};static#t=this.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac})}return n})();const Rn=(0,p.eFA)(p._c5,"browser",[{provide:p.Lbi,useValue:"browser"},{provide:p.g9A,useValue:function lu(){Uo.makeCurrent()},multi:!0},{provide:ue,useFactory:function Ga(){return(0,p.RDi)(document),document},deps:[]}]),kc=new p.OlP(""),Kn=[{provide:p.rWj,useClass:class Ac{addToWindow(r){p.dqk.getAngularTestability=(s,l=!0)=>{const d=r.findTestabilityInTree(s,l);if(null==d)throw new p.vHH(5103,!1);return d},p.dqk.getAllAngularTestabilities=()=>r.getAllTestabilities(),p.dqk.getAllAngularRootElements=()=>r.getAllRootElements(),p.dqk.frameworkStabilizers||(p.dqk.frameworkStabilizers=[]),p.dqk.frameworkStabilizers.push(s=>{const l=p.dqk.getAllAngularTestabilities();let d=l.length,g=!1;const I=function(w){g=g||w,d--,0==d&&s(g)};l.forEach(w=>{w.whenStable(I)})})}findTestabilityInTree(r,e,s){return null==e?null:r.getTestability(e)??(s?P().isShadowRoot(e)?this.findTestabilityInTree(r,e.host,!0):this.findTestabilityInTree(r,e.parentElement,!0):null)}},deps:[]},{provide:p.lri,useClass:p.dDg,deps:[p.R0b,p.eoX,p.rWj]},{provide:p.dDg,useClass:p.dDg,deps:[p.R0b,p.eoX,p.rWj]}],uo=[{provide:p.zSh,useValue:"root"},{provide:p.qLn,useFactory:function lt(){return new p.qLn},deps:[]},{provide:Ha,useClass:lo,multi:!0,deps:[ue,p.R0b,p.Lbi]},{provide:Ha,useClass:$a,multi:!0,deps:[ue]},Ut,Nc,zf,{provide:p.FYo,useExisting:Ut},{provide:class Kr{},useClass:Mc,deps:[]},[]];let Yi=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:p.AFp,useValue:e.appId}]}}static#e=this.\u0275fac=function(s){return new(s||n)(p.LFG(kc,12))};static#t=this.\u0275mod=p.oAB({type:n});static#n=this.\u0275inj=p.cJS({providers:[...uo,...Kn],imports:[zi,p.hGG]})}return n})(),jo=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static#e=this.\u0275fac=function(s){return new(s||n)(p.LFG(ue))};static#t=this.\u0275prov=p.Yz7({token:n,factory:function(s){let l=null;return l=s?new s:function cu(){return new jo((0,p.LFG)(ue))}(),l},providedIn:"root"})}return n})();typeof window<"u"&&window;var mr=O(5592),As=O(4674),Cn=O(2459),st=O(2096),_r=O(5619);const{isArray:ho}=Array,{getPrototypeOf:Wo,prototype:_u,keys:Bn}=Object;function hi(n){if(1===n.length){const r=n[0];if(ho(r))return{args:r,keys:null};if(function jt(n){return n&&"object"==typeof n&&Wo(n)===_u}(r)){const e=Bn(r);return{args:e.map(s=>r[s]),keys:e}}}return{args:n,keys:null}}var qr=O(2737),dt=O(7398);const{isArray:Uc}=Array;function fo(n){return(0,dt.U)(r=>function Bc(n,r){return Uc(r)?n(...r):n(r)}(n,r))}var fi=O(4564);function Ms(n,r){return n.reduce((e,s,l)=>(e[s]=r[l],e),{})}var Lt=O(8251),vu=O(7103);function Rs(...n){const r=(0,fi.yG)(n),e=(0,fi.jO)(n),{args:s,keys:l}=hi(n);if(0===s.length)return(0,Cn.D)([],r);const d=new mr.y(function Ka(n,r,e=qr.y){return s=>{Ns(r,()=>{const{length:l}=n,d=new Array(l);let g=l,I=l;for(let w=0;w<l;w++)Ns(r,()=>{const R=(0,Cn.D)(n[w],r);let V=!1;R.subscribe((0,Lt.x)(s,j=>{d[w]=j,V||(V=!0,I--),I||s.next(e(d.slice()))},()=>{--g||s.complete()}))},s)},s)}}(s,r,l?g=>Ms(l,g):qr.y));return e?d.pipe(fo(e)):d}function Ns(n,r,e){n?(0,vu.f)(e,n,r):r()}const Os=(0,O(2306).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Qi=O(7537);function Yr(...n){return function yu(){return(0,Qi.J)(1)}()((0,Cn.D)(n,(0,fi.yG)(n)))}var Ji=O(4829);function qa(n){return new mr.y(r=>{(0,Ji.Xf)(n()).subscribe(r)})}var wh=O(8407);function Xi(n,r){const e=(0,As.m)(n)?n:()=>n,s=l=>l.error(e());return new mr.y(r?l=>r.schedule(s,0,l):s)}var es=O(6232),Hc=O(7394),qn=O(9360);function $c(){return(0,qn.e)((n,r)=>{let e=null;n._refCount++;const s=(0,Lt.x)(r,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const l=n._connection,d=e;e=null,l&&(!d||l===d)&&l.unsubscribe(),r.unsubscribe()});n.subscribe(s),s.closed||(e=n.connect())})}class Eu extends mr.y{constructor(r,e){super(),this.source=r,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,qn.A)(r)&&(this.lift=r.lift)}_subscribe(r){return this.getSubject().subscribe(r)}getSubject(){const r=this._subject;return(!r||r.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:r}=this;this._subject=this._connection=null,r?.unsubscribe()}connect(){let r=this._connection;if(!r){r=this._connection=new Hc.w0;const e=this.getSubject();r.add(this.source.subscribe((0,Lt.x)(e,void 0,()=>{this._teardown(),e.complete()},s=>{this._teardown(),e.error(s)},()=>this._teardown()))),r.closed&&(this._connection=null,r=Hc.w0.EMPTY)}return r}refCount(){return $c()(this)}}var Vr=O(8645),an=O(4664);function ts(n){return n<=0?()=>es.E:(0,qn.e)((r,e)=>{let s=0;r.subscribe((0,Lt.x)(e,l=>{++s<=n&&(e.next(l),n<=s&&e.complete())}))})}function Qr(n,r){return(0,qn.e)((e,s)=>{let l=0;e.subscribe((0,Lt.x)(s,d=>n.call(r,d,l++)&&s.next(d)))})}var _n=O(1631);function Cu(n){return(0,qn.e)((r,e)=>{let s=!1;r.subscribe((0,Lt.x)(e,l=>{s=!0,e.next(l)},()=>{s||e.next(n),e.complete()}))})}function Gc(n=Ya){return(0,qn.e)((r,e)=>{let s=!1;r.subscribe((0,Lt.x)(e,l=>{s=!0,e.next(l)},()=>s?e.complete():e.error(n())))})}function Ya(){return new Os}function ns(n,r){const e=arguments.length>=2;return s=>s.pipe(n?Qr((l,d)=>n(l,d,s)):qr.y,ts(1),e?Cu(r):Gc(()=>new Os))}function Yn(n,r){return(0,As.m)(r)?(0,_n.z)(n,r,1):(0,_n.z)(n,1)}var In=O(9397);function Ur(n){return(0,qn.e)((r,e)=>{let d,s=null,l=!1;s=r.subscribe((0,Lt.x)(e,void 0,void 0,g=>{d=(0,Ji.Xf)(n(g,Ur(n)(r))),s?(s.unsubscribe(),s=null,d.subscribe(e)):l=!0})),l&&(s.unsubscribe(),s=null,d.subscribe(e))})}function rs(n,r){return(0,qn.e)(function po(n,r,e,s,l){return(d,g)=>{let I=e,w=r,R=0;d.subscribe((0,Lt.x)(g,V=>{const j=R++;w=I?n(w,V,j):(I=!0,V),s&&g.next(w)},l&&(()=>{I&&g.next(w),g.complete()})))}}(n,r,arguments.length>=2,!0))}function is(n){return n<=0?()=>es.E:(0,qn.e)((r,e)=>{let s=[];r.subscribe((0,Lt.x)(e,l=>{s.push(l),n<s.length&&s.shift()},()=>{for(const l of s)e.next(l);e.complete()},void 0,()=>{s=null}))})}function Ps(n){return(0,qn.e)((r,e)=>{try{r.subscribe(e)}finally{e.add(n)}})}var Zo=O(2420);const gt="primary",Ja=Symbol("RouteTitle");class Xa{constructor(r){this.params=r||{}}has(r){return Object.prototype.hasOwnProperty.call(this.params,r)}get(r){if(this.has(r)){const e=this.params[r];return Array.isArray(e)?e[0]:e}return null}getAll(r){if(this.has(r)){const e=this.params[r];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Br(n){return new Xa(n)}function ss(n,r,e){const s=e.path.split("/");if(s.length>n.length||"full"===e.pathMatch&&(r.hasChildren()||s.length<n.length))return null;const l={};for(let d=0;d<s.length;d++){const g=s[d],I=n[d];if(g.startsWith(":"))l[g.substring(1)]=I;else if(g!==I.path)return null}return{consumed:n.slice(0,s.length),posParams:l}}function Jr(n,r){const e=n?Object.keys(n):void 0,s=r?Object.keys(r):void 0;if(!e||!s||e.length!=s.length)return!1;let l;for(let d=0;d<e.length;d++)if(l=e[d],!xs(n[l],r[l]))return!1;return!0}function xs(n,r){if(Array.isArray(n)&&Array.isArray(r)){if(n.length!==r.length)return!1;const e=[...n].sort(),s=[...r].sort();return e.every((l,d)=>s[d]===l)}return n===r}function os(n){return n.length>0?n[n.length-1]:null}function Zt(n){return function co(n){return!!n&&(n instanceof mr.y||(0,As.m)(n.lift)&&(0,As.m)(n.subscribe))}(n)?n:(0,p.QGY)(n)?(0,Cn.D)(Promise.resolve(n)):(0,st.of)(n)}const ks={exact:function wu(n,r,e){if(!oe(n.segments,r.segments)||!D(n.segments,r.segments,e)||n.numberOfChildren!==r.numberOfChildren)return!1;for(const s in r.children)if(!n.children[s]||!wu(n.children[s],r.children[s],e))return!1;return!0},subset:mo},zc={exact:function Zc(n,r){return Jr(n,r)},subset:function bu(n,r){return Object.keys(r).length<=Object.keys(n).length&&Object.keys(r).every(e=>xs(n[e],r[e]))},ignored:()=>!0};function Du(n,r,e){return ks[e.paths](n.root,r.root,e.matrixParams)&&zc[e.queryParams](n.queryParams,r.queryParams)&&!("exact"===e.fragment&&n.fragment!==r.fragment)}function mo(n,r,e){return E(n,r,r.segments,e)}function E(n,r,e,s){if(n.segments.length>e.length){const l=n.segments.slice(0,e.length);return!(!oe(l,e)||r.hasChildren()||!D(l,e,s))}if(n.segments.length===e.length){if(!oe(n.segments,e)||!D(n.segments,e,s))return!1;for(const l in r.children)if(!n.children[l]||!mo(n.children[l],r.children[l],s))return!1;return!0}{const l=e.slice(0,n.segments.length),d=e.slice(n.segments.length);return!!(oe(n.segments,l)&&D(n.segments,l,s)&&n.children[gt])&&E(n.children[gt],r,d,s)}}function D(n,r,e){return r.every((s,l)=>zc[e](n[l].parameters,s.parameters))}class S{constructor(r=new N([],{}),e={},s=null){this.root=r,this.queryParams=e,this.fragment=s}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Br(this.queryParams)),this._queryParamMap}toString(){return ft.serialize(this)}}class N{constructor(r,e){this.segments=r,this.children=e,this.parent=null,Object.values(e).forEach(s=>s.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ut(this)}}class ${constructor(r,e){this.path=r,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Br(this.parameters)),this._parameterMap}toString(){return Su(this)}}function oe(n,r){return n.length===r.length&&n.every((e,s)=>e.path===r[s].path)}let xe=(()=>{class n{static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275prov=p.Yz7({token:n,factory:function(){return new Ye},providedIn:"root"})}return n})();class Ye{parse(r){const e=new bh(r);return new S(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(r){const e=`/${rr(r.root,!0)}`,s=function el(n){const r=Object.keys(n).map(e=>{const s=n[e];return Array.isArray(s)?s.map(l=>`${Oi(e)}=${Oi(l)}`).join("&"):`${Oi(e)}=${Oi(s)}`}).filter(e=>!!e);return r.length?`?${r.join("&")}`:""}(r.queryParams);return`${e}${s}${"string"==typeof r.fragment?`#${function Tu(n){return encodeURI(n)}(r.fragment)}`:""}`}}const ft=new Ye;function ut(n){return n.segments.map(r=>Su(r)).join("/")}function rr(n,r){if(!n.hasChildren())return ut(n);if(r){const e=n.children[gt]?rr(n.children[gt],!1):"",s=[];return Object.entries(n.children).forEach(([l,d])=>{l!==gt&&s.push(`${l}:${rr(d,!1)}`)}),s.length>0?`${e}(${s.join("//")})`:e}{const e=function je(n,r){let e=[];return Object.entries(n.children).forEach(([s,l])=>{s===gt&&(e=e.concat(r(l,s)))}),Object.entries(n.children).forEach(([s,l])=>{s!==gt&&(e=e.concat(r(l,s)))}),e}(n,(s,l)=>l===gt?[rr(n.children[gt],!1)]:[`${l}:${rr(s,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[gt]?`${ut(n)}/${e[0]}`:`${ut(n)}/(${e.join("//")})`}}function Kt(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Oi(n){return Kt(n).replace(/%3B/gi,";")}function Wt(n){return Kt(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function vr(n){return decodeURIComponent(n)}function yr(n){return vr(n.replace(/\+/g,"%20"))}function Su(n){return`${Wt(n.path)}${function jr(n){return Object.keys(n).map(r=>`;${Wt(r)}=${Wt(n[r])}`).join("")}(n.parameters)}`}const am=/^[^\/()?;#]+/;function _o(n){const r=n.match(am);return r?r[0]:""}const tl=/^[^\/()?;=#]+/,lm=/^[^=?&#]+/,yy=/^[^&#]+/;class bh{constructor(r){this.url=r,this.remaining=r}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new N([],{}):new N([],this.parseChildren())}parseQueryParams(){const r={};if(this.consumeOptional("?"))do{this.parseQueryParam(r)}while(this.consumeOptional("&"));return r}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const r=[];for(this.peekStartsWith("(")||r.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),r.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let s={};return this.peekStartsWith("(")&&(s=this.parseParens(!1)),(r.length>0||Object.keys(e).length>0)&&(s[gt]=new N(r,e)),s}parseSegment(){const r=_o(this.remaining);if(""===r&&this.peekStartsWith(";"))throw new p.vHH(4009,!1);return this.capture(r),new $(vr(r),this.parseMatrixParams())}parseMatrixParams(){const r={};for(;this.consumeOptional(";");)this.parseParam(r);return r}parseParam(r){const e=function Kc(n){const r=n.match(tl);return r?r[0]:""}(this.remaining);if(!e)return;this.capture(e);let s="";if(this.consumeOptional("=")){const l=_o(this.remaining);l&&(s=l,this.capture(s))}r[vr(e)]=vr(s)}parseQueryParam(r){const e=function Jf(n){const r=n.match(lm);return r?r[0]:""}(this.remaining);if(!e)return;this.capture(e);let s="";if(this.consumeOptional("=")){const g=function Xr(n){const r=n.match(yy);return r?r[0]:""}(this.remaining);g&&(s=g,this.capture(s))}const l=yr(e),d=yr(s);if(r.hasOwnProperty(l)){let g=r[l];Array.isArray(g)||(g=[g],r[l]=g),g.push(d)}else r[l]=d}parseParens(r){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const s=_o(this.remaining),l=this.remaining[s.length];if("/"!==l&&")"!==l&&";"!==l)throw new p.vHH(4010,!1);let d;s.indexOf(":")>-1?(d=s.slice(0,s.indexOf(":")),this.capture(d),this.capture(":")):r&&(d=gt);const g=this.parseChildren();e[d]=1===Object.keys(g).length?g[gt]:new N([],g),this.consumeOptional("//")}return e}peekStartsWith(r){return this.remaining.startsWith(r)}consumeOptional(r){return!!this.peekStartsWith(r)&&(this.remaining=this.remaining.substring(r.length),!0)}capture(r){if(!this.consumeOptional(r))throw new p.vHH(4011,!1)}}function Ko(n){return n.segments.length>0?new N([],{[gt]:n}):n}function um(n){const r={};for(const s of Object.keys(n.children)){const d=um(n.children[s]);if(s===gt&&0===d.segments.length&&d.hasChildren())for(const[g,I]of Object.entries(d.children))r[g]=I;else(d.segments.length>0||d.hasChildren())&&(r[s]=d)}return function Th(n){if(1===n.numberOfChildren&&n.children[gt]){const r=n.children[gt];return new N(n.segments.concat(r.segments),r.children)}return n}(new N(n.segments,r))}function qo(n){return n instanceof S}function vo(n){let r;const l=Ko(function e(d){const g={};for(const w of d.children){const R=e(w);g[w.outlet]=R}const I=new N(d.url,g);return d===n&&(r=I),I}(n.root));return r??l}function Xf(n,r,e,s){let l=n;for(;l.parent;)l=l.parent;if(0===r.length)return Au(l,l,l,e,s);const d=function Yc(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new ep(!0,0,n);let r=0,e=!1;const s=n.reduce((l,d,g)=>{if("object"==typeof d&&null!=d){if(d.outlets){const I={};return Object.entries(d.outlets).forEach(([w,R])=>{I[w]="string"==typeof R?R.split("/"):R}),[...l,{outlets:I}]}if(d.segmentPath)return[...l,d.segmentPath]}return"string"!=typeof d?[...l,d]:0===g?(d.split("/").forEach((I,w)=>{0==w&&"."===I||(0==w&&""===I?e=!0:".."===I?r++:""!=I&&l.push(I))}),l):[...l,d]},[]);return new ep(e,r,s)}(r);if(d.toRoot())return Au(l,l,new N([],{}),e,s);const g=function Qc(n,r,e){if(n.isAbsolute)return new nl(r,!0,0);if(!e)return new nl(r,!1,NaN);if(null===e.parent)return new nl(e,!0,0);const s=qc(n.commands[0])?0:1;return function cm(n,r,e){let s=n,l=r,d=e;for(;d>l;){if(d-=l,s=s.parent,!s)throw new p.vHH(4005,!1);l=s.segments.length}return new nl(s,!1,l-d)}(e,e.segments.length-1+s,n.numberOfDoubleDots)}(d,l,n),I=g.processChildren?yo(g.segmentGroup,g.index,d.commands):Xc(g.segmentGroup,g.index,d.commands);return Au(l,g.segmentGroup,I,e,s)}function qc(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Yo(n){return"object"==typeof n&&null!=n&&n.outlets}function Au(n,r,e,s,l){let g,d={};s&&Object.entries(s).forEach(([w,R])=>{d[w]=Array.isArray(R)?R.map(V=>`${V}`):`${R}`}),g=n===r?e:Qo(n,r,e);const I=Ko(um(g));return new S(I,d,l)}function Qo(n,r,e){const s={};return Object.entries(n.children).forEach(([l,d])=>{s[l]=d===r?e:Qo(d,r,e)}),new N(n.segments,s)}class ep{constructor(r,e,s){if(this.isAbsolute=r,this.numberOfDoubleDots=e,this.commands=s,r&&s.length>0&&qc(s[0]))throw new p.vHH(4003,!1);const l=s.find(Yo);if(l&&l!==os(s))throw new p.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class nl{constructor(r,e,s){this.segmentGroup=r,this.processChildren=e,this.index=s}}function Xc(n,r,e){if(n||(n=new N([],{})),0===n.segments.length&&n.hasChildren())return yo(n,r,e);const s=function tp(n,r,e){let s=0,l=r;const d={match:!1,pathIndex:0,commandIndex:0};for(;l<n.segments.length;){if(s>=e.length)return d;const g=n.segments[l],I=e[s];if(Yo(I))break;const w=`${I}`,R=s<e.length-1?e[s+1]:null;if(l>0&&void 0===w)break;if(w&&R&&"object"==typeof R&&void 0===R.outlets){if(!Co(w,R,g))return d;s+=2}else{if(!Co(w,{},g))return d;s++}l++}return{match:!0,pathIndex:l,commandIndex:s}}(n,r,e),l=e.slice(s.commandIndex);if(s.match&&s.pathIndex<n.segments.length){const d=new N(n.segments.slice(0,s.pathIndex),{});return d.children[gt]=new N(n.segments.slice(s.pathIndex),n.children),yo(d,0,l)}return s.match&&0===l.length?new N(n.segments,{}):s.match&&!n.hasChildren()?Sh(n,r,e):s.match?yo(n,0,l):Sh(n,r,e)}function yo(n,r,e){if(0===e.length)return new N(n.segments,{});{const s=function Jc(n){return Yo(n[0])?n[0].outlets:{[gt]:n}}(e),l={};if(Object.keys(s).some(d=>d!==gt)&&n.children[gt]&&1===n.numberOfChildren&&0===n.children[gt].segments.length){const d=yo(n.children[gt],r,e);return new N(n.segments,d.children)}return Object.entries(s).forEach(([d,g])=>{"string"==typeof g&&(g=[g]),null!==g&&(l[d]=Xc(n.children[d],r,g))}),Object.entries(n.children).forEach(([d,g])=>{void 0===s[d]&&(l[d]=g)}),new N(n.segments,l)}}function Sh(n,r,e){const s=n.segments.slice(0,r);let l=0;for(;l<e.length;){const d=e[l];if(Yo(d)){const w=dm(d.outlets);return new N(s,w)}if(0===l&&qc(e[0])){s.push(new $(n.segments[r].path,Eo(e[0]))),l++;continue}const g=Yo(d)?d.outlets[gt]:`${d}`,I=l<e.length-1?e[l+1]:null;g&&I&&qc(I)?(s.push(new $(g,Eo(I))),l+=2):(s.push(new $(g,{})),l++)}return new N(s,{})}function dm(n){const r={};return Object.entries(n).forEach(([e,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(r[e]=Sh(new N([],{}),0,s))}),r}function Eo(n){const r={};return Object.entries(n).forEach(([e,s])=>r[e]=`${s}`),r}function Co(n,r,e){return n==e.path&&Jr(r,e.parameters)}const Mu="imperative";class Fs{constructor(r,e){this.id=r,this.url=e}}class Jo extends Fs{constructor(r,e,s="imperative",l=null){super(r,e),this.type=0,this.navigationTrigger=s,this.restoredState=l}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class as extends Fs{constructor(r,e,s){super(r,e),this.urlAfterRedirects=s,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ed extends Fs{constructor(r,e,s,l){super(r,e),this.reason=s,this.code=l,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class rl extends Fs{constructor(r,e,s,l){super(r,e),this.reason=s,this.code=l,this.type=16}}class Xo extends Fs{constructor(r,e,s,l){super(r,e),this.error=s,this.target=l,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class np extends Fs{constructor(r,e,s,l){super(r,e),this.urlAfterRedirects=s,this.state=l,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class td extends Fs{constructor(r,e,s,l){super(r,e),this.urlAfterRedirects=s,this.state=l,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rp extends Fs{constructor(r,e,s,l,d){super(r,e),this.urlAfterRedirects=s,this.state=l,this.shouldActivate=d,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ip extends Fs{constructor(r,e,s,l){super(r,e),this.urlAfterRedirects=s,this.state=l,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sp extends Fs{constructor(r,e,s,l){super(r,e),this.urlAfterRedirects=s,this.state=l,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Cy{constructor(r){this.route=r,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class op{constructor(r){this.route=r,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Iy{constructor(r){this.snapshot=r,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ru{constructor(r){this.snapshot=r,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hm{constructor(r){this.snapshot=r,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nd{constructor(r){this.snapshot=r,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fm{constructor(r,e,s){this.routerEvent=r,this.position=e,this.anchor=s,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class ap{}class Nu{constructor(r){this.url=r}}class pm{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new il,this.attachRef=null}}let il=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,s){const l=this.getOrCreateContext(e);l.outlet=s,this.contexts.set(e,l)}onChildOutletDestroyed(e){const s=this.getContext(e);s&&(s.outlet=null,s.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let s=this.getContext(e);return s||(s=new pm,this.contexts.set(e,s)),s}getContext(e){return this.contexts.get(e)||null}static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class Ah{constructor(r){this._root=r}get root(){return this._root.value}parent(r){const e=this.pathFromRoot(r);return e.length>1?e[e.length-2]:null}children(r){const e=Mh(r,this._root);return e?e.children.map(s=>s.value):[]}firstChild(r){const e=Mh(r,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(r){const e=Rh(r,this._root);return e.length<2?[]:e[e.length-2].children.map(l=>l.value).filter(l=>l!==r)}pathFromRoot(r){return Rh(r,this._root).map(e=>e.value)}}function Mh(n,r){if(n===r.value)return r;for(const e of r.children){const s=Mh(n,e);if(s)return s}return null}function Rh(n,r){if(n===r.value)return[r];for(const e of r.children){const s=Rh(n,e);if(s.length)return s.unshift(r),s}return[]}class Hr{constructor(r,e){this.value=r,this.children=e}toString(){return`TreeNode(${this.value})`}}function Ls(n){const r={};return n&&n.children.forEach(e=>r[e.value.outlet]=e),r}class Ar extends Ah{constructor(r,e){super(r),this.snapshot=e,ol(this,r)}toString(){return this.snapshot.toString()}}function ea(n,r){const e=function Nh(n,r){const g=new ta([],{},{},"",{},gt,r,null,{});return new sl("",new Hr(g,[]))}(0,r),s=new _r.X([new $("",{})]),l=new _r.X({}),d=new _r.X({}),g=new _r.X({}),I=new _r.X(""),w=new Pi(s,l,g,I,d,gt,r,e.root);return w.snapshot=e.root,new Ar(new Hr(w,[]),e)}class Pi{constructor(r,e,s,l,d,g,I,w){this.urlSubject=r,this.paramsSubject=e,this.queryParamsSubject=s,this.fragmentSubject=l,this.dataSubject=d,this.outlet=g,this.component=I,this._futureSnapshot=w,this.title=this.dataSubject?.pipe((0,dt.U)(R=>R[Ja]))??(0,st.of)(void 0),this.url=r,this.params=e,this.queryParams=s,this.fragment=l,this.data=d}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,dt.U)(r=>Br(r)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,dt.U)(r=>Br(r)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ou(n,r="emptyOnly"){const e=n.pathFromRoot;let s=0;if("always"!==r)for(s=e.length-1;s>=1;){const l=e[s],d=e[s-1];if(l.routeConfig&&""===l.routeConfig.path)s--;else{if(d.component)break;s--}}return function rd(n){return n.reduce((r,e)=>({params:{...r.params,...e.params},data:{...r.data,...e.data},resolve:{...e.data,...r.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(s))}class ta{get title(){return this.data?.[Ja]}constructor(r,e,s,l,d,g,I,w,R){this.url=r,this.params=e,this.queryParams=s,this.fragment=l,this.data=d,this.outlet=g,this.component=I,this.routeConfig=w,this._resolve=R}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Br(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Br(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(s=>s.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class sl extends Ah{constructor(r,e){super(e),this.url=r,ol(this,e)}toString(){return Vs(this._root)}}function ol(n,r){r.value._routerState=n,r.children.forEach(e=>ol(n,e))}function Vs(n){const r=n.children.length>0?` { ${n.children.map(Vs).join(", ")} } `:"";return`${n.value}${r}`}function id(n){if(n.snapshot){const r=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Jr(r.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),r.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),Jr(r.params,e.params)||n.paramsSubject.next(e.params),function Iu(n,r){if(n.length!==r.length)return!1;for(let e=0;e<n.length;++e)if(!Jr(n[e],r[e]))return!1;return!0}(r.url,e.url)||n.urlSubject.next(e.url),Jr(r.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Oh(n,r){const e=Jr(n.params,r.params)&&function Z(n,r){return oe(n,r)&&n.every((e,s)=>Jr(e.parameters,r[s].parameters))}(n.url,r.url);return e&&!(!n.parent!=!r.parent)&&(!n.parent||Oh(n.parent,r.parent))}let sd=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=gt,this.activateEvents=new p.vpe,this.deactivateEvents=new p.vpe,this.attachEvents=new p.vpe,this.detachEvents=new p.vpe,this.parentContexts=(0,p.f3M)(il),this.location=(0,p.f3M)(p.s_b),this.changeDetector=(0,p.f3M)(p.sBO),this.environmentInjector=(0,p.f3M)(p.lqb),this.inputBinder=(0,p.f3M)(Pu,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:s,previousValue:l}=e.name;if(s)return;this.isTrackedInParentContexts(l)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(l)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new p.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new p.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new p.vHH(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,s){this.activated=e,this._activatedRoute=s,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,s){if(this.isActivated)throw new p.vHH(4013,!1);this._activatedRoute=e;const l=this.location,g=e.snapshot.component,I=this.parentContexts.getOrCreateContext(this.name).children,w=new Ph(e,I,l.injector);this.activated=l.createComponent(g,{index:l.length,injector:w,environmentInjector:s??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275dir=p.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[p.TTD]})}return n})();class Ph{constructor(r,e,s){this.route=r,this.childContexts=e,this.parent=s}get(r,e){return r===Pi?this.route:r===il?this.childContexts:this.parent.get(r,e)}}const Pu=new p.OlP("");let Mr=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:s}=e,l=Rs([s.queryParams,s.params,s.data]).pipe((0,an.w)(([d,g,I],w)=>(I={...d,...g,...I},0===w?(0,st.of)(I):Promise.resolve(I)))).subscribe(d=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==s||null===s.component)return void this.unsubscribeFromRouteData(e);const g=(0,p.qFp)(s.component);if(g)for(const{templateName:I}of g.inputs)e.activatedComponentRef.setInput(I,d[I]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,l)}static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac})}return n})();function Io(n,r,e){if(e&&n.shouldReuseRoute(r.value,e.value.snapshot)){const s=e.value;s._futureSnapshot=r.value;const l=function gm(n,r,e){return r.children.map(s=>{for(const l of e.children)if(n.shouldReuseRoute(s.value,l.value.snapshot))return Io(n,s,l);return Io(n,s)})}(n,r,e);return new Hr(s,l)}{if(n.shouldAttach(r.value)){const d=n.retrieve(r.value);if(null!==d){const g=d.route;return g.value._futureSnapshot=r.value,g.children=r.children.map(I=>Io(n,I)),g}}const s=function Us(n){return new Pi(new _r.X(n.url),new _r.X(n.params),new _r.X(n.queryParams),new _r.X(n.fragment),new _r.X(n.data),n.outlet,n.component,n)}(r.value),l=r.children.map(d=>Io(n,d));return new Hr(s,l)}}const Nn="ngNavigationCancelingError";function xu(n,r){const{redirectTo:e,navigationBehaviorOptions:s}=qo(r)?{redirectTo:r,navigationBehaviorOptions:void 0}:r,l=od(!1,0,r);return l.url=e,l.navigationBehaviorOptions=s,l}function od(n,r,e){const s=new Error("NavigationCancelingError: "+(n||""));return s[Nn]=!0,s.cancellationCode=r,e&&(s.url=e),s}function jn(n){return n&&n[Nn]}let al=(()=>{class n{static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275cmp=p.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[p.jDz],decls:1,vars:0,template:function(s,l){1&s&&p._UZ(0,"router-outlet")},dependencies:[sd],encapsulation:2})}return n})();function B(n){const r=n.children&&n.children.map(B),e=r?{...n,children:r}:{...n};return!e.component&&!e.loadComponent&&(r||e.loadChildren)&&e.outlet&&e.outlet!==gt&&(e.component=al),e}function z(n){return n.outlet||gt}function Pe(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let r=n.parent;r;r=r.parent){const e=r.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class cn{constructor(r,e,s,l,d){this.routeReuseStrategy=r,this.futureState=e,this.currState=s,this.forwardEvent=l,this.inputBindingEnabled=d}activate(r){const e=this.futureState._root,s=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,s,r),id(this.futureState.root),this.activateChildRoutes(e,s,r)}deactivateChildRoutes(r,e,s){const l=Ls(e);r.children.forEach(d=>{const g=d.value.outlet;this.deactivateRoutes(d,l[g],s),delete l[g]}),Object.values(l).forEach(d=>{this.deactivateRouteAndItsChildren(d,s)})}deactivateRoutes(r,e,s){const l=r.value,d=e?e.value:null;if(l===d)if(l.component){const g=s.getContext(l.outlet);g&&this.deactivateChildRoutes(r,e,g.children)}else this.deactivateChildRoutes(r,e,s);else d&&this.deactivateRouteAndItsChildren(e,s)}deactivateRouteAndItsChildren(r,e){r.value.component&&this.routeReuseStrategy.shouldDetach(r.value.snapshot)?this.detachAndStoreRouteSubtree(r,e):this.deactivateRouteAndOutlet(r,e)}detachAndStoreRouteSubtree(r,e){const s=e.getContext(r.value.outlet),l=s&&r.value.component?s.children:e,d=Ls(r);for(const g of Object.keys(d))this.deactivateRouteAndItsChildren(d[g],l);if(s&&s.outlet){const g=s.outlet.detach(),I=s.children.onOutletDeactivated();this.routeReuseStrategy.store(r.value.snapshot,{componentRef:g,route:r,contexts:I})}}deactivateRouteAndOutlet(r,e){const s=e.getContext(r.value.outlet),l=s&&r.value.component?s.children:e,d=Ls(r);for(const g of Object.keys(d))this.deactivateRouteAndItsChildren(d[g],l);s&&(s.outlet&&(s.outlet.deactivate(),s.children.onOutletDeactivated()),s.attachRef=null,s.route=null)}activateChildRoutes(r,e,s){const l=Ls(e);r.children.forEach(d=>{this.activateRoutes(d,l[d.value.outlet],s),this.forwardEvent(new nd(d.value.snapshot))}),r.children.length&&this.forwardEvent(new Ru(r.value.snapshot))}activateRoutes(r,e,s){const l=r.value,d=e?e.value:null;if(id(l),l===d)if(l.component){const g=s.getOrCreateContext(l.outlet);this.activateChildRoutes(r,e,g.children)}else this.activateChildRoutes(r,e,s);else if(l.component){const g=s.getOrCreateContext(l.outlet);if(this.routeReuseStrategy.shouldAttach(l.snapshot)){const I=this.routeReuseStrategy.retrieve(l.snapshot);this.routeReuseStrategy.store(l.snapshot,null),g.children.onOutletReAttached(I.contexts),g.attachRef=I.componentRef,g.route=I.route.value,g.outlet&&g.outlet.attach(I.componentRef,I.route.value),id(I.route.value),this.activateChildRoutes(r,null,g.children)}else{const I=Pe(l.snapshot);g.attachRef=null,g.route=l,g.injector=I,g.outlet&&g.outlet.activateWith(l,g.injector),this.activateChildRoutes(r,null,g.children)}}else this.activateChildRoutes(r,null,s)}}class ei{constructor(r){this.path=r,this.route=this.path[this.path.length-1]}}class Do{constructor(r,e){this.component=r,this.route=e}}function Fh(n,r,e){const s=n._root;return na(s,r?r._root:null,e,[s.value])}function ls(n,r){const e=Symbol(),s=r.get(n,e);return s===e?"function"!=typeof n||(0,p.Z0I)(n)?r.get(n):n:s}function na(n,r,e,s,l={canDeactivateChecks:[],canActivateChecks:[]}){const d=Ls(r);return n.children.forEach(g=>{(function ku(n,r,e,s,l={canDeactivateChecks:[],canActivateChecks:[]}){const d=n.value,g=r?r.value:null,I=e?e.getContext(n.value.outlet):null;if(g&&d.routeConfig===g.routeConfig){const w=function Fu(n,r,e){if("function"==typeof e)return e(n,r);switch(e){case"pathParamsChange":return!oe(n.url,r.url);case"pathParamsOrQueryParamsChange":return!oe(n.url,r.url)||!Jr(n.queryParams,r.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Oh(n,r)||!Jr(n.queryParams,r.queryParams);default:return!Oh(n,r)}}(g,d,d.routeConfig.runGuardsAndResolvers);w?l.canActivateChecks.push(new ei(s)):(d.data=g.data,d._resolvedData=g._resolvedData),na(n,r,d.component?I?I.children:null:e,s,l),w&&I&&I.outlet&&I.outlet.isActivated&&l.canDeactivateChecks.push(new Do(I.outlet.component,g))}else g&&ll(r,I,l),l.canActivateChecks.push(new ei(s)),na(n,null,d.component?I?I.children:null:e,s,l)})(g,d[g.value.outlet],e,s.concat([g.value]),l),delete d[g.value.outlet]}),Object.entries(d).forEach(([g,I])=>ll(I,e.getContext(g),l)),l}function ll(n,r,e){const s=Ls(n),l=n.value;Object.entries(s).forEach(([d,g])=>{ll(g,l.component?r?r.children.getContext(d):null:r,e)}),e.canDeactivateChecks.push(new Do(l.component&&r&&r.outlet&&r.outlet.isActivated?r.outlet.component:null,l))}function ra(n){return"function"==typeof n}function Ty(n){return n instanceof Os||"EmptyError"===n?.name}const dp=Symbol("INITIAL_VALUE");function ul(){return(0,an.w)(n=>Rs(n.map(r=>r.pipe(ts(1),function zo(...n){const r=(0,fi.yG)(n);return(0,qn.e)((e,s)=>{(r?Yr(n,e,r):Yr(n,e)).subscribe(s)})}(dp)))).pipe((0,dt.U)(r=>{for(const e of r)if(!0!==e){if(e===dp)return dp;if(!1===e||e instanceof S)return e}return!0}),Qr(r=>r!==dp),ts(1)))}function Em(n){return(0,wh.z)((0,In.b)(r=>{if(qo(r))throw xu(0,r)}),(0,dt.U)(r=>!0===r))}class ad{constructor(r){this.segmentGroup=r||null}}class Cm{constructor(r){this.urlTree=r}}function ia(n){return Xi(new ad(n))}function ld(n){return Xi(new Cm(n))}class fp{constructor(r,e){this.urlSerializer=r,this.urlTree=e}noMatchError(r){return new p.vHH(4002,!1)}lineralizeSegments(r,e){let s=[],l=e.root;for(;;){if(s=s.concat(l.segments),0===l.numberOfChildren)return(0,st.of)(s);if(l.numberOfChildren>1||!l.children[gt])return Xi(new p.vHH(4e3,!1));l=l.children[gt]}}applyRedirectCommands(r,e,s){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),r,s)}applyRedirectCreateUrlTree(r,e,s,l){const d=this.createSegmentGroup(r,e.root,s,l);return new S(d,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(r,e){const s={};return Object.entries(r).forEach(([l,d])=>{if("string"==typeof d&&d.startsWith(":")){const I=d.substring(1);s[l]=e[I]}else s[l]=d}),s}createSegmentGroup(r,e,s,l){const d=this.createSegments(r,e.segments,s,l);let g={};return Object.entries(e.children).forEach(([I,w])=>{g[I]=this.createSegmentGroup(r,w,s,l)}),new N(d,g)}createSegments(r,e,s,l){return e.map(d=>d.path.startsWith(":")?this.findPosParam(r,d,l):this.findOrReturn(d,s))}findPosParam(r,e,s){const l=s[e.path.substring(1)];if(!l)throw new p.vHH(4001,!1);return l}findOrReturn(r,e){let s=0;for(const l of e){if(l.path===r.path)return e.splice(s),l;s++}return r}}const pp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Dm(n,r,e,s,l){const d=Vu(n,r,e);return d.matched?(s=function lp(n,r){return n.providers&&!n._injector&&(n._injector=(0,p.MMx)(n.providers,r,`Route: ${n.path}`)),n._injector??r}(r,s),function Ny(n,r,e,s){const l=r.canMatch;if(!l||0===l.length)return(0,st.of)(!0);const d=l.map(g=>{const I=ls(g,n);return Zt(function cp(n){return n&&ra(n.canMatch)}(I)?I.canMatch(r,e):n.runInContext(()=>I(r,e)))});return(0,st.of)(d).pipe(ul(),Em())}(s,r,e).pipe((0,dt.U)(g=>!0===g?d:{...pp}))):(0,st.of)(d)}function Vu(n,r,e){if(""===r.path)return"full"===r.pathMatch&&(n.hasChildren()||e.length>0)?{...pp}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const l=(r.matcher||ss)(e,n,r);if(!l)return{...pp};const d={};Object.entries(l.posParams??{}).forEach(([I,w])=>{d[I]=w.path});const g=l.consumed.length>0?{...d,...l.consumed[l.consumed.length-1].parameters}:d;return{matched:!0,consumedSegments:l.consumed,remainingSegments:e.slice(l.consumed.length),parameters:g,positionalParamSegments:l.posParams??{}}}function Py(n,r,e,s){return e.length>0&&function BD(n,r,e){return e.some(s=>Vh(n,r,s)&&z(s)!==gt)}(n,e,s)?{segmentGroup:new N(r,UD(s,new N(e,n.children))),slicedSegments:[]}:0===e.length&&function jD(n,r,e){return e.some(s=>Vh(n,r,s))}(n,e,s)?{segmentGroup:new N(n.segments,xy(n,0,e,s,n.children)),slicedSegments:e}:{segmentGroup:new N(n.segments,n.children),slicedSegments:e}}function xy(n,r,e,s,l){const d={};for(const g of s)if(Vh(n,e,g)&&!l[z(g)]){const I=new N([],{});d[z(g)]=I}return{...l,...d}}function UD(n,r){const e={};e[gt]=r;for(const s of n)if(""===s.path&&z(s)!==gt){const l=new N([],{});e[z(s)]=l}return e}function Vh(n,r,e){return(!(n.hasChildren()||r.length>0)||"full"!==e.pathMatch)&&""===e.path}class ud{constructor(r,e,s,l,d,g,I){this.injector=r,this.configLoader=e,this.rootComponentType=s,this.config=l,this.urlTree=d,this.paramsInheritanceStrategy=g,this.urlSerializer=I,this.allowRedirects=!0,this.applyRedirects=new fp(this.urlSerializer,this.urlTree)}noMatchError(r){return new p.vHH(4002,!1)}recognize(){const r=Py(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,r,gt).pipe(Ur(e=>{if(e instanceof Cm)return this.allowRedirects=!1,this.urlTree=e.urlTree,this.match(e.urlTree);throw e instanceof ad?this.noMatchError(e):e}),(0,dt.U)(e=>{const s=new ta([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},gt,this.rootComponentType,null,{}),l=new Hr(s,e),d=new sl("",l),g=function Ey(n,r,e=null,s=null){return Xf(vo(n),r,e,s)}(s,[],this.urlTree.queryParams,this.urlTree.fragment);return g.queryParams=this.urlTree.queryParams,d.url=this.urlSerializer.serialize(g),this.inheritParamsAndData(d._root),{state:d,tree:g}}))}match(r){return this.processSegmentGroup(this.injector,this.config,r.root,gt).pipe(Ur(s=>{throw s instanceof ad?this.noMatchError(s):s}))}inheritParamsAndData(r){const e=r.value,s=Ou(e,this.paramsInheritanceStrategy);e.params=Object.freeze(s.params),e.data=Object.freeze(s.data),r.children.forEach(l=>this.inheritParamsAndData(l))}processSegmentGroup(r,e,s,l){return 0===s.segments.length&&s.hasChildren()?this.processChildren(r,e,s):this.processSegment(r,e,s,s.segments,l,!0)}processChildren(r,e,s){const l=[];for(const d of Object.keys(s.children))"primary"===d?l.unshift(d):l.push(d);return(0,Cn.D)(l).pipe(Yn(d=>{const g=s.children[d],I=function De(n,r){const e=n.filter(s=>z(s)===r);return e.push(...n.filter(s=>z(s)!==r)),e}(e,d);return this.processSegmentGroup(r,I,g,d)}),rs((d,g)=>(d.push(...g),d)),Cu(null),function go(n,r){const e=arguments.length>=2;return s=>s.pipe(n?Qr((l,d)=>n(l,d,s)):qr.y,is(1),e?Cu(r):Gc(()=>new Os))}(),(0,_n.z)(d=>{if(null===d)return ia(s);const g=GD(d);return function HD(n){n.sort((r,e)=>r.value.outlet===gt?-1:e.value.outlet===gt?1:r.value.outlet.localeCompare(e.value.outlet))}(g),(0,st.of)(g)}))}processSegment(r,e,s,l,d,g){return(0,Cn.D)(e).pipe(Yn(I=>this.processSegmentAgainstRoute(I._injector??r,e,I,s,l,d,g).pipe(Ur(w=>{if(w instanceof ad)return(0,st.of)(null);throw w}))),ns(I=>!!I),Ur(I=>{if(Ty(I))return function gp(n,r,e){return 0===r.length&&!n.children[e]}(s,l,d)?(0,st.of)([]):ia(s);throw I}))}processSegmentAgainstRoute(r,e,s,l,d,g,I){return function ky(n,r,e,s){return!!(z(n)===s||s!==gt&&Vh(r,e,n))&&("**"===n.path||Vu(r,n,e).matched)}(s,l,d,g)?void 0===s.redirectTo?this.matchSegmentAgainstRoute(r,l,s,d,g,I):I&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(r,l,e,s,d,g):ia(l):ia(l)}expandSegmentAgainstRouteUsingRedirect(r,e,s,l,d,g){return"**"===l.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(r,s,l,g):this.expandRegularSegmentAgainstRouteUsingRedirect(r,e,s,l,d,g)}expandWildCardWithParamsAgainstRouteUsingRedirect(r,e,s,l){const d=this.applyRedirects.applyRedirectCommands([],s.redirectTo,{});return s.redirectTo.startsWith("/")?ld(d):this.applyRedirects.lineralizeSegments(s,d).pipe((0,_n.z)(g=>{const I=new N(g,{});return this.processSegment(r,e,I,g,l,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(r,e,s,l,d,g){const{matched:I,consumedSegments:w,remainingSegments:R,positionalParamSegments:V}=Vu(e,l,d);if(!I)return ia(e);const j=this.applyRedirects.applyRedirectCommands(w,l.redirectTo,V);return l.redirectTo.startsWith("/")?ld(j):this.applyRedirects.lineralizeSegments(l,j).pipe((0,_n.z)(K=>this.processSegment(r,s,e,K.concat(R),g,!1)))}matchSegmentAgainstRoute(r,e,s,l,d,g){let I;if("**"===s.path){const w=l.length>0?os(l).parameters:{},R=new ta(l,w,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,mp(s),z(s),s.component??s._loadedComponent??null,s,Fy(s));I=(0,st.of)({snapshot:R,consumedSegments:[],remainingSegments:[]}),e.children={}}else I=Dm(e,s,l,r).pipe((0,dt.U)(({matched:w,consumedSegments:R,remainingSegments:V,parameters:j})=>w?{snapshot:new ta(R,j,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,mp(s),z(s),s.component??s._loadedComponent??null,s,Fy(s)),consumedSegments:R,remainingSegments:V}:null));return I.pipe((0,an.w)(w=>null===w?ia(e):this.getChildConfig(r=s._injector??r,s,l).pipe((0,an.w)(({routes:R})=>{const V=s._loadedInjector??r,{snapshot:j,consumedSegments:K,remainingSegments:we}=w,{segmentGroup:Ve,slicedSegments:t}=Py(e,K,we,R);if(0===t.length&&Ve.hasChildren())return this.processChildren(V,R,Ve).pipe((0,dt.U)(o=>null===o?null:[new Hr(j,o)]));if(0===R.length&&0===t.length)return(0,st.of)([new Hr(j,[])]);const i=z(s)===d;return this.processSegment(V,R,Ve,t,i?gt:d,!0).pipe((0,dt.U)(o=>[new Hr(j,o)]))}))))}getChildConfig(r,e,s){return e.children?(0,st.of)({routes:e.children,injector:r}):e.loadChildren?void 0!==e._loadedRoutes?(0,st.of)({routes:e._loadedRoutes,injector:e._loadedInjector}):function Ry(n,r,e,s){const l=r.canLoad;if(void 0===l||0===l.length)return(0,st.of)(!0);const d=l.map(g=>{const I=ls(g,n);return Zt(function _m(n){return n&&ra(n.canLoad)}(I)?I.canLoad(r,e):n.runInContext(()=>I(r,e)))});return(0,st.of)(d).pipe(ul(),Em())}(r,e,s).pipe((0,_n.z)(l=>l?this.configLoader.loadChildren(r,e).pipe((0,In.b)(d=>{e._loadedRoutes=d.routes,e._loadedInjector=d.injector})):function Im(n){return Xi(od(!1,3))}())):(0,st.of)({routes:[],injector:r})}}function $D(n){const r=n.value.routeConfig;return r&&""===r.path}function GD(n){const r=[],e=new Set;for(const s of n){if(!$D(s)){r.push(s);continue}const l=r.find(d=>s.value.routeConfig===d.value.routeConfig);void 0!==l?(l.children.push(...s.children),e.add(l)):r.push(s)}for(const s of e){const l=GD(s.children);r.push(new Hr(s.value,l))}return r.filter(s=>!e.has(s))}function mp(n){return n.data||{}}function Fy(n){return n.resolve||{}}function Tm(n){return"string"==typeof n.title||null===n.title}function Sm(n){return(0,an.w)(r=>{const e=n(r);return e?(0,Cn.D)(e).pipe((0,dt.U)(()=>r)):(0,st.of)(r)})}const dd=new p.OlP("ROUTES");let Am=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,p.f3M)(p.Sil)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return(0,st.of)(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const s=Zt(e.loadComponent()).pipe((0,dt.U)(sa),(0,In.b)(d=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=d}),Ps(()=>{this.componentLoaders.delete(e)})),l=new Eu(s,()=>new Vr.x).pipe($c());return this.componentLoaders.set(e,l),l}loadChildren(e,s){if(this.childrenLoaders.get(s))return this.childrenLoaders.get(s);if(s._loadedRoutes)return(0,st.of)({routes:s._loadedRoutes,injector:s._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(s);const d=function WD(n,r,e,s){return Zt(n.loadChildren()).pipe((0,dt.U)(sa),(0,_n.z)(l=>l instanceof p.YKP||Array.isArray(l)?(0,st.of)(l):(0,Cn.D)(r.compileModuleAsync(l))),(0,dt.U)(l=>{s&&s(n);let d,g,I=!1;return Array.isArray(l)?(g=l,!0):(d=l.create(e).injector,g=d.get(dd,[],{optional:!0,self:!0}).flat()),{routes:g.map(B),injector:d}}))}(s,this.compiler,e,this.onLoadEndListener).pipe(Ps(()=>{this.childrenLoaders.delete(s)})),g=new Eu(d,()=>new Vr.x).pipe($c());return this.childrenLoaders.set(s,g),g}static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function sa(n){return function zD(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let cl=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Vr.x,this.transitionAbortSubject=new Vr.x,this.configLoader=(0,p.f3M)(Am),this.environmentInjector=(0,p.f3M)(p.lqb),this.urlSerializer=(0,p.f3M)(xe),this.rootContexts=(0,p.f3M)(il),this.inputBindingEnabled=null!==(0,p.f3M)(Pu,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,st.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=l=>this.events.next(new op(l)),this.configLoader.onLoadStartListener=l=>this.events.next(new Cy(l))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const s=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:s})}setupNavigations(e,s,l){return this.transitions=new _r.X({id:0,currentUrlTree:s,currentRawUrl:s,currentBrowserUrl:s,extractedUrl:e.urlHandlingStrategy.extract(s),urlAfterRedirects:e.urlHandlingStrategy.extract(s),rawUrl:s,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Mu,restoredState:null,currentSnapshot:l.snapshot,targetSnapshot:null,currentRouterState:l,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Qr(d=>0!==d.id),(0,dt.U)(d=>({...d,extractedUrl:e.urlHandlingStrategy.extract(d.rawUrl)})),(0,an.w)(d=>{this.currentTransition=d;let g=!1,I=!1;return(0,st.of)(d).pipe((0,In.b)(w=>{this.currentNavigation={id:w.id,initialUrl:w.rawUrl,extractedUrl:w.extractedUrl,trigger:w.source,extras:w.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,an.w)(w=>{const R=w.currentBrowserUrl.toString(),V=!e.navigated||w.extractedUrl.toString()!==R||R!==w.currentUrlTree.toString();if(!V&&"reload"!==(w.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const K="";return this.events.next(new rl(w.id,this.urlSerializer.serialize(w.rawUrl),K,0)),w.resolve(null),es.E}if(e.urlHandlingStrategy.shouldProcessUrl(w.rawUrl))return(0,st.of)(w).pipe((0,an.w)(K=>{const we=this.transitions?.getValue();return this.events.next(new Jo(K.id,this.urlSerializer.serialize(K.extractedUrl),K.source,K.restoredState)),we!==this.transitions?.getValue()?es.E:Promise.resolve(K)}),function cd(n,r,e,s,l,d){return(0,_n.z)(g=>function wm(n,r,e,s,l,d,g="emptyOnly"){return new ud(n,r,e,s,l,g,d).recognize()}(n,r,e,s,g.extractedUrl,l,d).pipe((0,dt.U)(({state:I,tree:w})=>({...g,targetSnapshot:I,urlAfterRedirects:w}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),(0,In.b)(K=>{d.targetSnapshot=K.targetSnapshot,d.urlAfterRedirects=K.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:K.urlAfterRedirects};const we=new np(K.id,this.urlSerializer.serialize(K.extractedUrl),this.urlSerializer.serialize(K.urlAfterRedirects),K.targetSnapshot);this.events.next(we)}));if(V&&e.urlHandlingStrategy.shouldProcessUrl(w.currentRawUrl)){const{id:K,extractedUrl:we,source:Ve,restoredState:t,extras:i}=w,o=new Jo(K,this.urlSerializer.serialize(we),Ve,t);this.events.next(o);const a=ea(0,this.rootComponentType).snapshot;return this.currentTransition=d={...w,targetSnapshot:a,urlAfterRedirects:we,extras:{...i,skipLocationChange:!1,replaceUrl:!1}},(0,st.of)(d)}{const K="";return this.events.next(new rl(w.id,this.urlSerializer.serialize(w.extractedUrl),K,1)),w.resolve(null),es.E}}),(0,In.b)(w=>{const R=new td(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot);this.events.next(R)}),(0,dt.U)(w=>(this.currentTransition=d={...w,guards:Fh(w.targetSnapshot,w.currentSnapshot,this.rootContexts)},d)),function Sy(n,r){return(0,_n.z)(e=>{const{targetSnapshot:s,currentSnapshot:l,guards:{canActivateChecks:d,canDeactivateChecks:g}}=e;return 0===g.length&&0===d.length?(0,st.of)({...e,guardsResult:!0}):function Lu(n,r,e,s){return(0,Cn.D)(n).pipe((0,_n.z)(l=>function VD(n,r,e,s,l){const d=r&&r.routeConfig?r.routeConfig.canDeactivate:null;if(!d||0===d.length)return(0,st.of)(!0);const g=d.map(I=>{const w=Pe(r)??l,R=ls(I,w);return Zt(function wy(n){return n&&ra(n.canDeactivate)}(R)?R.canDeactivate(n,r,e,s):w.runInContext(()=>R(n,r,e,s))).pipe(ns())});return(0,st.of)(g).pipe(ul())}(l.component,l.route,e,r,s)),ns(l=>!0!==l,!0))}(g,s,l,n).pipe((0,_n.z)(I=>I&&function up(n){return"boolean"==typeof n}(I)?function Ay(n,r,e,s){return(0,Cn.D)(r).pipe(Yn(l=>Yr(function LD(n,r){return null!==n&&r&&r(new Iy(n)),(0,st.of)(!0)}(l.route.parent,s),function My(n,r){return null!==n&&r&&r(new hm(n)),(0,st.of)(!0)}(l.route,s),function hp(n,r,e){const s=r[r.length-1],d=r.slice(0,r.length-1).reverse().map(g=>function wo(n){const r=n.routeConfig?n.routeConfig.canActivateChild:null;return r&&0!==r.length?{node:n,guards:r}:null}(g)).filter(g=>null!==g).map(g=>qa(()=>{const I=g.guards.map(w=>{const R=Pe(g.node)??e,V=ls(w,R);return Zt(function vm(n){return n&&ra(n.canActivateChild)}(V)?V.canActivateChild(s,n):R.runInContext(()=>V(s,n))).pipe(ns())});return(0,st.of)(I).pipe(ul())}));return(0,st.of)(d).pipe(ul())}(n,l.path,e),function yT(n,r,e){const s=r.routeConfig?r.routeConfig.canActivate:null;if(!s||0===s.length)return(0,st.of)(!0);const l=s.map(d=>qa(()=>{const g=Pe(r)??e,I=ls(d,g);return Zt(function Lh(n){return n&&ra(n.canActivate)}(I)?I.canActivate(r,n):g.runInContext(()=>I(r,n))).pipe(ns())}));return(0,st.of)(l).pipe(ul())}(n,l.route,e))),ns(l=>!0!==l,!0))}(s,d,n,r):(0,st.of)(I)),(0,dt.U)(I=>({...e,guardsResult:I})))})}(this.environmentInjector,w=>this.events.next(w)),(0,In.b)(w=>{if(d.guardsResult=w.guardsResult,qo(w.guardsResult))throw xu(0,w.guardsResult);const R=new rp(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot,!!w.guardsResult);this.events.next(R)}),Qr(w=>!!w.guardsResult||(this.cancelNavigationTransition(w,"",3),!1)),Sm(w=>{if(w.guards.canActivateChecks.length)return(0,st.of)(w).pipe((0,In.b)(R=>{const V=new ip(R.id,this.urlSerializer.serialize(R.extractedUrl),this.urlSerializer.serialize(R.urlAfterRedirects),R.targetSnapshot);this.events.next(V)}),(0,an.w)(R=>{let V=!1;return(0,st.of)(R).pipe(function _p(n,r){return(0,_n.z)(e=>{const{targetSnapshot:s,guards:{canActivateChecks:l}}=e;if(!l.length)return(0,st.of)(e);let d=0;return(0,Cn.D)(l).pipe(Yn(g=>function bm(n,r,e,s){const l=n.routeConfig,d=n._resolve;return void 0!==l?.title&&!Tm(l)&&(d[Ja]=l.title),function Ly(n,r,e,s){const l=function Vy(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===l.length)return(0,st.of)({});const d={};return(0,Cn.D)(l).pipe((0,_n.z)(g=>function Uy(n,r,e,s){const l=Pe(r)??s,d=ls(n,l);return Zt(d.resolve?d.resolve(r,e):l.runInContext(()=>d(r,e)))}(n[g],r,e,s).pipe(ns(),(0,In.b)(I=>{d[g]=I}))),is(1),function Qa(n){return(0,dt.U)(()=>n)}(d),Ur(g=>Ty(g)?es.E:Xi(g)))}(d,n,r,s).pipe((0,dt.U)(g=>(n._resolvedData=g,n.data=Ou(n,e).resolve,l&&Tm(l)&&(n.data[Ja]=l.title),null)))}(g.route,s,n,r)),(0,In.b)(()=>d++),is(1),(0,_n.z)(g=>d===l.length?(0,st.of)(e):es.E))})}(e.paramsInheritanceStrategy,this.environmentInjector),(0,In.b)({next:()=>V=!0,complete:()=>{V||this.cancelNavigationTransition(R,"",2)}}))}),(0,In.b)(R=>{const V=new sp(R.id,this.urlSerializer.serialize(R.extractedUrl),this.urlSerializer.serialize(R.urlAfterRedirects),R.targetSnapshot);this.events.next(V)}))}),Sm(w=>{const R=V=>{const j=[];V.routeConfig?.loadComponent&&!V.routeConfig._loadedComponent&&j.push(this.configLoader.loadComponent(V.routeConfig).pipe((0,In.b)(K=>{V.component=K}),(0,dt.U)(()=>{})));for(const K of V.children)j.push(...R(K));return j};return Rs(R(w.targetSnapshot.root)).pipe(Cu(),ts(1))}),Sm(()=>this.afterPreactivation()),(0,dt.U)(w=>{const R=function xh(n,r,e){const s=Io(n,r._root,e?e._root:void 0);return new Ar(s,r)}(e.routeReuseStrategy,w.targetSnapshot,w.currentRouterState);return this.currentTransition=d={...w,targetRouterState:R},d}),(0,In.b)(()=>{this.events.next(new ap)}),((n,r,e,s)=>(0,dt.U)(l=>(new cn(r,l.targetRouterState,l.currentRouterState,e,s).activate(n),l)))(this.rootContexts,e.routeReuseStrategy,w=>this.events.next(w),this.inputBindingEnabled),ts(1),(0,In.b)({next:w=>{g=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new as(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects))),e.titleStrategy?.updateTitle(w.targetRouterState.snapshot),w.resolve(!0)},complete:()=>{g=!0}}),function Wc(n){return(0,qn.e)((r,e)=>{(0,Ji.Xf)(n).subscribe((0,Lt.x)(e,()=>e.complete(),Zo.Z)),!e.closed&&r.subscribe(e)})}(this.transitionAbortSubject.pipe((0,In.b)(w=>{throw w}))),Ps(()=>{g||I||this.cancelNavigationTransition(d,"",1),this.currentNavigation?.id===d.id&&(this.currentNavigation=null)}),Ur(w=>{if(I=!0,jn(w))this.events.next(new ed(d.id,this.urlSerializer.serialize(d.extractedUrl),w.message,w.cancellationCode)),function kh(n){return jn(n)&&qo(n.url)}(w)?this.events.next(new Nu(w.url)):d.resolve(!1);else{this.events.next(new Xo(d.id,this.urlSerializer.serialize(d.extractedUrl),w,d.targetSnapshot??void 0));try{d.resolve(e.errorHandler(w))}catch(R){d.reject(R)}}return es.E}))}))}cancelNavigationTransition(e,s,l){const d=new ed(e.id,this.urlSerializer.serialize(e.extractedUrl),s,l);this.events.next(d),e.resolve(!1)}static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function By(n){return n!==Mu}let ZD=(()=>{class n{buildTitle(e){let s,l=e.root;for(;void 0!==l;)s=this.getResolvedTitleForRoute(l)??s,l=l.children.find(d=>d.outlet===gt);return s}getResolvedTitleForRoute(e){return e.data[Ja]}static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275prov=p.Yz7({token:n,factory:function(){return(0,p.f3M)(CT)},providedIn:"root"})}return n})(),CT=(()=>{class n extends ZD{constructor(e){super(),this.title=e}updateTitle(e){const s=this.buildTitle(e);void 0!==s&&this.title.setTitle(s)}static#e=this.\u0275fac=function(s){return new(s||n)(p.LFG(jo))};static#t=this.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),IT=(()=>{class n{static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275prov=p.Yz7({token:n,factory:function(){return(0,p.f3M)(wT)},providedIn:"root"})}return n})();class DT{shouldDetach(r){return!1}store(r,e){}shouldAttach(r){return!1}retrieve(r){return null}shouldReuseRoute(r,e){return r.routeConfig===e.routeConfig}}let wT=(()=>{class n extends DT{static#e=this.\u0275fac=function(){let e;return function(l){return(e||(e=p.n5z(n)))(l||n)}}();static#t=this.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Uh=new p.OlP("",{providedIn:"root",factory:()=>({})});let KD=(()=>{class n{static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275prov=p.Yz7({token:n,factory:function(){return(0,p.f3M)(qD)},providedIn:"root"})}return n})(),qD=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,s){return e}static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Bh=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Bh||{});function jy(n,r){n.events.pipe(Qr(e=>e instanceof as||e instanceof ed||e instanceof Xo||e instanceof rl),(0,dt.U)(e=>e instanceof as||e instanceof rl?Bh.COMPLETE:e instanceof ed&&(0===e.code||1===e.code)?Bh.REDIRECTING:Bh.FAILED),Qr(e=>e!==Bh.REDIRECTING),ts(1)).subscribe(()=>{r()})}function Mm(n){throw n}function oa(n,r,e){return r.parse("/")}const jh={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Hy={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let xi=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,p.f3M)(p.c2e),this.isNgZoneEnabled=!1,this._events=new Vr.x,this.options=(0,p.f3M)(Uh,{optional:!0})||{},this.pendingTasks=(0,p.f3M)(p.HDt),this.errorHandler=this.options.errorHandler||Mm,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||oa,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,p.f3M)(KD),this.routeReuseStrategy=(0,p.f3M)(IT),this.titleStrategy=(0,p.f3M)(ZD),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,p.f3M)(dd,{optional:!0})?.flat()??[],this.navigationTransitions=(0,p.f3M)(cl),this.urlSerializer=(0,p.f3M)(xe),this.location=(0,p.f3M)(Le),this.componentInputBindingEnabled=!!(0,p.f3M)(Pu,{optional:!0}),this.eventsSubscription=new Hc.w0,this.isNgZoneEnabled=(0,p.f3M)(p.R0b)instanceof p.R0b&&p.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new S,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=ea(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const e=this.navigationTransitions.events.subscribe(s=>{try{const{currentTransition:l}=this.navigationTransitions;if(null===l)return void(YD(s)&&this._events.next(s));if(s instanceof Jo)By(l.source)&&(this.browserUrlTree=l.extractedUrl);else if(s instanceof rl)this.rawUrlTree=l.rawUrl;else if(s instanceof np){if("eager"===this.urlUpdateStrategy){if(!l.extras.skipLocationChange){const d=this.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl);this.setBrowserUrl(d,l)}this.browserUrlTree=l.urlAfterRedirects}}else if(s instanceof ap)this.currentUrlTree=l.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl),this.routerState=l.targetRouterState,"deferred"===this.urlUpdateStrategy&&(l.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,l),this.browserUrlTree=l.urlAfterRedirects);else if(s instanceof ed)0!==s.code&&1!==s.code&&(this.navigated=!0),(3===s.code||2===s.code)&&this.restoreHistory(l);else if(s instanceof Nu){const d=this.urlHandlingStrategy.merge(s.url,l.currentRawUrl),g={skipLocationChange:l.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||By(l.source)};this.scheduleNavigation(d,Mu,null,g,{resolve:l.resolve,reject:l.reject,promise:l.promise})}s instanceof Xo&&this.restoreHistory(l,!0),s instanceof as&&(this.navigated=!0),YD(s)&&this._events.next(s)}catch(l){this.navigationTransitions.transitionAbortSubject.next(l)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Mu,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const s="popstate"===e.type?"popstate":"hashchange";"popstate"===s&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,s,e.state)},0)}))}navigateToSyncWithBrowser(e,s,l){const d={replaceUrl:!0},g=l?.navigationId?l:null;if(l){const w={...l};delete w.navigationId,delete w.\u0275routerPageId,0!==Object.keys(w).length&&(d.state=w)}const I=this.parseUrl(e);this.scheduleNavigation(I,s,g,d)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(B),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,s={}){const{relativeTo:l,queryParams:d,fragment:g,queryParamsHandling:I,preserveFragment:w}=s,R=w?this.currentUrlTree.fragment:g;let j,V=null;switch(I){case"merge":V={...this.currentUrlTree.queryParams,...d};break;case"preserve":V=this.currentUrlTree.queryParams;break;default:V=d||null}null!==V&&(V=this.removeEmptyProps(V));try{j=vo(l?l.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||!e[0].startsWith("/"))&&(e=[]),j=this.currentUrlTree.root}return Xf(j,e,V,R??null)}navigateByUrl(e,s={skipLocationChange:!1}){const l=qo(e)?e:this.parseUrl(e),d=this.urlHandlingStrategy.merge(l,this.rawUrlTree);return this.scheduleNavigation(d,Mu,null,s)}navigate(e,s={skipLocationChange:!1}){return function $y(n){for(let r=0;r<n.length;r++)if(null==n[r])throw new p.vHH(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,s),s)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let s;try{s=this.urlSerializer.parse(e)}catch(l){s=this.malformedUriErrorHandler(l,this.urlSerializer,e)}return s}isActive(e,s){let l;if(l=!0===s?{...jh}:!1===s?{...Hy}:s,qo(e))return Du(this.currentUrlTree,e,l);const d=this.parseUrl(e);return Du(this.currentUrlTree,d,l)}removeEmptyProps(e){return Object.keys(e).reduce((s,l)=>{const d=e[l];return null!=d&&(s[l]=d),s},{})}scheduleNavigation(e,s,l,d,g){if(this.disposed)return Promise.resolve(!1);let I,w,R;g?(I=g.resolve,w=g.reject,R=g.promise):R=new Promise((j,K)=>{I=j,w=K});const V=this.pendingTasks.add();return jy(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(V))}),this.navigationTransitions.handleNavigationRequest({source:s,restoredState:l,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:e,extras:d,resolve:I,reject:w,promise:R,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),R.catch(j=>Promise.reject(j))}setBrowserUrl(e,s){const l=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(l)||s.extras.replaceUrl){const g={...s.extras.state,...this.generateNgRouterState(s.id,this.browserPageId)};this.location.replaceState(l,"",g)}else{const d={...s.extras.state,...this.generateNgRouterState(s.id,this.browserPageId+1)};this.location.go(l,"",d)}}restoreHistory(e,s=!1){if("computed"===this.canceledNavigationResolution){const d=this.currentPageId-this.browserPageId;0!==d?this.location.historyGo(d):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===d&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(s&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,s){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:s}:{navigationId:e}}static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function YD(n){return!(n instanceof ap||n instanceof Nu)}let Rm=(()=>{class n{constructor(e,s,l,d,g,I){this.router=e,this.route=s,this.tabIndexAttribute=l,this.renderer=d,this.el=g,this.locationStrategy=I,this.href=null,this.commands=null,this.onChanges=new Vr.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const w=g.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===w||"area"===w,this.isAnchorElement?this.subscription=e.events.subscribe(R=>{R instanceof as&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,s,l,d,g){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||s||l||d||g||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:(0,p.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,s){const l=this.renderer,d=this.el.nativeElement;null!==s?l.setAttribute(d,e,s):l.removeAttribute(d,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(s){return new(s||n)(p.Y36(xi),p.Y36(Pi),p.$8M("tabindex"),p.Y36(p.Qsj),p.Y36(p.SBq),p.Y36(Ne))};static#t=this.\u0275dir=p.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(s,l){1&s&&p.NdJ("click",function(g){return l.onClick(g.button,g.ctrlKey,g.shiftKey,g.altKey,g.metaKey)}),2&s&&p.uIk("target",l.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",p.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",p.VuI],replaceUrl:["replaceUrl","replaceUrl",p.VuI],routerLink:"routerLink"},standalone:!0,features:[p.Xq5,p.TTD]})}return n})();class vp{}let Gy=(()=>{class n{constructor(e,s,l,d,g){this.router=e,this.injector=l,this.preloadingStrategy=d,this.loader=g}setUpPreloading(){this.subscription=this.router.events.pipe(Qr(e=>e instanceof as),Yn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,s){const l=[];for(const d of s){d.providers&&!d._injector&&(d._injector=(0,p.MMx)(d.providers,e,`Route: ${d.path}`));const g=d._injector??e,I=d._loadedInjector??g;(d.loadChildren&&!d._loadedRoutes&&void 0===d.canLoad||d.loadComponent&&!d._loadedComponent)&&l.push(this.preloadConfig(g,d)),(d.children||d._loadedRoutes)&&l.push(this.processRoutes(I,d.children??d._loadedRoutes))}return(0,Cn.D)(l).pipe((0,Qi.J)())}preloadConfig(e,s){return this.preloadingStrategy.preload(s,()=>{let l;l=s.loadChildren&&void 0===s.canLoad?this.loader.loadChildren(e,s):(0,st.of)(null);const d=l.pipe((0,_n.z)(g=>null===g?(0,st.of)(void 0):(s._loadedRoutes=g.routes,s._loadedInjector=g.injector,this.processRoutes(g.injector??e,g.routes))));if(s.loadComponent&&!s._loadedComponent){const g=this.loader.loadComponent(s);return(0,Cn.D)([d,g]).pipe((0,Qi.J)())}return d})}static#e=this.\u0275fac=function(s){return new(s||n)(p.LFG(xi),p.LFG(p.Sil),p.LFG(p.lqb),p.LFG(vp),p.LFG(Am))};static#t=this.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Om=new p.OlP("");let Wy=(()=>{class n{constructor(e,s,l,d,g={}){this.urlSerializer=e,this.transitions=s,this.viewportScroller=l,this.zone=d,this.options=g,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},g.scrollPositionRestoration=g.scrollPositionRestoration||"disabled",g.anchorScrolling=g.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Jo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof as?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof rl&&0===e.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof fm&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,s){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new fm(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,s))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(s){p.$Z()};static#t=this.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac})}return n})();function bo(n,r){return{\u0275kind:n,\u0275providers:r}}function Uu(){const n=(0,p.f3M)(p.zs3);return r=>{const e=n.get(p.z2F);if(r!==e.components[0])return;const s=n.get(xi),l=n.get(Ky);1===n.get(Pm)&&s.initialNavigation(),n.get(Qy,null,p.XFs.Optional)?.setUpPreloading(),n.get(Om,null,p.XFs.Optional)?.init(),s.resetRootComponentType(e.componentTypes[0]),l.closed||(l.next(),l.complete(),l.unsubscribe())}}const Ky=new p.OlP("",{factory:()=>new Vr.x}),Pm=new p.OlP("",{providedIn:"root",factory:()=>1}),Qy=new p.OlP("");function QD(n){return bo(0,[{provide:Qy,useExisting:Gy},{provide:vp,useExisting:n}])}const hd=new p.OlP("ROUTER_FORROOT_GUARD"),Jy=[Le,{provide:xe,useClass:Ye},xi,il,{provide:Pi,useFactory:function zy(n){return n.routerState.root},deps:[xi]},Am,[]];function Xy(){return new p.PXZ("Router",xi)}let Cp=(()=>{class n{constructor(e){}static forRoot(e,s){return{ngModule:n,providers:[Jy,[],{provide:dd,multi:!0,useValue:e},{provide:hd,useFactory:nE,deps:[[xi,new p.FiY,new p.tp0]]},{provide:Uh,useValue:s||{}},s?.useHash?{provide:Ne,useClass:Te}:{provide:Ne,useClass:Be},{provide:Om,useFactory:()=>{const n=(0,p.f3M)(dr),r=(0,p.f3M)(p.R0b),e=(0,p.f3M)(Uh),s=(0,p.f3M)(cl),l=(0,p.f3M)(xe);return e.scrollOffset&&n.setOffset(e.scrollOffset),new Wy(l,s,n,r,e)}},s?.preloadingStrategy?QD(s.preloadingStrategy).\u0275providers:[],{provide:p.PXZ,multi:!0,useFactory:Xy},s?.initialNavigation?Ip(s):[],s?.bindToComponentInputs?bo(8,[Mr,{provide:Pu,useExisting:Mr}]).\u0275providers:[],[{provide:ew,useFactory:Uu},{provide:p.tb,multi:!0,useExisting:ew}]]}}static forChild(e){return{ngModule:n,providers:[{provide:dd,multi:!0,useValue:e}]}}static#e=this.\u0275fac=function(s){return new(s||n)(p.LFG(hd,8))};static#t=this.\u0275mod=p.oAB({type:n});static#n=this.\u0275inj=p.cJS({})}return n})();function nE(n){return"guarded"}function Ip(n){return["disabled"===n.initialNavigation?bo(3,[{provide:p.ip1,multi:!0,useFactory:()=>{const r=(0,p.f3M)(xi);return()=>{r.setUpLocationChangeListener()}}},{provide:Pm,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?bo(2,[{provide:Pm,useValue:0},{provide:p.ip1,multi:!0,deps:[p.zs3],useFactory:r=>{const e=r.get(Se,Promise.resolve());return()=>e.then(()=>new Promise(s=>{const l=r.get(xi),d=r.get(Ky);jy(l,()=>{s(!0)}),r.get(cl).afterPreactivation=()=>(s(!0),d.closed?(0,st.of)(void 0):d),l.initialNavigation()}))}}]).\u0275providers:[]]}const ew=new p.OlP("");var km=O(6321),pd=O(3019),iE=O(3020),Fm=O(3997),Rr=O(8186),ki=O(6304),rw=(O(5967),O(3106)),dl=O(4537),Fi=O(5861),Bu=O(534),k=O(9058),wp=O(7879);const bp="@firebase/database";let Vm="";function Um(n){Vm=n}class Bm{constructor(r){this.domStorage_=r,this.prefix_="firebase:"}set(r,e){null==e?this.domStorage_.removeItem(this.prefixedName_(r)):this.domStorage_.setItem(this.prefixedName_(r),(0,k.Wl)(e))}get(r){const e=this.domStorage_.getItem(this.prefixedName_(r));return null==e?null:(0,k.cI)(e)}remove(r){this.domStorage_.removeItem(this.prefixedName_(r))}prefixedName_(r){return this.prefix_+r}toString(){return this.domStorage_.toString()}}class kT{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(r,e){null==e?delete this.cache_[r]:this.cache_[r]=e}get(r){return(0,k.r3)(this.cache_,r)?this.cache_[r]:null}remove(r){delete this.cache_[r]}}const iw=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const r=window[n];return r.setItem("firebase:sentinel","cache"),r.removeItem("firebase:sentinel"),new Bm(r)}}catch{}return new kT},ju=iw("localStorage"),jm=iw("sessionStorage"),Hh=new wp.Yd("@firebase/database"),sw=function(){let n=1;return function(){return n++}}(),$h=function(n){const r=(0,k.dS)(n),e=new k.gQ;e.update(r);const s=e.digest();return k.US.encodeByteArray(s)},Gh=function(...n){let r="";for(let e=0;e<n.length;e++){const s=n[e];Array.isArray(s)||s&&"object"==typeof s&&"number"==typeof s.length?r+=Gh.apply(null,s):r+="object"==typeof s?(0,k.Wl)(s):s,r+=" "}return r};let aa=null,Tp=!0;const Hu=function(n,r){(0,k.hu)(!r||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Hh.logLevel=wp.in.VERBOSE,aa=Hh.log.bind(Hh),r&&jm.set("logging_enabled",!0)):"function"==typeof n?aa=n:(aa=null,jm.remove("logging_enabled"))},Qn=function(...n){if(!0===Tp&&(Tp=!1,null===aa&&!0===jm.get("logging_enabled")&&Hu(!0)),aa){const r=Gh.apply(null,n);aa(r)}},$u=function(n){return function(...r){Qn(n,...r)}},Gu=function(...n){const r="FIREBASE INTERNAL ERROR: "+Gh(...n);Hh.error(r)},Li=function(...n){const r=`FIREBASE FATAL ERROR: ${Gh(...n)}`;throw Hh.error(r),new Error(r)},Hn=function(...n){const r="FIREBASE WARNING: "+Gh(...n);Hh.warn(r)},gd=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Wu="[MIN_NAME]",Bs="[MAX_NAME]",js=function(n,r){if(n===r)return 0;if(n===Wu||r===Bs)return-1;if(r===Wu||n===Bs)return 1;{const e=oE(n),s=oE(r);return null!==e?null!==s?e-s==0?n.length-r.length:e-s:-1:null!==s?1:n<r?-1:1}},ow=function(n,r){return n===r?0:n<r?-1:1},md=function(n,r){if(r&&n in r)return r[n];throw new Error("Missing required key ("+n+") in object: "+(0,k.Wl)(r))},$m=function(n){if("object"!=typeof n||null===n)return(0,k.Wl)(n);const r=[];for(const s in n)r.push(s);r.sort();let e="{";for(let s=0;s<r.length;s++)0!==s&&(e+=","),e+=(0,k.Wl)(r[s]),e+=":",e+=$m(n[r[s]]);return e+="}",e},sE=function(n,r){const e=n.length;if(e<=r)return[n];const s=[];for(let l=0;l<e;l+=r)s.push(n.substring(l,l+r>e?e:l+r));return s};function Jn(n,r){for(const e in n)n.hasOwnProperty(e)&&r(e,n[e])}const Gm=function(n){(0,k.hu)(!gd(n),"Invalid JSON number");const s=1023;let l,d,g,I,w;0===n?(d=0,g=0,l=1/n==-1/0?1:0):(l=n<0,(n=Math.abs(n))>=Math.pow(2,1-s)?(I=Math.min(Math.floor(Math.log(n)/Math.LN2),s),d=I+s,g=Math.round(n*Math.pow(2,52-I)-Math.pow(2,52))):(d=0,g=Math.round(n/Math.pow(2,-1074))));const R=[];for(w=52;w;w-=1)R.push(g%2?1:0),g=Math.floor(g/2);for(w=11;w;w-=1)R.push(d%2?1:0),d=Math.floor(d/2);R.push(l?1:0),R.reverse();const V=R.join("");let j="";for(w=0;w<64;w+=8){let K=parseInt(V.substr(w,8),2).toString(16);1===K.length&&(K="0"+K),j+=K}return j.toLowerCase()},uw=new RegExp("^-?(0*)\\d{1,10}$"),oE=function(n){if(uw.test(n)){const r=Number(n);if(r>=-2147483648&&r<=2147483647)return r}return null},zu=function(n){try{n()}catch(r){setTimeout(()=>{throw Hn("Exception was thrown by user callback.",r.stack||""),r},Math.floor(0))}},hl=function(n,r){const e=setTimeout(n,r);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class cw{constructor(r,e){this.appName_=r,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(s=>this.appCheck=s)}getToken(r){return this.appCheck?this.appCheck.getToken(r):new Promise((e,s)=>{setTimeout(()=>{this.appCheck?this.getToken(r).then(e,s):e(null)},0)})}addTokenChangeListener(r){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(s=>s.addTokenListener(r))}notifyForInvalidToken(){Hn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class aE{constructor(r,e,s){this.appName_=r,this.firebaseOptions_=e,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(l=>this.auth_=l)}getToken(r){return this.auth_?this.auth_.getToken(r).catch(e=>e&&"auth/token-not-initialized"===e.code?(Qn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,s)=>{setTimeout(()=>{this.auth_?this.getToken(r).then(e,s):e(null)},0)})}addTokenChangeListener(r){this.auth_?this.auth_.addAuthTokenListener(r):this.authProvider_.get().then(e=>e.addAuthTokenListener(r))}removeTokenChangeListener(r){this.authProvider_.get().then(e=>e.removeAuthTokenListener(r))}notifyForInvalidToken(){let r='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';r+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Hn(r)}}let Wh=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const Zu=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,dE="websocket",hE="long_polling";class Zm{constructor(r,e,s,l,d=!1,g="",I=!1,w=!1){this.secure=e,this.namespace=s,this.webSocketOnly=l,this.nodeAdmin=d,this.persistenceKey=g,this.includeNamespaceInQueryParams=I,this.isUsingEmulator=w,this._host=r.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ju.get("host:"+r)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(r){r!==this.internalHost&&(this.internalHost=r,this.isCacheableHost()&&ju.set("host:"+this._host,this.internalHost))}toString(){let r=this.toURLString();return this.persistenceKey&&(r+="<"+this.persistenceKey+">"),r}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Km(n,r,e){let s;if((0,k.hu)("string"==typeof r,"typeof type must == string"),(0,k.hu)("object"==typeof e,"typeof params must == object"),r===dE)s=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(r!==hE)throw new Error("Unknown connection type: "+r);s=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function fE(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const l=[];return Jn(e,(d,g)=>{l.push(d+"="+g)}),s+l.join("&")}class qm{constructor(){this.counters_={}}incrementCounter(r,e=1){(0,k.r3)(this.counters_,r)||(this.counters_[r]=0),this.counters_[r]+=e}get(){return(0,k.p$)(this.counters_)}}const pE={},Kh={};function Rp(n){const r=n.toString();return pE[r]||(pE[r]=new qm),pE[r]}class fw{constructor(r){this.onMessage_=r,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(r,e){this.closeAfterResponse=r,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(r,e){for(this.pendingResponses[r]=e;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let l=0;l<s.length;++l)s[l]&&zu(()=>{this.onMessage_(s[l])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class So{constructor(r,e,s,l,d,g,I){this.connId=r,this.repoInfo=e,this.applicationId=s,this.appCheckToken=l,this.authToken=d,this.transportSessionId=g,this.lastSessionId=I,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=$u(r),this.stats_=Rp(e),this.urlFn=w=>(this.appCheckToken&&(w.ac=this.appCheckToken),Km(e,hE,w))}open(r,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new fw(r),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,k.Yr)()||"complete"===document.readyState)n();else{let r=!1;const e=function(){document.body?r||(r=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new us((...d)=>{const[g,I,w,R,V]=d;if(this.incrementIncomingBytes_(d),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===g)this.id=I,this.password=w;else{if("close"!==g)throw new Error("Unrecognized command received: "+g);I?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(I,()=>{this.onClosed_()})):this.onClosed_()}},(...d)=>{const[g,I]=d;this.incrementIncomingBytes_(d),this.myPacketOrderer.handleResponse(g,I)},()=>{this.onClosed_()},this.urlFn);const s={start:"t"};s.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(s.cb=this.scriptTagHolder.uniqueCallbackIdentifier),s.v="5",this.transportSessionId&&(s.s=this.transportSessionId),this.lastSessionId&&(s.ls=this.lastSessionId),this.applicationId&&(s.p=this.applicationId),this.appCheckToken&&(s.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&Zu.test(location.hostname)&&(s.r="f");const l=this.urlFn(s);this.log_("Connecting via long-poll to "+l),this.scriptTagHolder.addTag(l,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){So.forceAllow_=!0}static forceDisallow(){So.forceDisallow_=!0}static isAvailable(){return!((0,k.Yr)()||!So.forceAllow_&&(So.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(r){const e=(0,k.Wl)(r);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const s=(0,k.h$)(e),l=sE(s,1840);for(let d=0;d<l.length;d++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,l.length,l[d]),this.curSegmentNum++}addDisconnectPingFrame(r,e){if((0,k.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const s={dframe:"t"};s.id=r,s.pw=e,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(r){const e=(0,k.Wl)(r).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class us{constructor(r,e,s,l){if(this.onDisconnect=s,this.urlFn=l,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,k.Yr)())this.commandCB=r,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=sw(),window["pLPCommand"+this.uniqueCallbackIdentifier]=r,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=us.createIFrame_();let d="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(d='<script>document.domain="'+document.domain+'";<\/script>');const g="<html><body>"+d+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(g),this.myIFrame.doc.close()}catch(I){Qn("frame writing exception"),I.stack&&Qn(I.stack),Qn(I)}}}static createIFrame_(){const r=document.createElement("iframe");if(r.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(r);try{r.contentWindow.document||Qn("No IE domain setting required")}catch{const s=document.domain;r.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}return r.contentDocument?r.doc=r.contentDocument:r.contentWindow?r.doc=r.contentWindow.document:r.document&&(r.doc=r.document),r}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const r=this.onDisconnect;r&&(this.onDisconnect=null,r())}startLongPoll(r,e){for(this.myID=r,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const r={};r.id=this.myID,r.pw=this.myPW,r.ser=this.currentSerial;let e=this.urlFn(r),s="",l=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+s.length<=1870;){const g=this.pendingSegs.shift();s=s+"&seg"+l+"="+g.seg+"&ts"+l+"="+g.ts+"&d"+l+"="+g.d,l++}return e+=s,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(r,e,s){this.pendingSegs.push({seg:r,ts:e,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(r,e){this.outstandingRequests.add(e);const s=()=>{this.outstandingRequests.delete(e),this.newRequest_()},l=setTimeout(s,Math.floor(25e3));this.addTag(r,()=>{clearTimeout(l),s()})}addTag(r,e){(0,k.Yr)()?this.doNodeLongPoll(r,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=r,s.onload=s.onreadystatechange=function(){const l=s.readyState;(!l||"loaded"===l||"complete"===l)&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),e())},s.onerror=()=>{Qn("Long-poll script failed to load: "+r),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}let Xm=null;typeof MozWebSocket<"u"?Xm=MozWebSocket:typeof WebSocket<"u"&&(Xm=WebSocket);let Dn=(()=>{class n{constructor(e,s,l,d,g,I,w){this.connId=e,this.applicationId=l,this.appCheckToken=d,this.authToken=g,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=$u(this.connId),this.stats_=Rp(s),this.connURL=n.connectionURL_(s,I,w,d,l),this.nodeAdmin=s.nodeAdmin}static connectionURL_(e,s,l,d,g){const I={v:"5"};return!(0,k.Yr)()&&typeof location<"u"&&location.hostname&&Zu.test(location.hostname)&&(I.r="f"),s&&(I.s=s),l&&(I.ls=l),d&&(I.ac=d),g&&(I.p=g),Km(e,dE,I)}open(e,s){this.onDisconnect=s,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ju.set("previous_websocket_failure",!0);try{let l;if((0,k.Yr)()){l={headers:{"User-Agent":`Firebase/5/${Vm}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(l.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(l.headers["X-Firebase-AppCheck"]=this.appCheckToken);const g=process.env,I=0===this.connURL.indexOf("wss://")?g.HTTPS_PROXY||g.https_proxy:g.HTTP_PROXY||g.http_proxy;I&&(l.proxy={origin:I})}this.mySock=new Xm(this.connURL,[],l)}catch(l){this.log_("Error instantiating WebSocket.");const d=l.message||l.data;return d&&this.log_(d),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=l=>{this.handleIncomingFrame(l)},this.mySock.onerror=l=>{this.log_("WebSocket error.  Closing connection.");const d=l.message||l.data;d&&this.log_(d),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const l=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);l&&l.length>1&&parseFloat(l[1])<4.4&&(e=!0)}return!e&&null!==Xm&&!n.forceDisallow_}static previouslyFailed(){return ju.isInMemoryStorage||!0===ju.get("previous_websocket_failure")}markConnectionHealthy(){ju.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const s=this.frames.join("");this.frames=null;const l=(0,k.cI)(s);this.onMessage(l)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,k.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const s=Number(e);if(!isNaN(s))return this.handleNewFrameCount_(s),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const s=e.data;if(this.bytesReceived+=s.length,this.stats_.incrementCounter("bytes_received",s.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(s);else{const l=this.extractFrameCount_(s);null!==l&&this.appendFrame_(l)}}send(e){this.resetKeepAlive();const s=(0,k.Wl)(e);this.bytesSent+=s.length,this.stats_.incrementCounter("bytes_sent",s.length);const l=sE(s,16384);l.length>1&&this.sendString_(String(l.length));for(let d=0;d<l.length;d++)this.sendString_(l[d])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(s){this.log_("Exception thrown from WebSocket.send():",s.message||s.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),EE=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[So,Dn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const s=Dn&&Dn.isAvailable();let l=s&&!Dn.previouslyFailed();if(e.webSocketOnly&&(s||Hn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),l=!0),l)this.transports_=[Dn];else{const d=this.transports_=[];for(const g of n.ALL_TRANSPORTS)g&&g.isAvailable()&&d.push(g);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class Ao{constructor(r,e,s,l,d,g,I,w,R,V){this.id=r,this.repoInfo_=e,this.applicationId_=s,this.appCheckToken_=l,this.authToken_=d,this.onMessage_=g,this.onReady_=I,this.onDisconnect_=w,this.onKill_=R,this.lastSessionId=V,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=$u("c:"+this.id+":"),this.transportManager_=new EE(e),this.log_("Connection created"),this.start_()}start_(){const r=this.transportManager_.initialTransport();this.conn_=new r(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=r.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,s)},Math.floor(0));const l=r.healthyTimeout||0;l>0&&(this.healthyTimeout_=hl(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(l)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(r){return e=>{r===this.conn_?this.onConnectionLost_(e):r===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(r){return e=>{2!==this.state_&&(r===this.rx_?this.onPrimaryMessageReceived_(e):r===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(r){this.sendData_({t:"d",d:r})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(r){if("t"in r){const e=r.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(r){const e=md("t",r),s=md("d",r);if("c"===e)this.onSecondaryControl_(s);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(s)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(r){const e=md("t",r),s=md("d",r);"c"===e?this.onControl_(s):"d"===e&&this.onDataMessage_(s)}onDataMessage_(r){this.onPrimaryResponse_(),this.onMessage_(r)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(r){const e=md("t",r);if("d"in r){const s=r.d;if("h"===e){const l=Object.assign({},s);this.repoInfo_.isUsingEmulator&&(l.h=this.repoInfo_.host),this.onHandshake_(l)}else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let l=0;l<this.pendingDataMessages.length;++l)this.onDataMessage_(this.pendingDataMessages[l]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(s):"r"===e?this.onReset_(s):"e"===e?Gu("Server Error: "+s):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Gu("Unknown control packet command: "+e)}}onHandshake_(r){const e=r.ts,s=r.v,l=r.h;this.sessionId=r.s,this.repoInfo_.host=l,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==s&&Hn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const r=this.transportManager_.upgradeTransport();r&&this.startUpgrade_(r)}startUpgrade_(r){this.secondaryConn_=new r(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=r.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,s),hl(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(r){this.log_("Reset packet received.  New host: "+r),this.repoInfo_.host=r,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(r,e){this.log_("Realtime connection established."),this.conn_=r,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):hl(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const r=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===r||this.rx_===r)&&this.close()}onConnectionLost_(r){this.conn_=null,r||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ju.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(r){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(r),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(r){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(r)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Ku{put(r,e,s,l){}merge(r,e,s,l){}refreshAuthToken(r){}refreshAppCheckToken(r){}onDisconnectPut(r,e,s){}onDisconnectMerge(r,e,s){}onDisconnectCancel(r,e){}reportStats(r){}}class bE{constructor(r){this.allowedEvents_=r,this.listeners_={},(0,k.hu)(Array.isArray(r)&&r.length>0,"Requires a non-empty array")}trigger(r,...e){if(Array.isArray(this.listeners_[r])){const s=[...this.listeners_[r]];for(let l=0;l<s.length;l++)s[l].callback.apply(s[l].context,e)}}on(r,e,s){this.validateEventType_(r),this.listeners_[r]=this.listeners_[r]||[],this.listeners_[r].push({callback:e,context:s});const l=this.getInitialEvent(r);l&&e.apply(s,l)}off(r,e,s){this.validateEventType_(r);const l=this.listeners_[r]||[];for(let d=0;d<l.length;d++)if(l[d].callback===e&&(!s||s===l[d].context))return void l.splice(d,1)}validateEventType_(r){(0,k.hu)(this.allowedEvents_.find(e=>e===r),"Unknown event: "+r)}}class Pp extends bE{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,k.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Pp}getInitialEvent(r){return(0,k.hu)("online"===r,"Unknown event type: "+r),[this.online_]}currentlyOnline(){return this.online_}}class $t{constructor(r,e){if(void 0===e){this.pieces_=r.split("/");let s=0;for(let l=0;l<this.pieces_.length;l++)this.pieces_[l].length>0&&(this.pieces_[s]=this.pieces_[l],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=r,this.pieceNum_=e}toString(){let r="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(r+="/"+this.pieces_[e]);return r||"/"}}function Ft(){return new $t("")}function bt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function ua(n){return n.pieces_.length-n.pieceNum_}function Jt(n){let r=n.pieceNum_;return r<n.pieces_.length&&r++,new $t(n.pieces_,r)}function a_(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function qh(n,r=0){return n.pieces_.slice(n.pieceNum_+r)}function TE(n){if(n.pieceNum_>=n.pieces_.length)return null;const r=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)r.push(n.pieces_[e]);return new $t(r,0)}function dn(n,r){const e=[];for(let s=n.pieceNum_;s<n.pieces_.length;s++)e.push(n.pieces_[s]);if(r instanceof $t)for(let s=r.pieceNum_;s<r.pieces_.length;s++)e.push(r.pieces_[s]);else{const s=r.split("/");for(let l=0;l<s.length;l++)s[l].length>0&&e.push(s[l])}return new $t(e,0)}function Nt(n){return n.pieceNum_>=n.pieces_.length}function ti(n,r){const e=bt(n),s=bt(r);if(null===e)return r;if(e===s)return ti(Jt(n),Jt(r));throw new Error("INTERNAL ERROR: innerPath ("+r+") is not within outerPath ("+n+")")}function UT(n,r){const e=qh(n,0),s=qh(r,0);for(let l=0;l<e.length&&l<s.length;l++){const d=js(e[l],s[l]);if(0!==d)return d}return e.length===s.length?0:e.length<s.length?-1:1}function SE(n,r){if(ua(n)!==ua(r))return!1;for(let e=n.pieceNum_,s=r.pieceNum_;e<=n.pieces_.length;e++,s++)if(n.pieces_[e]!==r.pieces_[s])return!1;return!0}function Vi(n,r){let e=n.pieceNum_,s=r.pieceNum_;if(ua(n)>ua(r))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==r.pieces_[s])return!1;++e,++s}return!0}class AE{constructor(r,e){this.errorPrefix_=e,this.parts_=qh(r,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=(0,k.ug)(this.parts_[s]);l_(this)}}function l_(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+fl(n))}function fl(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class u_ extends bE{constructor(){let r,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",r="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",r="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",r="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",r="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const s=!document[r];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}static getInstance(){return new u_}getInitialEvent(r){return(0,k.hu)("visible"===r,"Unknown event type: "+r),[this.visible_]}}const yd=1e3;let Cd,qu=(()=>{class n extends Ku{constructor(e,s,l,d,g,I,w,R){if(super(),this.repoInfo_=e,this.applicationId_=s,this.onDataUpdate_=l,this.onConnectStatus_=d,this.onServerInfoUpdate_=g,this.authTokenProvider_=I,this.appCheckTokenProvider_=w,this.authOverride_=R,this.id=n.nextPersistentConnectionId_++,this.log_=$u("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=yd,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,R&&!(0,k.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");u_.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&Pp.getInstance().on("online",this.onOnline_,this)}sendRequest(e,s,l){const d=++this.requestNumber_,g={r:d,a:e,b:s};this.log_((0,k.Wl)(g)),(0,k.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(g),l&&(this.requestCBHash_[d]=l)}get(e){this.initConnection_();const s=new k.BH,d={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:I=>{const w=I.d;"ok"===I.s?s.resolve(w):s.reject(w)}};return this.outstandingGets_.push(d),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),s.promise}listen(e,s,l,d){this.initConnection_();const g=e._queryIdentifier,I=e._path.toString();this.log_("Listen called for "+I+" "+g),this.listens.has(I)||this.listens.set(I,new Map),(0,k.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,k.hu)(!this.listens.get(I).has(g),"listen() called twice for same path/queryId.");const w={onComplete:d,hashFn:s,query:e,tag:l};this.listens.get(I).set(g,w),this.connected_&&this.sendListen_(w)}sendGet_(e){const s=this.outstandingGets_[e];this.sendRequest("g",s.request,l=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),s.onComplete&&s.onComplete(l)})}sendListen_(e){const s=e.query,l=s._path.toString(),d=s._queryIdentifier;this.log_("Listen on "+l+" for "+d);const g={p:l};e.tag&&(g.q=s._queryObject,g.t=e.tag),g.h=e.hashFn(),this.sendRequest("q",g,w=>{const R=w.d,V=w.s;n.warnOnListenWarnings_(R,s),(this.listens.get(l)&&this.listens.get(l).get(d))===e&&(this.log_("listen response",w),"ok"!==V&&this.removeListen_(l,d),e.onComplete&&e.onComplete(V,R))})}static warnOnListenWarnings_(e,s){if(e&&"object"==typeof e&&(0,k.r3)(e,"w")){const l=(0,k.DV)(e,"w");if(Array.isArray(l)&&~l.indexOf("no_index")){const d='".indexOn": "'+s._queryParams.getIndex().toString()+'"',g=s._path.toString();Hn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${d} at ${g} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,k.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,s=(0,k.w9)(e)?"auth":"gauth",l={cred:e};null===this.authOverride_?l.noauth=!0:"object"==typeof this.authOverride_&&(l.authvar=this.authOverride_),this.sendRequest(s,l,d=>{const g=d.s,I=d.d||"error";this.authToken_===e&&("ok"===g?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(g,I))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const s=e.s,l=e.d||"error";"ok"===s?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(s,l)})}unlisten(e,s){const l=e._path.toString(),d=e._queryIdentifier;this.log_("Unlisten called for "+l+" "+d),(0,k.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(l,d)&&this.connected_&&this.sendUnlisten_(l,d,e._queryObject,s)}sendUnlisten_(e,s,l,d){this.log_("Unlisten on "+e+" for "+s);const g={p:e};d&&(g.q=l,g.t=d),this.sendRequest("n",g)}onDisconnectPut(e,s,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,s,l):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:s,onComplete:l})}onDisconnectMerge(e,s,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,s,l):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:s,onComplete:l})}onDisconnectCancel(e,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:s})}sendOnDisconnect_(e,s,l,d){const g={p:s,d:l};this.log_("onDisconnect "+e,g),this.sendRequest(e,g,I=>{d&&setTimeout(()=>{d(I.s,I.d)},Math.floor(0))})}put(e,s,l,d){this.putInternal("p",e,s,l,d)}merge(e,s,l,d){this.putInternal("m",e,s,l,d)}putInternal(e,s,l,d,g){this.initConnection_();const I={p:s,d:l};void 0!==g&&(I.h=g),this.outstandingPuts_.push({action:e,request:I,onComplete:d}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+s)}sendPut_(e){const s=this.outstandingPuts_[e].action,l=this.outstandingPuts_[e].request,d=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(s,l,g=>{this.log_(s+" response",g),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),d&&d(g.s,g.d)})}reportStats(e){if(this.connected_){const s={c:e};this.log_("reportStats",s),this.sendRequest("s",s,l=>{"ok"!==l.s&&this.log_("reportStats","Error sending stats: "+l.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,k.Wl)(e));const s=e.r,l=this.requestCBHash_[s];l&&(delete this.requestCBHash_[s],l(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,s){this.log_("handleServerMessage",e,s),"d"===e?this.onDataUpdate_(s.p,s.d,!1,s.t):"m"===e?this.onDataUpdate_(s.p,s.d,!0,s.t):"c"===e?this.onListenRevoked_(s.p,s.q):"ac"===e?this.onAuthRevoked_(s.s,s.d):"apc"===e?this.onAppCheckRevoked_(s.s,s.d):"sd"===e?this.onSecurityDebugPacket_(s):Gu("Unrecognized action received from server: "+(0,k.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,s){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=s,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,k.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=yd,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=yd,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=yd),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let s=Math.max(0,this.reconnectDelay_-e);s=Math.random()*s,this.log_("Trying to reconnect in "+s+"ms"),this.scheduleConnect_(s),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,Fi.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const s=e.onDataMessage_.bind(e),l=e.onReady_.bind(e),d=e.onRealtimeDisconnect_.bind(e),g=e.id+":"+n.nextConnectionId_++,I=e.lastSessionId;let w=!1,R=null;const V=function(){R?R.close():(w=!0,d())};e.realtime_={close:V,sendRequest:function(we){(0,k.hu)(R,"sendRequest call when we're not connected not allowed."),R.sendRequest(we)}};const K=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[we,Ve]=yield Promise.all([e.authTokenProvider_.getToken(K),e.appCheckTokenProvider_.getToken(K)]);w?Qn("getToken() completed but was canceled"):(Qn("getToken() completed. Creating connection."),e.authToken_=we&&we.accessToken,e.appCheckToken_=Ve&&Ve.token,R=new Ao(g,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,s,l,d,t=>{Hn(t+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},I))}catch(we){e.log_("Failed to get token: "+we),w||(e.repoInfo_.nodeAdmin&&Hn(we),V())}}})()}interrupt(e){Qn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Qn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,k.xb)(this.interruptReasons_)&&(this.reconnectDelay_=yd,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const s=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:s})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const s=this.outstandingPuts_[e];s&&"h"in s.request&&s.queued&&(s.onComplete&&s.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,s){let l;l=s?s.map(g=>$m(g)).join("$"):"default";const d=this.removeListen_(e,l);d&&d.onComplete&&d.onComplete("permission_denied")}removeListen_(e,s){const l=new $t(e).toString();let d;if(this.listens.has(l)){const g=this.listens.get(l);d=g.get(s),g.delete(s),0===g.size&&this.listens.delete(l)}else d=void 0;return d}onAuthRevoked_(e,s){Qn("Auth token revoked: "+e+"/"+s),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,s){Qn("App check token revoked: "+e+"/"+s),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const s of e.values())this.sendListen_(s);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let s="js";(0,k.Yr)()&&(s=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+s+"."+Vm.replace(/\./g,"-")]=1,(0,k.uI)()?e["framework.cordova"]=1:(0,k.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Pp.getInstance().currentlyOnline();return(0,k.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class At{constructor(r,e){this.name=r,this.node=e}static Wrap(r,e){return new At(r,e)}}class ca{getCompare(){return this.compare.bind(this)}indexedValueChanged(r,e){const s=new At(Wu,r),l=new At(Wu,e);return 0!==this.compare(s,l)}minPost(){return At.MIN}}class Id extends ca{static get __EMPTY_NODE(){return Cd}static set __EMPTY_NODE(r){Cd=r}compare(r,e){return js(r.name,e.name)}isDefinedOn(r){throw(0,k.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(r,e){return!1}minPost(){return At.MIN}maxPost(){return new At(Bs,Cd)}makePost(r,e){return(0,k.hu)("string"==typeof r,"KeyIndex indexValue must always be a string."),new At(r,Cd)}toString(){return".key"}}const $s=new Id;class Dd{constructor(r,e,s,l,d=null){this.isReverse_=l,this.resultGenerator_=d,this.nodeStack_=[];let g=1;for(;!r.isEmpty();)if(g=e?s(r.key,e):1,l&&(g*=-1),g<0)r=this.isReverse_?r.left:r.right;else{if(0===g){this.nodeStack_.push(r);break}this.nodeStack_.push(r),r=this.isReverse_?r.right:r.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,r=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(r.key,r.value):{key:r.key,value:r.value},this.isReverse_)for(r=r.left;!r.isEmpty();)this.nodeStack_.push(r),r=r.right;else for(r=r.right;!r.isEmpty();)this.nodeStack_.push(r),r=r.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const r=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(r.key,r.value):{key:r.key,value:r.value}}}let p_,Ui=(()=>{class n{constructor(e,s,l,d,g){this.key=e,this.value=s,this.color=l??n.RED,this.left=d??ni.EMPTY_NODE,this.right=g??ni.EMPTY_NODE}copy(e,s,l,d,g){return new n(e??this.key,s??this.value,l??this.color,d??this.left,g??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,s,l){let d=this;const g=l(e,d.key);return d=g<0?d.copy(null,null,null,d.left.insert(e,s,l),null):0===g?d.copy(null,s,null,null,null):d.copy(null,null,null,null,d.right.insert(e,s,l)),d.fixUp_()}removeMin_(){if(this.left.isEmpty())return ni.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,s){let l,d;if(l=this,s(e,l.key)<0)!l.left.isEmpty()&&!l.left.isRed_()&&!l.left.left.isRed_()&&(l=l.moveRedLeft_()),l=l.copy(null,null,null,l.left.remove(e,s),null);else{if(l.left.isRed_()&&(l=l.rotateRight_()),!l.right.isEmpty()&&!l.right.isRed_()&&!l.right.left.isRed_()&&(l=l.moveRedRight_()),0===s(e,l.key)){if(l.right.isEmpty())return ni.EMPTY_NODE;d=l.right.min_(),l=l.copy(d.key,d.value,null,null,l.right.removeMin_())}l=l.copy(null,null,null,null,l.right.remove(e,s))}return l.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,s)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class ni{constructor(r,e=ni.EMPTY_NODE){this.comparator_=r,this.root_=e}insert(r,e){return new ni(this.comparator_,this.root_.insert(r,e,this.comparator_).copy(null,null,Ui.BLACK,null,null))}remove(r){return new ni(this.comparator_,this.root_.remove(r,this.comparator_).copy(null,null,Ui.BLACK,null,null))}get(r){let e,s=this.root_;for(;!s.isEmpty();){if(e=this.comparator_(r,s.key),0===e)return s.value;e<0?s=s.left:e>0&&(s=s.right)}return null}getPredecessorKey(r){let e,s=this.root_,l=null;for(;!s.isEmpty();){if(e=this.comparator_(r,s.key),0===e){if(s.left.isEmpty())return l?l.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}e<0?s=s.left:e>0&&(l=s,s=s.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(r){return this.root_.inorderTraversal(r)}reverseTraversal(r){return this.root_.reverseTraversal(r)}getIterator(r){return new Dd(this.root_,null,this.comparator_,!1,r)}getIteratorFrom(r,e){return new Dd(this.root_,r,this.comparator_,!1,e)}getReverseIteratorFrom(r,e){return new Dd(this.root_,r,this.comparator_,!0,e)}getReverseIterator(r){return new Dd(this.root_,null,this.comparator_,!0,r)}}function h_(n,r){return js(n.name,r.name)}function f_(n,r){return js(n,r)}ni.EMPTY_NODE=new class d_{copy(r,e,s,l,d){return this}insert(r,e,s){return new Ui(r,e,null)}remove(r,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const g_=function(n){return"number"==typeof n?"number:"+Gm(n):"string:"+n},OE=function(n){if(n.isLeafNode()){const r=n.val();(0,k.hu)("string"==typeof r||"number"==typeof r||"object"==typeof r&&(0,k.r3)(r,".sv"),"Priority must be a string or number.")}else(0,k.hu)(n===p_||n.isEmpty(),"priority of unexpected type.");(0,k.hu)(n===p_||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let PE,xE,m_,wd=(()=>{class n{constructor(e,s=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=s,this.lazyHash_=null,(0,k.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),OE(this.priorityNode_)}static set __childrenNodeConstructor(e){PE=e}static get __childrenNodeConstructor(){return PE}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Nt(e)?this:".priority"===bt(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,s){return null}updateImmediateChild(e,s){return".priority"===e?this.updatePriority(s):s.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,s).updatePriority(this.priorityNode_)}updateChild(e,s){const l=bt(e);return null===l?s:s.isEmpty()&&".priority"!==l?this:((0,k.hu)(".priority"!==l||1===ua(e),".priority must be the last token in a path"),this.updateImmediateChild(l,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Jt(e),s)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,s){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+g_(this.priorityNode_.val())+":");const s=typeof this.value_;e+=s+":",e+="number"===s?Gm(this.value_):this.value_,this.lazyHash_=$h(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,k.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const s=typeof e.value_,l=typeof this.value_,d=n.VALUE_TYPE_ORDER.indexOf(s),g=n.VALUE_TYPE_ORDER.indexOf(l);return(0,k.hu)(d>=0,"Unknown leaf type: "+s),(0,k.hu)(g>=0,"Unknown leaf type: "+l),d===g?"object"===l?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:g-d}withIndex(){return this}isIndexed(){return!0}equals(e){return e===this||!!e.isLeafNode()&&(this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const Ot=new class Tw extends ca{compare(r,e){const s=r.node.getPriority(),l=e.node.getPriority(),d=s.compareTo(l);return 0===d?js(r.name,e.name):d}isDefinedOn(r){return!r.getPriority().isEmpty()}indexedValueChanged(r,e){return!r.getPriority().equals(e.getPriority())}minPost(){return At.MIN}maxPost(){return new At(Bs,new wd("[PRIORITY-POST]",m_))}makePost(r,e){const s=xE(r);return new At(e,new wd("[PRIORITY-POST]",s))}toString(){return".priority"}},Sw=Math.log(2);class Aw{constructor(r){this.count=parseInt(Math.log(r+1)/Sw,10),this.current_=this.count-1;const l=(d=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=r+1&l}nextBitIsOne(){const r=!(this.bits_&1<<this.current_);return this.current_--,r}}const __=function(n,r,e,s){n.sort(r);const l=function(w,R){const V=R-w;let j,K;if(0===V)return null;if(1===V)return j=n[w],K=e?e(j):j,new Ui(K,j.node,Ui.BLACK,null,null);{const we=parseInt(V/2,10)+w,Ve=l(w,we),t=l(we+1,R);return j=n[we],K=e?e(j):j,new Ui(K,j.node,Ui.BLACK,Ve,t)}},I=function(w){let R=null,V=null,j=n.length;const K=function(Ve,t){const i=j-Ve,o=j;j-=Ve;const a=l(i+1,o),u=n[i],h=e?e(u):u;we(new Ui(h,u.node,t,null,a))},we=function(Ve){R?(R.left=Ve,R=Ve):(V=Ve,R=Ve)};for(let Ve=0;Ve<w.count;++Ve){const t=w.nextBitIsOne(),i=Math.pow(2,w.count-(Ve+1));t?K(i,Ui.BLACK):(K(i,Ui.BLACK),K(i,Ui.RED))}return V}(new Aw(n.length));return new ni(s||r,I)};let Yh;const Yu={};class da{constructor(r,e){this.indexes_=r,this.indexSet_=e}static get Default(){return(0,k.hu)(Yu&&Ot,"ChildrenNode.ts has not been loaded"),Yh=Yh||new da({".priority":Yu},{".priority":Ot}),Yh}get(r){const e=(0,k.DV)(this.indexes_,r);if(!e)throw new Error("No index defined for "+r);return e instanceof ni?e:null}hasIndex(r){return(0,k.r3)(this.indexSet_,r.toString())}addIndex(r,e){(0,k.hu)(r!==$s,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let l=!1;const d=e.getIterator(At.Wrap);let I,g=d.getNext();for(;g;)l=l||r.isDefinedOn(g.node),s.push(g),g=d.getNext();I=l?__(s,r.getCompare()):Yu;const w=r.toString(),R=Object.assign({},this.indexSet_);R[w]=r;const V=Object.assign({},this.indexes_);return V[w]=I,new da(V,R)}addToIndexes(r,e){const s=(0,k.UI)(this.indexes_,(l,d)=>{const g=(0,k.DV)(this.indexSet_,d);if((0,k.hu)(g,"Missing index implementation for "+d),l===Yu){if(g.isDefinedOn(r.node)){const I=[],w=e.getIterator(At.Wrap);let R=w.getNext();for(;R;)R.name!==r.name&&I.push(R),R=w.getNext();return I.push(r),__(I,g.getCompare())}return Yu}{const I=e.get(r.name);let w=l;return I&&(w=w.remove(new At(r.name,I))),w.insert(r,r.node)}});return new da(s,this.indexSet_)}removeFromIndexes(r,e){const s=(0,k.UI)(this.indexes_,l=>{if(l===Yu)return l;{const d=e.get(r.name);return d?l.remove(new At(r.name,d)):l}});return new da(s,this.indexSet_)}}let Qh,Dt=(()=>{class n{constructor(e,s,l){this.children_=e,this.priorityNode_=s,this.indexMap_=l,this.lazyHash_=null,this.priorityNode_&&OE(this.priorityNode_),this.children_.isEmpty()&&(0,k.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Qh||(Qh=new n(new ni(f_),null,da.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Qh}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const s=this.children_.get(e);return null===s?Qh:s}}getChild(e){const s=bt(e);return null===s?this:this.getImmediateChild(s).getChild(Jt(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,s){if((0,k.hu)(s,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(s);{const l=new At(e,s);let d,g;s.isEmpty()?(d=this.children_.remove(e),g=this.indexMap_.removeFromIndexes(l,this.children_)):(d=this.children_.insert(e,s),g=this.indexMap_.addToIndexes(l,this.children_));const I=d.isEmpty()?Qh:this.priorityNode_;return new n(d,I,g)}}updateChild(e,s){const l=bt(e);if(null===l)return s;{(0,k.hu)(".priority"!==bt(e)||1===ua(e),".priority must be the last token in a path");const d=this.getImmediateChild(l).updateChild(Jt(e),s);return this.updateImmediateChild(l,d)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const s={};let l=0,d=0,g=!0;if(this.forEachChild(Ot,(I,w)=>{s[I]=w.val(e),l++,g&&n.INTEGER_REGEXP_.test(I)?d=Math.max(d,Number(I)):g=!1}),!e&&g&&d<2*l){const I=[];for(const w in s)I[w]=s[w];return I}return e&&!this.getPriority().isEmpty()&&(s[".priority"]=this.getPriority().val()),s}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+g_(this.getPriority().val())+":"),this.forEachChild(Ot,(s,l)=>{const d=l.hash();""!==d&&(e+=":"+s+":"+d)}),this.lazyHash_=""===e?"":$h(e)}return this.lazyHash_}getPredecessorChildName(e,s,l){const d=this.resolveIndex_(l);if(d){const g=d.getPredecessorKey(new At(e,s));return g?g.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const s=this.resolveIndex_(e);if(s){const l=s.minKey();return l&&l.name}return this.children_.minKey()}getFirstChild(e){const s=this.getFirstChildName(e);return s?new At(s,this.children_.get(s)):null}getLastChildName(e){const s=this.resolveIndex_(e);if(s){const l=s.maxKey();return l&&l.name}return this.children_.maxKey()}getLastChild(e){const s=this.getLastChildName(e);return s?new At(s,this.children_.get(s)):null}forEachChild(e,s){const l=this.resolveIndex_(e);return l?l.inorderTraversal(d=>s(d.name,d.node)):this.children_.inorderTraversal(s)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,s){const l=this.resolveIndex_(s);if(l)return l.getIteratorFrom(e,d=>d);{const d=this.children_.getIteratorFrom(e.name,At.Wrap);let g=d.peek();for(;null!=g&&s.compare(g,e)<0;)d.getNext(),g=d.peek();return d}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,s){const l=this.resolveIndex_(s);if(l)return l.getReverseIteratorFrom(e,d=>d);{const d=this.children_.getReverseIteratorFrom(e.name,At.Wrap);let g=d.peek();for(;null!=g&&s.compare(g,e)>0;)d.getNext(),g=d.peek();return d}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Jh?-1:0}withIndex(e){if(e===$s||this.indexMap_.hasIndex(e))return this;{const s=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,s)}}isIndexed(e){return e===$s||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const s=e;if(this.getPriority().equals(s.getPriority())){if(this.children_.count()===s.children_.count()){const l=this.getIterator(Ot),d=s.getIterator(Ot);let g=l.getNext(),I=d.getNext();for(;g&&I;){if(g.name!==I.name||!g.node.equals(I.node))return!1;g=l.getNext(),I=d.getNext()}return null===g&&null===I}return!1}return!1}}resolveIndex_(e){return e===$s?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const Jh=new class FE extends Dt{constructor(){super(new ni(f_),Dt.EMPTY_NODE,da.Default)}compareTo(r){return r===this?0:1}equals(r){return r===this}getPriority(){return this}getImmediateChild(r){return Dt.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(At,{MIN:{value:new At(Wu,Dt.EMPTY_NODE)},MAX:{value:new At(Bs,Jh)}}),Id.__EMPTY_NODE=Dt.EMPTY_NODE,wd.__childrenNodeConstructor=Dt,function ww(n){p_=n}(Jh),function bw(n){m_=n}(Jh);const Mw=!0;function hn(n,r=null){if(null===n)return Dt.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(r=n[".priority"]),(0,k.hu)(null===r||"string"==typeof r||"number"==typeof r||"object"==typeof r&&".sv"in r,"Invalid priority type found: "+typeof r),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new wd(n,hn(r));if(n instanceof Array||!Mw){let e=Dt.EMPTY_NODE;return Jn(n,(s,l)=>{if((0,k.r3)(n,s)&&"."!==s.substring(0,1)){const d=hn(l);(d.isLeafNode()||!d.isEmpty())&&(e=e.updateImmediateChild(s,d))}}),e.updatePriority(hn(r))}{const e=[];let s=!1;if(Jn(n,(g,I)=>{if("."!==g.substring(0,1)){const w=hn(I);w.isEmpty()||(s=s||!w.getPriority().isEmpty(),e.push(new At(g,w)))}}),0===e.length)return Dt.EMPTY_NODE;const d=__(e,h_,g=>g.name,f_);if(s){const g=__(e,Ot.getCompare());return new Dt(d,hn(r),new da({".priority":g},{".priority":Ot}))}return new Dt(d,hn(r),da.Default)}}!function kE(n){xE=n}(hn);class v_ extends ca{constructor(r){super(),this.indexPath_=r,(0,k.hu)(!Nt(r)&&".priority"!==bt(r),"Can't create PathIndex with empty path or .priority key")}extractChild(r){return r.getChild(this.indexPath_)}isDefinedOn(r){return!r.getChild(this.indexPath_).isEmpty()}compare(r,e){const s=this.extractChild(r.node),l=this.extractChild(e.node),d=s.compareTo(l);return 0===d?js(r.name,e.name):d}makePost(r,e){const s=hn(r),l=Dt.EMPTY_NODE.updateChild(this.indexPath_,s);return new At(e,l)}maxPost(){const r=Dt.EMPTY_NODE.updateChild(this.indexPath_,Jh);return new At(Bs,r)}toString(){return qh(this.indexPath_,0).join("/")}}const y_=new class Rw extends ca{compare(r,e){const s=r.node.compareTo(e.node);return 0===s?js(r.name,e.name):s}isDefinedOn(r){return!0}indexedValueChanged(r,e){return!r.equals(e)}minPost(){return At.MIN}maxPost(){return At.MAX}makePost(r,e){const s=hn(r);return new At(e,s)}toString(){return".value"}};function LE(n){return{type:"value",snapshotNode:n}}function bd(n,r){return{type:"child_added",snapshotNode:r,childName:n}}function pi(n,r){return{type:"child_removed",snapshotNode:r,childName:n}}function Qu(n,r,e){return{type:"child_changed",snapshotNode:r,childName:n,oldSnap:e}}class kp{constructor(r){this.index_=r}updateChild(r,e,s,l,d,g){(0,k.hu)(r.isIndexed(this.index_),"A node must be indexed if only a child is updated");const I=r.getImmediateChild(e);return I.getChild(l).equals(s.getChild(l))&&I.isEmpty()===s.isEmpty()||(null!=g&&(s.isEmpty()?r.hasChild(e)?g.trackChildChange(pi(e,I)):(0,k.hu)(r.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):I.isEmpty()?g.trackChildChange(bd(e,s)):g.trackChildChange(Qu(e,s,I))),r.isLeafNode()&&s.isEmpty())?r:r.updateImmediateChild(e,s).withIndex(this.index_)}updateFullNode(r,e,s){return null!=s&&(r.isLeafNode()||r.forEachChild(Ot,(l,d)=>{e.hasChild(l)||s.trackChildChange(pi(l,d))}),e.isLeafNode()||e.forEachChild(Ot,(l,d)=>{if(r.hasChild(l)){const g=r.getImmediateChild(l);g.equals(d)||s.trackChildChange(Qu(l,d,g))}else s.trackChildChange(bd(l,d))})),e.withIndex(this.index_)}updatePriority(r,e){return r.isEmpty()?Dt.EMPTY_NODE:r.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Xh{constructor(r){this.indexedFilter_=new kp(r.getIndex()),this.index_=r.getIndex(),this.startPost_=Xh.getStartPost_(r),this.endPost_=Xh.getEndPost_(r),this.startIsInclusive_=!r.startAfterSet_,this.endIsInclusive_=!r.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(r){const e=this.startIsInclusive_?this.index_.compare(this.getStartPost(),r)<=0:this.index_.compare(this.getStartPost(),r)<0,s=this.endIsInclusive_?this.index_.compare(r,this.getEndPost())<=0:this.index_.compare(r,this.getEndPost())<0;return e&&s}updateChild(r,e,s,l,d,g){return this.matches(new At(e,s))||(s=Dt.EMPTY_NODE),this.indexedFilter_.updateChild(r,e,s,l,d,g)}updateFullNode(r,e,s){e.isLeafNode()&&(e=Dt.EMPTY_NODE);let l=e.withIndex(this.index_);l=l.updatePriority(Dt.EMPTY_NODE);const d=this;return e.forEachChild(Ot,(g,I)=>{d.matches(new At(g,I))||(l=l.updateImmediateChild(g,Dt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(r,l,s)}updatePriority(r,e){return r}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(r){if(r.hasStart()){const e=r.getIndexStartName();return r.getIndex().makePost(r.getIndexStartValue(),e)}return r.getIndex().minPost()}static getEndPost_(r){if(r.hasEnd()){const e=r.getIndexEndName();return r.getIndex().makePost(r.getIndexEndValue(),e)}return r.getIndex().maxPost()}}class VE{constructor(r){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const s=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?s<=0:s<0},this.withinEndPost=e=>{const s=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?s<=0:s<0},this.rangedFilter_=new Xh(r),this.index_=r.getIndex(),this.limit_=r.getLimit(),this.reverse_=!r.isViewFromLeft(),this.startIsInclusive_=!r.startAfterSet_,this.endIsInclusive_=!r.endBeforeSet_}updateChild(r,e,s,l,d,g){return this.rangedFilter_.matches(new At(e,s))||(s=Dt.EMPTY_NODE),r.getImmediateChild(e).equals(s)?r:r.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(r,e,s,l,d,g):this.fullLimitUpdateChild_(r,e,s,d,g)}updateFullNode(r,e,s){let l;if(e.isLeafNode()||e.isEmpty())l=Dt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let d;l=Dt.EMPTY_NODE.withIndex(this.index_),d=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let g=0;for(;d.hasNext()&&g<this.limit_;){const I=d.getNext();if(this.withinDirectionalStart(I)){if(!this.withinDirectionalEnd(I))break;l=l.updateImmediateChild(I.name,I.node),g++}}}else{let d;l=e.withIndex(this.index_),l=l.updatePriority(Dt.EMPTY_NODE),d=this.reverse_?l.getReverseIterator(this.index_):l.getIterator(this.index_);let g=0;for(;d.hasNext();){const I=d.getNext();g<this.limit_&&this.withinDirectionalStart(I)&&this.withinDirectionalEnd(I)?g++:l=l.updateImmediateChild(I.name,Dt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(r,l,s)}updatePriority(r,e){return r}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(r,e,s,l,d){let g;if(this.reverse_){const j=this.index_.getCompare();g=(K,we)=>j(we,K)}else g=this.index_.getCompare();const I=r;(0,k.hu)(I.numChildren()===this.limit_,"");const w=new At(e,s),R=this.reverse_?I.getFirstChild(this.index_):I.getLastChild(this.index_),V=this.rangedFilter_.matches(w);if(I.hasChild(e)){const j=I.getImmediateChild(e);let K=l.getChildAfterChild(this.index_,R,this.reverse_);for(;null!=K&&(K.name===e||I.hasChild(K.name));)K=l.getChildAfterChild(this.index_,K,this.reverse_);const we=null==K?1:g(K,w);if(V&&!s.isEmpty()&&we>=0)return d?.trackChildChange(Qu(e,s,j)),I.updateImmediateChild(e,s);{d?.trackChildChange(pi(e,j));const t=I.updateImmediateChild(e,Dt.EMPTY_NODE);return null!=K&&this.rangedFilter_.matches(K)?(d?.trackChildChange(bd(K.name,K.node)),t.updateImmediateChild(K.name,K.node)):t}}return s.isEmpty()?r:V&&g(R,w)>=0?(null!=d&&(d.trackChildChange(pi(R.name,R.node)),d.trackChildChange(bd(e,s))),I.updateImmediateChild(e,s).updateImmediateChild(R.name,Dt.EMPTY_NODE)):r}}class ef{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ot}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,k.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,k.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Wu}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,k.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,k.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Bs}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,k.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ot}copy(){const r=new ef;return r.limitSet_=this.limitSet_,r.limit_=this.limit_,r.startSet_=this.startSet_,r.startAfterSet_=this.startAfterSet_,r.indexStartValue_=this.indexStartValue_,r.startNameSet_=this.startNameSet_,r.indexStartName_=this.indexStartName_,r.endSet_=this.endSet_,r.endBeforeSet_=this.endBeforeSet_,r.indexEndValue_=this.indexEndValue_,r.endNameSet_=this.endNameSet_,r.indexEndName_=this.indexEndName_,r.index_=this.index_,r.viewFrom_=this.viewFrom_,r}}function Lp(n,r,e){const s=n.copy();return s.startSet_=!0,void 0===r&&(r=null),s.indexStartValue_=r,null!=e?(s.startNameSet_=!0,s.indexStartName_=e):(s.startNameSet_=!1,s.indexStartName_=""),s}function Vp(n,r,e){const s=n.copy();return s.endSet_=!0,void 0===r&&(r=null),s.indexEndValue_=r,void 0!==e?(s.endNameSet_=!0,s.indexEndName_=e):(s.endNameSet_=!1,s.indexEndName_=""),s}function Td(n,r){const e=n.copy();return e.index_=r,e}function Mo(n){const r={};if(n.isDefault())return r;let e;if(n.index_===Ot?e="$priority":n.index_===y_?e="$value":n.index_===$s?e="$key":((0,k.hu)(n.index_ instanceof v_,"Unrecognized index type!"),e=n.index_.toString()),r.orderBy=(0,k.Wl)(e),n.startSet_){const s=n.startAfterSet_?"startAfter":"startAt";r[s]=(0,k.Wl)(n.indexStartValue_),n.startNameSet_&&(r[s]+=","+(0,k.Wl)(n.indexStartName_))}if(n.endSet_){const s=n.endBeforeSet_?"endBefore":"endAt";r[s]=(0,k.Wl)(n.indexEndValue_),n.endNameSet_&&(r[s]+=","+(0,k.Wl)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?r.limitToFirst=n.limit_:r.limitToLast=n.limit_),r}function jE(n){const r={};if(n.startSet_&&(r.sp=n.indexStartValue_,n.startNameSet_&&(r.sn=n.indexStartName_),r.sin=!n.startAfterSet_),n.endSet_&&(r.ep=n.indexEndValue_,n.endNameSet_&&(r.en=n.indexEndName_),r.ein=!n.endBeforeSet_),n.limitSet_){r.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),r.vf=e}return n.index_!==Ot&&(r.i=n.index_.toString()),r}class Up extends Ku{constructor(r,e,s,l){super(),this.repoInfo_=r,this.onDataUpdate_=e,this.authTokenProvider_=s,this.appCheckTokenProvider_=l,this.log_=$u("p:rest:"),this.listens_={}}reportStats(r){throw new Error("Method not implemented.")}static getListenId_(r,e){return void 0!==e?"tag$"+e:((0,k.hu)(r._queryParams.isDefault(),"should have a tag if it's not a default query."),r._path.toString())}listen(r,e,s,l){const d=r._path.toString();this.log_("Listen called for "+d+" "+r._queryIdentifier);const g=Up.getListenId_(r,s),I={};this.listens_[g]=I;const w=Mo(r._queryParams);this.restRequest_(d+".json",w,(R,V)=>{let j=V;if(404===R&&(j=null,R=null),null===R&&this.onDataUpdate_(d,j,!1,s),(0,k.DV)(this.listens_,g)===I){let K;K=R?401===R?"permission_denied":"rest_error:"+R:"ok",l(K,null)}})}unlisten(r,e){const s=Up.getListenId_(r,e);delete this.listens_[s]}get(r){const e=Mo(r._queryParams),s=r._path.toString(),l=new k.BH;return this.restRequest_(s+".json",e,(d,g)=>{let I=g;404===d&&(I=null,d=null),null===d?(this.onDataUpdate_(s,I,!1,null),l.resolve(I)):l.reject(new Error(I))}),l.promise}refreshAuthToken(r){}restRequest_(r,e={},s){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([l,d])=>{l&&l.accessToken&&(e.auth=l.accessToken),d&&d.token&&(e.ac=d.token);const g=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+r+"?ns="+this.repoInfo_.namespace+(0,k.xO)(e);this.log_("Sending REST request for "+g);const I=new XMLHttpRequest;I.onreadystatechange=()=>{if(s&&4===I.readyState){this.log_("REST Response for "+g+" received. status:",I.status,"response:",I.responseText);let w=null;if(I.status>=200&&I.status<300){try{w=(0,k.cI)(I.responseText)}catch{Hn("Failed to parse JSON response for "+g+": "+I.responseText)}s(null,w)}else 401!==I.status&&404!==I.status&&Hn("Got unsuccessful REST response for "+g+" Status: "+I.status),s(I.status);s=null}},I.open("GET",g,!0),I.send()})}}class C_{constructor(){this.rootNode_=Dt.EMPTY_NODE}getNode(r){return this.rootNode_.getChild(r)}updateSnapshot(r,e){this.rootNode_=this.rootNode_.updateChild(r,e)}}function Bp(){return{value:null,children:new Map}}function Ju(n,r,e){if(Nt(r))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(r,e);else{const s=bt(r);n.children.has(s)||n.children.set(s,Bp()),Ju(n.children.get(s),r=Jt(r),e)}}function I_(n,r){if(Nt(r))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(Ot,(s,l)=>{Ju(n,new $t(s),l)}),I_(n,r)}}if(n.children.size>0){const e=bt(r);return r=Jt(r),n.children.has(e)&&I_(n.children.get(e),r)&&n.children.delete(e),0===n.children.size}return!0}function Sd(n,r,e){null!==n.value?e(r,n.value):function tf(n,r){n.children.forEach((e,s)=>{r(s,e)})}(n,(s,l)=>{Sd(l,new $t(r.toString()+"/"+s),e)})}class HE{constructor(r){this.collection_=r,this.last_=null}get(){const r=this.collection_.get(),e=Object.assign({},r);return this.last_&&Jn(this.last_,(s,l)=>{e[s]=e[s]-l}),this.last_=r,e}}class $E{constructor(r,e){this.server_=e,this.statsToReport_={},this.statsListener_=new HE(r);const s=1e4+2e4*Math.random();hl(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const r=this.statsListener_.get(),e={};let s=!1;Jn(r,(l,d)=>{d>0&&(0,k.r3)(this.statsToReport_,l)&&(e[l]=d,s=!0)}),s&&this.server_.reportStats(e),hl(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Gs=function(n){return n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",n}(Gs||{});function jp(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class rf{constructor(r,e,s){this.path=r,this.affectedTree=e,this.revert=s,this.type=Gs.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(r){if(Nt(this.path)){if(null!=this.affectedTree.value)return(0,k.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new $t(r));return new rf(Ft(),e,this.revert)}}return(0,k.hu)(bt(this.path)===r,"operationForChild called for unrelated child."),new rf(Jt(this.path),this.affectedTree,this.revert)}}class ha{constructor(r,e){this.source=r,this.path=e,this.type=Gs.LISTEN_COMPLETE}operationForChild(r){return Nt(this.path)?new ha(this.source,Ft()):new ha(this.source,Jt(this.path))}}class Xu{constructor(r,e,s){this.source=r,this.path=e,this.snap=s,this.type=Gs.OVERWRITE}operationForChild(r){return Nt(this.path)?new Xu(this.source,Ft(),this.snap.getImmediateChild(r)):new Xu(this.source,Jt(this.path),this.snap)}}class ec{constructor(r,e,s){this.source=r,this.path=e,this.children=s,this.type=Gs.MERGE}operationForChild(r){if(Nt(this.path)){const e=this.children.subtree(new $t(r));return e.isEmpty()?null:e.value?new Xu(this.source,Ft(),e.value):new ec(this.source,Ft(),e)}return(0,k.hu)(bt(this.path)===r,"Can't get a merge for a child not on the path of the operation"),new ec(this.source,Jt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class fa{constructor(r,e,s){this.node_=r,this.fullyInitialized_=e,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(r){if(Nt(r))return this.isFullyInitialized()&&!this.filtered_;const e=bt(r);return this.isCompleteForChild(e)}isCompleteForChild(r){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(r)}getNode(){return this.node_}}class Pw{constructor(r){this.query_=r,this.index_=this.query_._queryParams.getIndex()}}function pa(n,r,e,s,l,d){const g=s.filter(I=>I.type===e);g.sort((I,w)=>function Fw(n,r,e){if(null==r.childName||null==e.childName)throw(0,k.g5)("Should only compare child_ events.");const s=new At(r.childName,r.snapshotNode),l=new At(e.childName,e.snapshotNode);return n.index_.compare(s,l)}(n,I,w)),g.forEach(I=>{const w=function kw(n,r,e){return"value"===r.type||"child_removed"===r.type||(r.prevName=e.getPredecessorChildName(r.childName,r.snapshotNode,n.index_)),r}(n,I,d);l.forEach(R=>{R.respondsTo(I.type)&&r.push(R.createEvent(w,n.query_))})})}function Hp(n,r){return{eventCache:n,serverCache:r}}function sf(n,r,e,s){return Hp(new fa(r,e,s),n.serverCache)}function GE(n,r,e,s){return Hp(n.eventCache,new fa(r,e,s))}function $p(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function tc(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let b_;class Xt{constructor(r,e=(()=>(b_||(b_=new ni(ow)),b_))()){this.value=r,this.children=e}static fromObject(r){let e=new Xt(null);return Jn(r,(s,l)=>{e=e.set(new $t(s),l)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(r,e){if(null!=this.value&&e(this.value))return{path:Ft(),value:this.value};if(Nt(r))return null;{const s=bt(r),l=this.children.get(s);if(null!==l){const d=l.findRootMostMatchingPathAndValue(Jt(r),e);return null!=d?{path:dn(new $t(s),d.path),value:d.value}:null}return null}}findRootMostValueAndPath(r){return this.findRootMostMatchingPathAndValue(r,()=>!0)}subtree(r){if(Nt(r))return this;{const e=bt(r),s=this.children.get(e);return null!==s?s.subtree(Jt(r)):new Xt(null)}}set(r,e){if(Nt(r))return new Xt(e,this.children);{const s=bt(r),d=(this.children.get(s)||new Xt(null)).set(Jt(r),e),g=this.children.insert(s,d);return new Xt(this.value,g)}}remove(r){if(Nt(r))return this.children.isEmpty()?new Xt(null):new Xt(null,this.children);{const e=bt(r),s=this.children.get(e);if(s){const l=s.remove(Jt(r));let d;return d=l.isEmpty()?this.children.remove(e):this.children.insert(e,l),null===this.value&&d.isEmpty()?new Xt(null):new Xt(this.value,d)}return this}}get(r){if(Nt(r))return this.value;{const e=bt(r),s=this.children.get(e);return s?s.get(Jt(r)):null}}setTree(r,e){if(Nt(r))return e;{const s=bt(r),d=(this.children.get(s)||new Xt(null)).setTree(Jt(r),e);let g;return g=d.isEmpty()?this.children.remove(s):this.children.insert(s,d),new Xt(this.value,g)}}fold(r){return this.fold_(Ft(),r)}fold_(r,e){const s={};return this.children.inorderTraversal((l,d)=>{s[l]=d.fold_(dn(r,l),e)}),e(r,this.value,s)}findOnPath(r,e){return this.findOnPath_(r,Ft(),e)}findOnPath_(r,e,s){const l=!!this.value&&s(e,this.value);if(l)return l;if(Nt(r))return null;{const d=bt(r),g=this.children.get(d);return g?g.findOnPath_(Jt(r),dn(e,d),s):null}}foreachOnPath(r,e){return this.foreachOnPath_(r,Ft(),e)}foreachOnPath_(r,e,s){if(Nt(r))return this;{this.value&&s(e,this.value);const l=bt(r),d=this.children.get(l);return d?d.foreachOnPath_(Jt(r),dn(e,l),s):new Xt(null)}}foreach(r){this.foreach_(Ft(),r)}foreach_(r,e){this.children.inorderTraversal((s,l)=>{l.foreach_(dn(r,s),e)}),this.value&&e(r,this.value)}foreachChild(r){this.children.inorderTraversal((e,s)=>{s.value&&r(e,s.value)})}}class Ws{constructor(r){this.writeTree_=r}static empty(){return new Ws(new Xt(null))}}function pl(n,r,e){if(Nt(r))return new Ws(new Xt(e));{const s=n.writeTree_.findRootMostValueAndPath(r);if(null!=s){const l=s.path;let d=s.value;const g=ti(l,r);return d=d.updateChild(g,e),new Ws(n.writeTree_.set(l,d))}{const l=new Xt(e),d=n.writeTree_.setTree(r,l);return new Ws(d)}}}function T_(n,r,e){let s=n;return Jn(e,(l,d)=>{s=pl(s,dn(r,l),d)}),s}function zE(n,r){if(Nt(r))return Ws.empty();{const e=n.writeTree_.setTree(r,new Xt(null));return new Ws(e)}}function S_(n,r){return null!=nc(n,r)}function nc(n,r){const e=n.writeTree_.findRootMostValueAndPath(r);return null!=e?n.writeTree_.get(e.path).getChild(ti(e.path,r)):null}function ZE(n){const r=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Ot,(s,l)=>{r.push(new At(s,l))}):n.writeTree_.children.inorderTraversal((s,l)=>{null!=l.value&&r.push(new At(s,l.value))}),r}function gl(n,r){if(Nt(r))return n;{const e=nc(n,r);return new Ws(null!=e?new Xt(e):n.writeTree_.subtree(r))}}function A_(n){return n.writeTree_.isEmpty()}function rc(n,r){return M_(Ft(),n.writeTree_,r)}function M_(n,r,e){if(null!=r.value)return e.updateChild(n,r.value);{let s=null;return r.children.inorderTraversal((l,d)=>{".priority"===l?((0,k.hu)(null!==d.value,"Priority writes must always be leaf nodes"),s=d.value):e=M_(dn(n,l),d,e)}),!e.getChild(n).isEmpty()&&null!==s&&(e=e.updateChild(dn(n,".priority"),s)),e}}function Gp(n,r){return ac(r,n)}function Wp(n,r){if(n.snap)return Vi(n.path,r);for(const e in n.children)if(n.children.hasOwnProperty(e)&&Vi(dn(n.path,e),r))return!0;return!1}function Vw(n){return n.visible}function zp(n,r,e){let s=Ws.empty();for(let l=0;l<n.length;++l){const d=n[l];if(r(d)){const g=d.path;let I;if(d.snap)Vi(e,g)?(I=ti(e,g),s=pl(s,I,d.snap)):Vi(g,e)&&(I=ti(g,e),s=pl(s,Ft(),d.snap.getChild(I)));else{if(!d.children)throw(0,k.g5)("WriteRecord should have .snap or .children");if(Vi(e,g))I=ti(e,g),s=T_(s,I,d.children);else if(Vi(g,e))if(I=ti(g,e),Nt(I))s=T_(s,Ft(),d.children);else{const w=(0,k.DV)(d.children,bt(I));if(w){const R=w.getChild(Jt(I));s=pl(s,Ft(),R)}}}}}return s}function YE(n,r,e,s,l){if(s||l){const d=gl(n.visibleWrites,r);return!l&&A_(d)?e:l||null!=e||S_(d,Ft())?rc(zp(n.allWrites,function(R){return(R.visible||l)&&(!s||!~s.indexOf(R.writeId))&&(Vi(R.path,r)||Vi(r,R.path))},r),e||Dt.EMPTY_NODE):null}{const d=nc(n.visibleWrites,r);if(null!=d)return d;{const g=gl(n.visibleWrites,r);return A_(g)?e:null!=e||S_(g,Ft())?rc(g,e||Dt.EMPTY_NODE):null}}}function Ad(n,r,e,s){return YE(n.writeTree,n.treePath,r,e,s)}function ml(n,r){return function Ro(n,r,e){let s=Dt.EMPTY_NODE;const l=nc(n.visibleWrites,r);if(l)return l.isLeafNode()||l.forEachChild(Ot,(d,g)=>{s=s.updateImmediateChild(d,g)}),s;if(e){const d=gl(n.visibleWrites,r);return e.forEachChild(Ot,(g,I)=>{const w=rc(gl(d,new $t(g)),I);s=s.updateImmediateChild(g,w)}),ZE(d).forEach(g=>{s=s.updateImmediateChild(g.name,g.node)}),s}return ZE(gl(n.visibleWrites,r)).forEach(g=>{s=s.updateImmediateChild(g.name,g.node)}),s}(n.writeTree,n.treePath,r)}function sc(n,r,e,s){return function af(n,r,e,s,l){(0,k.hu)(s||l,"Either existingEventSnap or existingServerSnap must exist");const d=dn(r,e);if(S_(n.visibleWrites,d))return null;{const g=gl(n.visibleWrites,d);return A_(g)?l.getChild(e):rc(g,l.getChild(e))}}(n.writeTree,n.treePath,r,e,s)}function ga(n,r){return function ic(n,r){return nc(n.visibleWrites,r)}(n.writeTree,dn(n.treePath,r))}function _l(n,r,e){return function $r(n,r,e,s){const l=dn(r,e),d=nc(n.visibleWrites,l);return null!=d?d:s.isCompleteForChild(e)?rc(gl(n.visibleWrites,l),s.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,r,e)}function oc(n,r){return ac(dn(n.treePath,r),n.writeTree)}function ac(n,r){return{treePath:n,writeTree:r}}class Rd{constructor(){this.changeMap=new Map}trackChildChange(r){const e=r.type,s=r.childName;(0,k.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,k.hu)(".priority"!==s,"Only non-priority child changes can be tracked.");const l=this.changeMap.get(s);if(l){const d=l.type;if("child_added"===e&&"child_removed"===d)this.changeMap.set(s,Qu(s,r.snapshotNode,l.snapshotNode));else if("child_removed"===e&&"child_added"===d)this.changeMap.delete(s);else if("child_removed"===e&&"child_changed"===d)this.changeMap.set(s,pi(s,l.oldSnap));else if("child_changed"===e&&"child_added"===d)this.changeMap.set(s,bd(s,r.snapshotNode));else{if("child_changed"!==e||"child_changed"!==d)throw(0,k.g5)("Illegal combination of changes: "+r+" occurred after "+l);this.changeMap.set(s,Qu(s,r.snapshotNode,l.oldSnap))}}else this.changeMap.set(s,r)}getChanges(){return Array.from(this.changeMap.values())}}const R_=new class Nd{getCompleteChild(r){return null}getChildAfterChild(r,e,s){return null}};class Kp{constructor(r,e,s=null){this.writes_=r,this.viewCache_=e,this.optCompleteServerCache_=s}getCompleteChild(r){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(r))return e.getNode().getImmediateChild(r);{const s=null!=this.optCompleteServerCache_?new fa(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return _l(this.writes_,r,s)}}getChildAfterChild(r,e,s){const l=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:tc(this.viewCache_),d=function Md(n,r,e,s,l,d){return function Zp(n,r,e,s,l,d,g){let I;const w=gl(n.visibleWrites,r),R=nc(w,Ft());if(null!=R)I=R;else{if(null==e)return[];I=rc(w,e)}if(I=I.withIndex(g),I.isEmpty()||I.isLeafNode())return[];{const V=[],j=g.getCompare(),K=d?I.getReverseIteratorFrom(s,g):I.getIteratorFrom(s,g);let we=K.getNext();for(;we&&V.length<l;)0!==j(we,s)&&V.push(we),we=K.getNext();return V}}(n.writeTree,n.treePath,r,e,s,l,d)}(this.writes_,l,e,1,s,r);return 0===d.length?null:d[0]}}function N_(n,r,e,s,l,d){const g=r.eventCache;if(null!=ga(s,e))return r;{let I,w;if(Nt(e))if((0,k.hu)(r.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),r.serverCache.isFiltered()){const R=tc(r),j=ml(s,R instanceof Dt?R:Dt.EMPTY_NODE);I=n.filter.updateFullNode(r.eventCache.getNode(),j,d)}else{const R=Ad(s,tc(r));I=n.filter.updateFullNode(r.eventCache.getNode(),R,d)}else{const R=bt(e);if(".priority"===R){(0,k.hu)(1===ua(e),"Can't have a priority with additional path components");const V=g.getNode();w=r.serverCache.getNode();const j=sc(s,e,V,w);I=null!=j?n.filter.updatePriority(V,j):g.getNode()}else{const V=Jt(e);let j;if(g.isCompleteForChild(R)){w=r.serverCache.getNode();const K=sc(s,e,g.getNode(),w);j=null!=K?g.getNode().getImmediateChild(R).updateChild(V,K):g.getNode().getImmediateChild(R)}else j=_l(s,R,r.serverCache);I=null!=j?n.filter.updateChild(g.getNode(),R,j,V,l,d):g.getNode()}}return sf(r,I,g.isFullyInitialized()||Nt(e),n.filter.filtersNodes())}}function lf(n,r,e,s,l,d,g,I){const w=r.serverCache;let R;const V=g?n.filter:n.filter.getIndexedFilter();if(Nt(e))R=V.updateFullNode(w.getNode(),s,null);else if(V.filtersNodes()&&!w.isFiltered()){const we=w.getNode().updateChild(e,s);R=V.updateFullNode(w.getNode(),we,null)}else{const we=bt(e);if(!w.isCompleteForPath(e)&&ua(e)>1)return r;const Ve=Jt(e),i=w.getNode().getImmediateChild(we).updateChild(Ve,s);R=".priority"===we?V.updatePriority(w.getNode(),i):V.updateChild(w.getNode(),we,i,Ve,R_,null)}const j=GE(r,R,w.isFullyInitialized()||Nt(e),V.filtersNodes());return N_(n,j,e,l,new Kp(l,j,d),I)}function qp(n,r,e,s,l,d,g){const I=r.eventCache;let w,R;const V=new Kp(l,r,d);if(Nt(e))R=n.filter.updateFullNode(r.eventCache.getNode(),s,g),w=sf(r,R,!0,n.filter.filtersNodes());else{const j=bt(e);if(".priority"===j)R=n.filter.updatePriority(r.eventCache.getNode(),s),w=sf(r,R,I.isFullyInitialized(),I.isFiltered());else{const K=Jt(e),we=I.getNode().getImmediateChild(j);let Ve;if(Nt(K))Ve=s;else{const t=V.getCompleteChild(j);Ve=null!=t?".priority"===a_(K)&&t.getChild(TE(K)).isEmpty()?t:t.updateChild(K,s):Dt.EMPTY_NODE}w=we.equals(Ve)?r:sf(r,n.filter.updateChild(I.getNode(),j,Ve,K,V,g),I.isFullyInitialized(),n.filter.filtersNodes())}}return w}function Yp(n,r){return n.eventCache.isCompleteForChild(r)}function Bw(n,r,e){return e.foreach((s,l)=>{r=r.updateChild(s,l)}),r}function tC(n,r,e,s,l,d,g,I){if(r.serverCache.getNode().isEmpty()&&!r.serverCache.isFullyInitialized())return r;let R,w=r;R=Nt(e)?s:new Xt(null).setTree(e,s);const V=r.serverCache.getNode();return R.children.inorderTraversal((j,K)=>{if(V.hasChild(j)){const Ve=Bw(0,r.serverCache.getNode().getImmediateChild(j),K);w=lf(n,w,new $t(j),Ve,l,d,g,I)}}),R.children.inorderTraversal((j,K)=>{const we=!r.serverCache.isCompleteForChild(j)&&null===K.value;if(!V.hasChild(j)&&!we){const t=Bw(0,r.serverCache.getNode().getImmediateChild(j),K);w=lf(n,w,new $t(j),t,l,d,g,I)}}),w}class $w{constructor(r,e){this.query_=r,this.eventRegistrations_=[];const s=this.query_._queryParams,l=new kp(s.getIndex()),d=function Fp(n){return n.loadsAllData()?new kp(n.getIndex()):n.hasLimit()?new VE(n):new Xh(n)}(s);this.processor_=function QE(n){return{filter:n}}(d);const g=e.serverCache,I=e.eventCache,w=l.updateFullNode(Dt.EMPTY_NODE,g.getNode(),null),R=d.updateFullNode(Dt.EMPTY_NODE,I.getNode(),null),V=new fa(w,g.isFullyInitialized(),l.filtersNodes()),j=new fa(R,I.isFullyInitialized(),d.filtersNodes());this.viewCache_=Hp(j,V),this.eventGenerator_=new Pw(this.query_)}get query(){return this.query_}}function Ww(n,r){const e=tc(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!Nt(r)&&!e.getImmediateChild(bt(r)).isEmpty())?e.getChild(r):null}function nC(n){return 0===n.eventRegistrations_.length}function Od(n,r,e){const s=[];if(e){(0,k.hu)(null==r,"A cancel should cancel all event registrations.");const l=n.query._path;n.eventRegistrations_.forEach(d=>{const g=d.createCancelEvent(e,l);g&&s.push(g)})}if(r){let l=[];for(let d=0;d<n.eventRegistrations_.length;++d){const g=n.eventRegistrations_[d];if(g.matches(r)){if(r.hasAnyCallback()){l=l.concat(n.eventRegistrations_.slice(d+1));break}}else l.push(g)}n.eventRegistrations_=l}else n.eventRegistrations_=[];return s}function Qp(n,r,e,s){r.type===Gs.MERGE&&null!==r.source.queryId&&((0,k.hu)(tc(n.viewCache_),"We should always have a full cache before handling merges"),(0,k.hu)($p(n.viewCache_),"Missing event cache, even though we have a server cache"));const l=n.viewCache_,d=function XE(n,r,e,s,l){const d=new Rd;let g,I;if(e.type===Gs.OVERWRITE){const R=e;R.source.fromUser?g=qp(n,r,R.path,R.snap,s,l,d):((0,k.hu)(R.source.fromServer,"Unknown source."),I=R.source.tagged||r.serverCache.isFiltered()&&!Nt(R.path),g=lf(n,r,R.path,R.snap,s,l,I,d))}else if(e.type===Gs.MERGE){const R=e;R.source.fromUser?g=function Uw(n,r,e,s,l,d,g){let I=r;return s.foreach((w,R)=>{const V=dn(e,w);Yp(r,bt(V))&&(I=qp(n,I,V,R,l,d,g))}),s.foreach((w,R)=>{const V=dn(e,w);Yp(r,bt(V))||(I=qp(n,I,V,R,l,d,g))}),I}(n,r,R.path,R.children,s,l,d):((0,k.hu)(R.source.fromServer,"Unknown source."),I=R.source.tagged||r.serverCache.isFiltered(),g=tC(n,r,R.path,R.children,s,l,I,d))}else if(e.type===Gs.ACK_USER_WRITE){const R=e;g=R.revert?function WT(n,r,e,s,l,d){let g;if(null!=ga(s,e))return r;{const I=new Kp(s,r,l),w=r.eventCache.getNode();let R;if(Nt(e)||".priority"===bt(e)){let V;if(r.serverCache.isFullyInitialized())V=Ad(s,tc(r));else{const j=r.serverCache.getNode();(0,k.hu)(j instanceof Dt,"serverChildren would be complete if leaf node"),V=ml(s,j)}R=n.filter.updateFullNode(w,V,d)}else{const V=bt(e);let j=_l(s,V,r.serverCache);null==j&&r.serverCache.isCompleteForChild(V)&&(j=w.getImmediateChild(V)),R=null!=j?n.filter.updateChild(w,V,j,Jt(e),I,d):r.eventCache.getNode().hasChild(V)?n.filter.updateChild(w,V,Dt.EMPTY_NODE,Jt(e),I,d):w,R.isEmpty()&&r.serverCache.isFullyInitialized()&&(g=Ad(s,tc(r)),g.isLeafNode()&&(R=n.filter.updateFullNode(R,g,d)))}return g=r.serverCache.isFullyInitialized()||null!=ga(s,Ft()),sf(r,R,g,n.filter.filtersNodes())}}(n,r,R.path,s,l,d):function jw(n,r,e,s,l,d,g){if(null!=ga(l,e))return r;const I=r.serverCache.isFiltered(),w=r.serverCache;if(null!=s.value){if(Nt(e)&&w.isFullyInitialized()||w.isCompleteForPath(e))return lf(n,r,e,w.getNode().getChild(e),l,d,I,g);if(Nt(e)){let R=new Xt(null);return w.getNode().forEachChild($s,(V,j)=>{R=R.set(new $t(V),j)}),tC(n,r,e,R,l,d,I,g)}return r}{let R=new Xt(null);return s.foreach((V,j)=>{const K=dn(e,V);w.isCompleteForPath(K)&&(R=R.set(V,w.getNode().getChild(K)))}),tC(n,r,e,R,l,d,I,g)}}(n,r,R.path,R.affectedTree,s,l,d)}else{if(e.type!==Gs.LISTEN_COMPLETE)throw(0,k.g5)("Unknown operation type: "+e.type);g=function Hw(n,r,e,s,l){const d=r.serverCache;return N_(n,GE(r,d.getNode(),d.isFullyInitialized()||Nt(e),d.isFiltered()),e,s,R_,l)}(n,r,e.path,s,d)}const w=d.getChanges();return function eC(n,r,e){const s=r.eventCache;if(s.isFullyInitialized()){const l=s.getNode().isLeafNode()||s.getNode().isEmpty(),d=$p(n);(e.length>0||!n.eventCache.isFullyInitialized()||l&&!s.getNode().equals(d)||!s.getNode().getPriority().equals(d.getPriority()))&&e.push(LE($p(r)))}}(r,g,w),{viewCache:g,changes:w}}(n.processor_,l,r,e,s);return function JE(n,r){(0,k.hu)(r.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,k.hu)(r.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,d.viewCache),(0,k.hu)(d.viewCache.serverCache.isFullyInitialized()||!l.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=d.viewCache,P_(n,d.changes,d.viewCache.eventCache.getNode(),null)}function P_(n,r,e,s){return function xw(n,r,e,s){const l=[],d=[];return r.forEach(g=>{"child_changed"===g.type&&n.index_.indexedValueChanged(g.oldSnap,g.snapshotNode)&&d.push(function Nw(n,r){return{type:"child_moved",snapshotNode:r,childName:n}}(g.childName,g.snapshotNode))}),pa(n,l,"child_removed",r,s,e),pa(n,l,"child_added",r,s,e),pa(n,l,"child_moved",d,s,e),pa(n,l,"child_changed",r,s,e),pa(n,l,"value",r,s,e),l}(n.eventGenerator_,r,e,s?[s]:n.eventRegistrations_)}let vl,Xp;class x_{constructor(){this.views=new Map}}function k_(n,r,e,s){const l=r.source.queryId;if(null!==l){const d=n.views.get(l);return(0,k.hu)(null!=d,"SyncTree gave us an op for an invalid query."),Qp(d,r,e,s)}{let d=[];for(const g of n.views.values())d=d.concat(Qp(g,r,e,s));return d}}function rC(n,r,e,s,l){const g=n.views.get(r._queryIdentifier);if(!g){let I=Ad(e,l?s:null),w=!1;I?w=!0:s instanceof Dt?(I=ml(e,s),w=!1):(I=Dt.EMPTY_NODE,w=!1);const R=Hp(new fa(I,w,!1),new fa(s,l,!1));return new $w(r,R)}return g}function cf(n){const r=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||r.push(e);return r}function zs(n,r){let e=null;for(const s of n.views.values())e=e||Ww(s,r);return e}function qw(n,r){return r._queryParams.loadsAllData()?Pd(n):n.views.get(r._queryIdentifier)}function iC(n,r){return null!=qw(n,r)}function yl(n){return null!=Pd(n)}function Pd(n){for(const r of n.views.values())if(r.query._queryParams.loadsAllData())return r;return null}let Qw=1;class L_{constructor(r){this.listenProvider_=r,this.syncPointTree_=new Xt(null),this.pendingWriteTree_=function cs(){return{visibleWrites:Ws.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function eg(n,r,e,s,l){return function $T(n,r,e,s,l){(0,k.hu)(s>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===l&&(l=!0),n.allWrites.push({path:r,snap:e,writeId:s,visible:l}),l&&(n.visibleWrites=pl(n.visibleWrites,r,e)),n.lastWriteId=s}(n.pendingWriteTree_,r,e,s,l),l?Ld(n,new Xu({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},r,e)):[]}function El(n,r,e=!1){const s=function qE(n,r){for(let e=0;e<n.allWrites.length;e++){const s=n.allWrites[e];if(s.writeId===r)return s}return null}(n.pendingWriteTree_,r);if(function GT(n,r){const e=n.allWrites.findIndex(I=>I.writeId===r);(0,k.hu)(e>=0,"removeWrite called with nonexistent writeId.");const s=n.allWrites[e];n.allWrites.splice(e,1);let l=s.visible,d=!1,g=n.allWrites.length-1;for(;l&&g>=0;){const I=n.allWrites[g];I.visible&&(g>=e&&Wp(I,s.path)?l=!1:Vi(s.path,I.path)&&(d=!0)),g--}return!!l&&(d?(function Lw(n){n.visibleWrites=zp(n.allWrites,Vw,Ft()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(s.snap?n.visibleWrites=zE(n.visibleWrites,s.path):Jn(s.children,w=>{n.visibleWrites=zE(n.visibleWrites,dn(s.path,w))}),!0))}(n.pendingWriteTree_,r)){let d=new Xt(null);return null!=s.snap?d=d.set(Ft(),!0):Jn(s.children,g=>{d=d.set(new $t(g),!0)}),Ld(n,new rf(s.path,d,e))}return[]}function df(n,r,e){return Ld(n,new Xu({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},r,e))}function xd(n,r,e,s,l=!1){const d=r._path,g=n.syncPointTree_.get(d);let I=[];if(g&&("default"===r._queryIdentifier||iC(g,r))){const w=function F_(n,r,e,s){const l=r._queryIdentifier,d=[];let g=[];const I=yl(n);if("default"===l)for(const[w,R]of n.views.entries())g=g.concat(Od(R,e,s)),nC(R)&&(n.views.delete(w),R.query._queryParams.loadsAllData()||d.push(R.query));else{const w=n.views.get(l);w&&(g=g.concat(Od(w,e,s)),nC(w)&&(n.views.delete(l),w.query._queryParams.loadsAllData()||d.push(w.query)))}return I&&!yl(n)&&d.push(new(function uf(){return(0,k.hu)(vl,"Reference.ts has not been loaded"),vl}())(r._repo,r._path)),{removed:d,events:g}}(g,r,e,s);(function Zw(n){return 0===n.views.size})(g)&&(n.syncPointTree_=n.syncPointTree_.remove(d));const R=w.removed;if(I=w.events,!l){const V=-1!==R.findIndex(K=>K._queryParams.loadsAllData()),j=n.syncPointTree_.findOnPath(d,(K,we)=>yl(we));if(V&&!j){const K=n.syncPointTree_.subtree(d);if(!K.isEmpty()){const we=function e0(n){return n.fold((r,e,s)=>{if(e&&yl(e))return[Pd(e)];{let l=[];return e&&(l=cf(e)),Jn(s,(d,g)=>{l=l.concat(g)}),l}})}(K);for(let Ve=0;Ve<we.length;++Ve){const t=we[Ve],i=t.query,o=ng(n,t);n.listenProvider_.startListening(uc(i),lc(n,i),o.hashFn,o.onComplete)}}}!j&&R.length>0&&!s&&(V?n.listenProvider_.stopListening(uc(r),null):R.forEach(K=>{const we=n.queryToTagMap.get(hf(K));n.listenProvider_.stopListening(uc(K),we)}))}!function dC(n,r){for(let e=0;e<r.length;++e){const s=r[e];if(!s._queryParams.loadsAllData()){const l=hf(s),d=n.queryToTagMap.get(l);n.queryToTagMap.delete(l),n.tagToQueryMap.delete(d)}}}(n,R)}return I}function aC(n,r,e,s){const l=rg(n,s);if(null!=l){const d=U_(l),g=d.path,I=d.queryId,w=ti(g,r);return B_(n,g,new Xu(jp(I),w,e))}return[]}function kd(n,r,e,s=!1){const l=r._path;let d=null,g=!1;n.syncPointTree_.foreachOnPath(l,(K,we)=>{const Ve=ti(K,l);d=d||zs(we,Ve),g=g||yl(we)});let w,I=n.syncPointTree_.get(l);I?(g=g||yl(I),d=d||zs(I,Ft())):(I=new x_,n.syncPointTree_=n.syncPointTree_.set(l,I)),null!=d?w=!0:(w=!1,d=Dt.EMPTY_NODE,n.syncPointTree_.subtree(l).foreachChild((we,Ve)=>{const t=zs(Ve,Ft());t&&(d=d.updateImmediateChild(we,t))}));const R=iC(I,r);if(!R&&!r._queryParams.loadsAllData()){const K=hf(r);(0,k.hu)(!n.queryToTagMap.has(K),"View does not exist, but we have a tag");const we=function j_(){return Qw++}();n.queryToTagMap.set(K,we),n.tagToQueryMap.set(we,K)}let j=function Kw(n,r,e,s,l,d){const g=rC(n,r,s,l,d);return n.views.has(r._queryIdentifier)||n.views.set(r._queryIdentifier,g),function O_(n,r){n.eventRegistrations_.push(r)}(g,e),function Jp(n,r){const e=n.viewCache_.eventCache,s=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Ot,(d,g)=>{s.push(bd(d,g))}),e.isFullyInitialized()&&s.push(LE(e.getNode())),P_(n,s,e.getNode(),r)}(g,e)}(I,r,e,Gp(n.pendingWriteTree_,l),d,w);if(!R&&!g&&!s){const K=qw(I,r);j=j.concat(function hC(n,r,e){const s=r._path,l=lc(n,r),d=ng(n,e),g=n.listenProvider_.startListening(uc(r),l,d.hashFn,d.onComplete),I=n.syncPointTree_.subtree(s);if(l)(0,k.hu)(!yl(I.value),"If we're adding a query, it shouldn't be shadowed");else{const w=I.fold((R,V,j)=>{if(!Nt(R)&&V&&yl(V))return[Pd(V).query];{let K=[];return V&&(K=K.concat(cf(V).map(we=>we.query))),Jn(j,(we,Ve)=>{K=K.concat(Ve)}),K}});for(let R=0;R<w.length;++R){const V=w[R];n.listenProvider_.stopListening(uc(V),lc(n,V))}}return g}(n,r,K))}return j}function Fd(n,r,e){const l=n.pendingWriteTree_,d=n.syncPointTree_.findOnPath(r,(g,I)=>{const R=zs(I,ti(g,r));if(R)return R});return YE(l,r,d,e,!0)}function Ld(n,r){return uC(r,n.syncPointTree_,null,Gp(n.pendingWriteTree_,Ft()))}function uC(n,r,e,s){if(Nt(n.path))return cC(n,r,e,s);{const l=r.get(Ft());null==e&&null!=l&&(e=zs(l,Ft()));let d=[];const g=bt(n.path),I=n.operationForChild(g),w=r.children.get(g);if(w&&I){const R=e?e.getImmediateChild(g):null,V=oc(s,g);d=d.concat(uC(I,w,R,V))}return l&&(d=d.concat(k_(l,n,s,e))),d}}function cC(n,r,e,s){const l=r.get(Ft());null==e&&null!=l&&(e=zs(l,Ft()));let d=[];return r.children.inorderTraversal((g,I)=>{const w=e?e.getImmediateChild(g):null,R=oc(s,g),V=n.operationForChild(g);V&&(d=d.concat(cC(V,I,w,R)))}),l&&(d=d.concat(k_(l,n,s,e))),d}function ng(n,r){const e=r.query,s=lc(n,e);return{hashFn:()=>(function zT(n){return n.viewCache_.serverCache.getNode()}(r)||Dt.EMPTY_NODE).hash(),onComplete:l=>{if("ok"===l)return s?function V_(n,r,e){const s=rg(n,e);if(s){const l=U_(s),d=l.path,g=l.queryId,I=ti(d,r);return B_(n,d,new ha(jp(g),I))}return[]}(n,e._path,s):function Xw(n,r){return Ld(n,new ha({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},r))}(n,e._path);{const d=function FT(n,r){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const s=new Error(n+" at "+r._path.toString()+": "+e);return s.code=n.toUpperCase(),s}(l,e);return xd(n,e,null,d)}}}}function lc(n,r){const e=hf(r);return n.queryToTagMap.get(e)}function hf(n){return n._path.toString()+"$"+n._queryIdentifier}function rg(n,r){return n.tagToQueryMap.get(r)}function U_(n){const r=n.indexOf("$");return(0,k.hu)(-1!==r&&r<n.length-1,"Bad queryKey."),{queryId:n.substr(r+1),path:new $t(n.substr(0,r))}}function B_(n,r,e){const s=n.syncPointTree_.get(r);return(0,k.hu)(s,"Missing sync point for query tag that we're tracking"),k_(s,e,Gp(n.pendingWriteTree_,r),null)}function uc(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function Yw(){return(0,k.hu)(Xp,"Reference.ts has not been loaded"),Xp}())(n._repo,n._path):n}class H_{constructor(r){this.node_=r}getImmediateChild(r){const e=this.node_.getImmediateChild(r);return new H_(e)}node(){return this.node_}}class ig{constructor(r,e){this.syncTree_=r,this.path_=e}getImmediateChild(r){const e=dn(this.path_,r);return new ig(this.syncTree_,e)}node(){return Fd(this.syncTree_,this.path_)}}const fC=function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n},$_=function(n,r,e){return n&&"object"==typeof n?((0,k.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?t0(n[".sv"],r,e):"object"==typeof n[".sv"]?n0(n[".sv"],r):void(0,k.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},t0=function(n,r,e){if("timestamp"===n)return e.timestamp;(0,k.hu)(!1,"Unexpected server value: "+n)},n0=function(n,r,e){n.hasOwnProperty("increment")||(0,k.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const s=n.increment;"number"!=typeof s&&(0,k.hu)(!1,"Unexpected increment value: "+s);const l=r.node();if((0,k.hu)(null!==l&&typeof l<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!l.isLeafNode())return s;const g=l.getValue();return"number"!=typeof g?s:g+s},pC=function(n,r,e,s){return sg(r,new ig(e,n),s)},G_=function(n,r,e){return sg(n,new H_(r),e)};function sg(n,r,e){const s=n.getPriority().val(),l=$_(s,r.getImmediateChild(".priority"),e);let d;if(n.isLeafNode()){const g=n,I=$_(g.getValue(),r,e);return I!==g.getValue()||l!==g.getPriority().val()?new wd(I,hn(l)):n}{const g=n;return d=g,l!==g.getPriority().val()&&(d=d.updatePriority(new wd(l))),g.forEachChild(Ot,(I,w)=>{const R=sg(w,r.getImmediateChild(I),e);R!==w&&(d=d.updateImmediateChild(I,R))}),d}}class ff{constructor(r="",e=null,s={children:{},childCount:0}){this.name=r,this.parent=e,this.node=s}}function pf(n,r){let e=r instanceof $t?r:new $t(r),s=n,l=bt(e);for(;null!==l;){const d=(0,k.DV)(s.node.children,l)||{children:{},childCount:0};s=new ff(l,s,d),e=Jt(e),l=bt(e)}return s}function Cl(n){return n.node.value}function og(n,r){n.node.value=r,No(n)}function W_(n){return n.node.childCount>0}function gf(n,r){Jn(n.node.children,(e,s)=>{r(new ff(e,n,s))})}function z_(n,r,e,s){e&&!s&&r(n),gf(n,l=>{z_(l,r,!0,s)}),e&&s&&r(n)}function Il(n){return new $t(null===n.parent?n.name:Il(n.parent)+"/"+n.name)}function No(n){null!==n.parent&&function r0(n,r,e){const s=function gC(n){return void 0===Cl(n)&&!W_(n)}(e),l=(0,k.r3)(n.node.children,r);s&&l?(delete n.node.children[r],n.node.childCount--,No(n)):!s&&!l&&(n.node.children[r]=e.node,n.node.childCount++,No(n))}(n.parent,n.name,n)}const s0=/[\[\].#$\/\u0000-\u001F\u007F]/,Z_=/[\[\].#$\u0000-\u001F\u007F]/,ma=10485760,Vd=function(n){return"string"==typeof n&&0!==n.length&&!s0.test(n)},_C=function(n){return"string"==typeof n&&0!==n.length&&!Z_.test(n)},ag=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!gd(n)||n&&"object"==typeof n&&(0,k.r3)(n,".sv")},_a=function(n,r,e,s){s&&void 0===r||mf((0,k.gK)(n,"value"),r,e)},mf=function(n,r,e){const s=e instanceof $t?new AE(e,n):e;if(void 0===r)throw new Error(n+"contains undefined "+fl(s));if("function"==typeof r)throw new Error(n+"contains a function "+fl(s)+" with contents = "+r.toString());if(gd(r))throw new Error(n+"contains "+r.toString()+" "+fl(s));if("string"==typeof r&&r.length>ma/3&&(0,k.ug)(r)>ma)throw new Error(n+"contains a string greater than "+ma+" utf8 bytes "+fl(s)+" ('"+r.substring(0,50)+"...')");if(r&&"object"==typeof r){let l=!1,d=!1;if(Jn(r,(g,I)=>{if(".value"===g)l=!0;else if(".priority"!==g&&".sv"!==g&&(d=!0,!Vd(g)))throw new Error(n+" contains an invalid key ("+g+") "+fl(s)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function BT(n,r){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(r),n.byteLength_+=(0,k.ug)(r),l_(n)})(s,g),mf(n,I,s),function xp(n){const r=n.parts_.pop();n.byteLength_-=(0,k.ug)(r),n.parts_.length>0&&(n.byteLength_-=1)}(s)}),l&&d)throw new Error(n+' contains ".value" child '+fl(s)+" in addition to actual children.")}},q_=function(n,r,e,s){if(s&&void 0===r)return;const l=(0,k.gK)(n,"values");if(!r||"object"!=typeof r||Array.isArray(r))throw new Error(l+" must be an object containing the children to replace.");const d=[];Jn(r,(g,I)=>{const w=new $t(g);if(mf(l,I,dn(e,w)),".priority"===a_(w)&&!ag(I))throw new Error(l+"contains an invalid value for '"+w.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");d.push(w)}),function(n,r){let e,s;for(e=0;e<r.length;e++){s=r[e];const d=qh(s);for(let g=0;g<d.length;g++)if((".priority"!==d[g]||g!==d.length-1)&&!Vd(d[g]))throw new Error(n+"contains an invalid key ("+d[g]+") in path "+s.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}r.sort(UT);let l=null;for(e=0;e<r.length;e++){if(s=r[e],null!==l&&Vi(l,s))throw new Error(n+"contains a path "+l.toString()+" that is ancestor of another path "+s.toString());l=s}}(l,d)},Y_=function(n,r,e){if(!e||void 0!==r){if(gd(r))throw new Error((0,k.gK)(n,"priority")+"is "+r.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!ag(r))throw new Error((0,k.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},wn=function(n,r,e,s){if(!(s&&void 0===e||Vd(e)))throw new Error((0,k.gK)(n,r)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Ud=function(n,r,e,s){if(!(s&&void 0===e||_C(e)))throw new Error((0,k.gK)(n,r)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},a0=function(n,r,e,s){e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Ud(n,r,e,s)},ds=function(n,r){if(".info"===bt(r))throw new Error(n+" failed = Can't modify data under /.info/")},Q_=function(n,r){const e=r.path.toString();if("string"!=typeof r.repoInfo.host||0===r.repoInfo.host.length||!Vd(r.repoInfo.namespace)&&"localhost"!==r.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),_C(n)}(e))throw new Error((0,k.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class l0{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function _f(n,r){let e=null;for(let s=0;s<r.length;s++){const l=r[s],d=l.getPath();null!==e&&!SE(d,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:d}),e.events.push(l)}e&&n.eventLists_.push(e)}function J_(n,r,e){_f(n,e),vC(n,s=>SE(s,r))}function Er(n,r,e){_f(n,e),vC(n,s=>Vi(s,r)||Vi(r,s))}function vC(n,r){n.recursionDepth_++;let e=!0;for(let s=0;s<n.eventLists_.length;s++){const l=n.eventLists_[s];l&&(r(l.path)?(u0(n.eventLists_[s]),n.eventLists_[s]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function u0(n){for(let r=0;r<n.events.length;r++){const e=n.events[r];if(null!==e){n.events[r]=null;const s=e.getEventRunner();aa&&Qn("event: "+e.toString()),zu(s)}}}const X_="repo_interrupt",c0=25;class yC{constructor(r,e,s,l){this.repoInfo_=r,this.forceRestClient_=e,this.authTokenProvider_=s,this.appCheckProvider_=l,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new l0,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Bp(),this.transactionQueueTree_=new ff,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function ev(n){const e=n.infoData_.getNode(new $t(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function cc(n){return fC({timestamp:ev(n)})}function Zs(n,r,e,s,l){n.dataUpdateCount++;const d=new $t(r);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(r,e):e;let g=[];if(l)if(s){const w=(0,k.UI)(e,R=>hn(R));g=function tg(n,r,e,s){const l=rg(n,s);if(l){const d=U_(l),g=d.path,I=d.queryId,w=ti(g,r),R=Xt.fromObject(e);return B_(n,g,new ec(jp(I),w,R))}return[]}(n.serverSyncTree_,d,w,l)}else{const w=hn(e);g=aC(n.serverSyncTree_,d,w,l)}else if(s){const w=(0,k.UI)(e,R=>hn(R));g=function Jw(n,r,e){const s=Xt.fromObject(e);return Ld(n,new ec({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},r,s))}(n.serverSyncTree_,d,w)}else{const w=hn(e);g=df(n.serverSyncTree_,d,w)}let I=d;g.length>0&&(I=dc(n,d)),Er(n.eventQueue_,I,g)}function EC(n,r){hs(n,"connected",r),!1===r&&function h0(n){Bd(n,"onDisconnectEvents");const r=cc(n),e=Bp();Sd(n.onDisconnect_,Ft(),(l,d)=>{const g=pC(l,d,n.serverSyncTree_,r);Ju(e,l,g)});let s=[];Sd(e,Ft(),(l,d)=>{s=s.concat(df(n.serverSyncTree_,l,d));const g=dg(n,l);dc(n,g)}),n.onDisconnect_=Bp(),Er(n.eventQueue_,Ft(),s)}(n)}function hs(n,r,e){const s=new $t("/.info/"+r),l=hn(e);n.infoData_.updateSnapshot(s,l);const d=df(n.infoSyncTree_,s,l);Er(n.eventQueue_,s,d)}function gi(n){return n.nextWriteId_++}function lg(n,r,e,s,l){Bd(n,"set",{path:r.toString(),value:e,priority:s});const d=cc(n),g=hn(e,s),I=Fd(n.serverSyncTree_,r),w=G_(g,I,d),R=gi(n),V=eg(n.serverSyncTree_,r,w,R,!0);_f(n.eventQueue_,V),n.server_.put(r.toString(),g.val(!0),(K,we)=>{const Ve="ok"===K;Ve||Hn("set at "+r+" failed: "+K);const t=El(n.serverSyncTree_,R,!Ve);Er(n.eventQueue_,r,t),va(0,l,K,we)});const j=dg(n,r);dc(n,j),Er(n.eventQueue_,j,[])}function f0(n,r,e){n.server_.onDisconnectCancel(r.toString(),(s,l)=>{"ok"===s&&I_(n.onDisconnect_,r),va(0,e,s,l)})}function IC(n,r,e,s){const l=hn(e);n.server_.onDisconnectPut(r.toString(),l.val(!0),(d,g)=>{"ok"===d&&Ju(n.onDisconnect_,r,l),va(0,s,d,g)})}function nv(n,r,e){let s;s=".info"===bt(r._path)?xd(n.infoSyncTree_,r,e):xd(n.serverSyncTree_,r,e),J_(n.eventQueue_,r._path,s)}function rv(n){n.persistentConnection_&&n.persistentConnection_.interrupt(X_)}function Bd(n,...r){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),Qn(e,...r)}function va(n,r,e,s){r&&zu(()=>{if("ok"===e)r(null);else{const l=(e||"error").toUpperCase();let d=l;s&&(d+=": "+s);const g=new Error(d);g.code=l,r(g)}})}function jd(n,r,e){return Fd(n.serverSyncTree_,r,e)||Dt.EMPTY_NODE}function ug(n,r=n.transactionQueueTree_){if(r||Hd(n,r),Cl(r)){const e=SC(n,r);(0,k.hu)(e.length>0,"Sending zero length transaction queue"),e.every(l=>0===l.status)&&function wC(n,r,e){const s=e.map(R=>R.currentWriteId),l=jd(n,r,s);let d=l;const g=l.hash();for(let R=0;R<e.length;R++){const V=e[R];(0,k.hu)(0===V.status,"tryToSendTransactionQueue_: items in queue should all be run."),V.status=1,V.retryCount++;const j=ti(r,V.path);d=d.updateChild(j,V.currentOutputSnapshotRaw)}const I=d.val(!0),w=r;n.server_.put(w.toString(),I,R=>{Bd(n,"transaction put response",{path:w.toString(),status:R});let V=[];if("ok"===R){const j=[];for(let K=0;K<e.length;K++)e[K].status=2,V=V.concat(El(n.serverSyncTree_,e[K].currentWriteId)),e[K].onComplete&&j.push(()=>e[K].onComplete(null,!0,e[K].currentOutputSnapshotResolved)),e[K].unwatcher();Hd(n,pf(n.transactionQueueTree_,r)),ug(n,n.transactionQueueTree_),Er(n.eventQueue_,r,V);for(let K=0;K<j.length;K++)zu(j[K])}else{if("datastale"===R)for(let j=0;j<e.length;j++)e[j].status=3===e[j].status?4:0;else{Hn("transaction at "+w.toString()+" failed: "+R);for(let j=0;j<e.length;j++)e[j].status=4,e[j].abortReason=R}dc(n,r)}},g)}(n,Il(r),e)}else W_(r)&&gf(r,e=>{ug(n,e)})}function dc(n,r){const e=TC(n,r),s=Il(e);return function bC(n,r,e){if(0===r.length)return;const s=[];let l=[];const g=r.filter(I=>0===I.status).map(I=>I.currentWriteId);for(let I=0;I<r.length;I++){const w=r[I],R=ti(e,w.path);let j,V=!1;if((0,k.hu)(null!==R,"rerunTransactionsUnderNode_: relativePath should not be null."),4===w.status)V=!0,j=w.abortReason,l=l.concat(El(n.serverSyncTree_,w.currentWriteId,!0));else if(0===w.status)if(w.retryCount>=c0)V=!0,j="maxretry",l=l.concat(El(n.serverSyncTree_,w.currentWriteId,!0));else{const K=jd(n,w.path,g);w.currentInputSnapshot=K;const we=r[I].update(K.val());if(void 0!==we){mf("transaction failed: Data returned ",we,w.path);let Ve=hn(we);"object"==typeof we&&null!=we&&(0,k.r3)(we,".priority")||(Ve=Ve.updatePriority(K.getPriority()));const i=w.currentWriteId,o=cc(n),a=G_(Ve,K,o);w.currentOutputSnapshotRaw=Ve,w.currentOutputSnapshotResolved=a,w.currentWriteId=gi(n),g.splice(g.indexOf(i),1),l=l.concat(eg(n.serverSyncTree_,w.path,a,w.currentWriteId,w.applyLocally)),l=l.concat(El(n.serverSyncTree_,i,!0))}else V=!0,j="nodata",l=l.concat(El(n.serverSyncTree_,w.currentWriteId,!0))}Er(n.eventQueue_,e,l),l=[],V&&(r[I].status=2,setTimeout(r[I].unwatcher,Math.floor(0)),r[I].onComplete&&s.push("nodata"===j?()=>r[I].onComplete(null,!1,r[I].currentInputSnapshot):()=>r[I].onComplete(new Error(j),!1,null)))}Hd(n,n.transactionQueueTree_);for(let I=0;I<s.length;I++)zu(s[I]);ug(n,n.transactionQueueTree_)}(n,SC(n,e),s),s}function TC(n,r){let e,s=n.transactionQueueTree_;for(e=bt(r);null!==e&&void 0===Cl(s);)s=pf(s,e),e=bt(r=Jt(r));return s}function SC(n,r){const e=[];return cg(n,r,e),e.sort((s,l)=>s.order-l.order),e}function cg(n,r,e){const s=Cl(r);if(s)for(let l=0;l<s.length;l++)e.push(s[l]);gf(r,l=>{cg(n,l,e)})}function Hd(n,r){const e=Cl(r);if(e){let s=0;for(let l=0;l<e.length;l++)2!==e[l].status&&(e[s]=e[l],s++);e.length=s,og(r,e.length>0?e:void 0)}gf(r,s=>{Hd(n,s)})}function dg(n,r){const e=Il(TC(n,r)),s=pf(n.transactionQueueTree_,r);return function mC(n,r,e){let s=e?n:n.parent;for(;null!==s;){if(r(s))return!0;s=s.parent}}(s,l=>{hg(n,l)}),hg(n,s),z_(s,l=>{hg(n,l)}),e}function hg(n,r){const e=Cl(r);if(e){const s=[];let l=[],d=-1;for(let g=0;g<e.length;g++)3===e[g].status||(1===e[g].status?((0,k.hu)(d===g-1,"All SENT items should be at beginning of queue."),d=g,e[g].status=3,e[g].abortReason="set"):((0,k.hu)(0===e[g].status,"Unexpected transaction status in abort"),e[g].unwatcher(),l=l.concat(El(n.serverSyncTree_,e[g].currentWriteId,!0)),e[g].onComplete&&s.push(e[g].onComplete.bind(null,new Error("set"),!1,null))));-1===d?og(r,void 0):e.length=d+1,Er(n.eventQueue_,Il(r),l);for(let g=0;g<s.length;g++)zu(s[g])}}const fg=function(n,r){const e=RC(n),s=e.namespace;return"firebase.com"===e.domain&&Li(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||"undefined"===s)&&"localhost"!==e.domain&&Li("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Hn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Zm(e.host,e.secure,s,"ws"===e.scheme||"wss"===e.scheme,r,"",s!==e.subdomain),path:new $t(e.pathString)}},RC=function(n){let r="",e="",s="",l="",d="",g=!0,I="https",w=443;if("string"==typeof n){let R=n.indexOf("//");R>=0&&(I=n.substring(0,R-1),n=n.substring(R+2));let V=n.indexOf("/");-1===V&&(V=n.length);let j=n.indexOf("?");-1===j&&(j=n.length),r=n.substring(0,Math.min(V,j)),V<j&&(l=function AC(n){let r="";const e=n.split("/");for(let s=0;s<e.length;s++)if(e[s].length>0){let l=e[s];try{l=decodeURIComponent(l.replace(/\+/g," "))}catch{}r+="/"+l}return r}(n.substring(V,j)));const K=function MC(n){const r={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const s=e.split("=");2===s.length?r[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):Hn(`Invalid query segment '${e}' in query '${n}'`)}return r}(n.substring(Math.min(n.length,j)));R=r.indexOf(":"),R>=0?(g="https"===I||"wss"===I,w=parseInt(r.substring(R+1),10)):R=r.length;const we=r.slice(0,R);if("localhost"===we.toLowerCase())e="localhost";else if(we.split(".").length<=2)e=we;else{const Ve=r.indexOf(".");s=r.substring(0,Ve).toLowerCase(),e=r.substring(Ve+1),d=s}"ns"in K&&(d=K.ns)}return{host:r,port:w,domain:e,subdomain:s,secure:g,scheme:I,pathString:l,namespace:d}},iv="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",NC=function(){let n=0;const r=[];return function(e){const s=e===n;let l;n=e;const d=new Array(8);for(l=7;l>=0;l--)d[l]=iv.charAt(e%64),e=Math.floor(e/64);(0,k.hu)(0===e,"Cannot push at time == 0");let g=d.join("");if(s){for(l=11;l>=0&&63===r[l];l--)r[l]=0;r[l]++}else for(l=0;l<12;l++)r[l]=Math.floor(64*Math.random());for(l=0;l<12;l++)g+=iv.charAt(r[l]);return(0,k.hu)(20===g.length,"nextPushId: Length should be 20."),g}}();class OC{constructor(r,e,s,l){this.eventType=r,this.eventRegistration=e,this.snapshot=s,this.prevName=l}getPath(){const r=this.snapshot.ref;return"value"===this.eventType?r._path:r.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,k.Wl)(this.snapshot.exportVal())}}class PC{constructor(r,e,s){this.eventRegistration=r,this.error=e,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class sv{constructor(r,e){this.snapshotCallback=r,this.cancelCallback=e}onValue(r,e){this.snapshotCallback.call(null,r,e)}onCancel(r){return(0,k.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,r)}get hasCancelCallback(){return!!this.cancelCallback}matches(r){return this.snapshotCallback===r.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===r.snapshotCallback.userCallback&&this.snapshotCallback.context===r.snapshotCallback.context}}class xC{constructor(r,e){this._repo=r,this._path=e}cancel(){const r=new k.BH;return f0(this._repo,this._path,r.wrapCallback(()=>{})),r.promise}remove(){ds("OnDisconnect.remove",this._path);const r=new k.BH;return IC(this._repo,this._path,null,r.wrapCallback(()=>{})),r.promise}set(r){ds("OnDisconnect.set",this._path),_a("OnDisconnect.set",r,this._path,!1);const e=new k.BH;return IC(this._repo,this._path,r,e.wrapCallback(()=>{})),e.promise}setWithPriority(r,e){ds("OnDisconnect.setWithPriority",this._path),_a("OnDisconnect.setWithPriority",r,this._path,!1),Y_("OnDisconnect.setWithPriority",e,!1);const s=new k.BH;return function p0(n,r,e,s,l){const d=hn(e,s);n.server_.onDisconnectPut(r.toString(),d.val(!0),(g,I)=>{"ok"===g&&Ju(n.onDisconnect_,r,d),va(0,l,g,I)})}(this._repo,this._path,r,e,s.wrapCallback(()=>{})),s.promise}update(r){ds("OnDisconnect.update",this._path),q_("OnDisconnect.update",r,this._path,!1);const e=new k.BH;return function tv(n,r,e,s){if((0,k.xb)(e))return Qn("onDisconnect().update() called with empty data.  Don't do anything."),void va(0,s,"ok",void 0);n.server_.onDisconnectMerge(r.toString(),e,(l,d)=>{"ok"===l&&Jn(e,(g,I)=>{const w=hn(I);Ju(n.onDisconnect_,dn(r,g),w)}),va(0,s,l,d)})}(this._repo,this._path,r,e.wrapCallback(()=>{})),e.promise}}class mi{constructor(r,e,s,l){this._repo=r,this._path=e,this._queryParams=s,this._orderByCalled=l}get key(){return Nt(this._path)?null:a_(this._path)}get ref(){return new fs(this._repo,this._path)}get _queryIdentifier(){const r=jE(this._queryParams),e=$m(r);return"{}"===e?"default":e}get _queryObject(){return jE(this._queryParams)}isEqual(r){if(!((r=(0,k.m9)(r))instanceof mi))return!1;const e=this._repo===r._repo,s=SE(this._path,r._path);return e&&s&&this._queryIdentifier===r._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Dw(n){let r="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(r+="/"+encodeURIComponent(String(n.pieces_[e])));return r||"/"}(this._path)}}function pg(n,r){if(!0===n._orderByCalled)throw new Error(r+": You can't combine multiple orderBy calls.")}function Dl(n){let r=null,e=null;if(n.hasStart()&&(r=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===$s){const s="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",l="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==Wu)throw new Error(s);if("string"!=typeof r)throw new Error(l)}if(n.hasEnd()){if(n.getIndexEndName()!==Bs)throw new Error(s);if("string"!=typeof e)throw new Error(l)}}else if(n.getIndex()===Ot){if(null!=r&&!ag(r)||null!=e&&!ag(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,k.hu)(n.getIndex()instanceof v_||n.getIndex()===y_,"unknown index type."),null!=r&&"object"==typeof r||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function gg(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class fs extends mi{constructor(r,e){super(r,e,new ef,!1)}get parent(){const r=TE(this._path);return null===r?null:new fs(this._repo,r)}get root(){let r=this;for(;null!==r.parent;)r=r.parent;return r}}class hc{constructor(r,e,s){this._node=r,this.ref=e,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(r){const e=new $t(r),s=fc(this.ref,r);return new hc(this._node.getChild(e),s,Ot)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(r){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(s,l)=>r(new hc(l,fc(this.ref,s),Ot)))}hasChild(r){const e=new $t(r);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function kC(n,r){return(n=(0,k.m9)(n))._checkNotDeleted("ref"),void 0!==r?fc(n._root,r):n._root}function FC(n,r){(n=(0,k.m9)(n))._checkNotDeleted("refFromURL");const e=fg(r,n._repo.repoInfo_.nodeAdmin);Q_("refFromURL",e);const s=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&s.host!==n._repo.repoInfo_.host&&Li("refFromURL: Host name does not match the current database: (found "+s.host+" but expected "+n._repo.repoInfo_.host+")"),kC(n,e.path.toString())}function fc(n,r){return null===bt((n=(0,k.m9)(n))._path)?a0("child","path",r,!1):Ud("child","path",r,!1),new fs(n._repo,dn(n._path,r))}function ov(n,r){n=(0,k.m9)(n),ds("set",n._path),_a("set",r,n._path,!1);const e=new k.BH;return lg(n._repo,n._path,r,null,e.wrapCallback(()=>{})),e.promise}function VC(n,r){q_("update",r,n._path,!1);const e=new k.BH;return function CC(n,r,e,s){Bd(n,"update",{path:r.toString(),value:e});let l=!0;const d=cc(n),g={};if(Jn(e,(I,w)=>{l=!1,g[I]=pC(dn(r,I),hn(w),n.serverSyncTree_,d)}),l)Qn("update() called with empty data.  Don't do anything."),va(0,s,"ok",void 0);else{const I=gi(n),w=function oC(n,r,e,s){!function KE(n,r,e,s){(0,k.hu)(s>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:r,children:e,writeId:s,visible:!0}),n.visibleWrites=T_(n.visibleWrites,r,e),n.lastWriteId=s}(n.pendingWriteTree_,r,e,s);const l=Xt.fromObject(e);return Ld(n,new ec({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},r,l))}(n.serverSyncTree_,r,g,I);_f(n.eventQueue_,w),n.server_.merge(r.toString(),e,(R,V)=>{const j="ok"===R;j||Hn("update at "+r+" failed: "+R);const K=El(n.serverSyncTree_,I,!j),we=K.length>0?dc(n,r):r;Er(n.eventQueue_,we,K),va(0,s,R,V)}),Jn(e,R=>{const V=dg(n,dn(r,R));dc(n,V)}),Er(n.eventQueue_,r,[])}}(n._repo,n._path,r,e.wrapCallback(()=>{})),e.promise}function UC(n){n=(0,k.m9)(n);const r=new sv(()=>{}),e=new $d(r);return function Ks(n,r,e){const s=function lC(n,r){const e=r._path;let s=null;n.syncPointTree_.foreachOnPath(e,(R,V)=>{const j=ti(R,e);s=s||zs(V,j)});let l=n.syncPointTree_.get(e);l?s=s||zs(l,Ft()):(l=new x_,n.syncPointTree_=n.syncPointTree_.set(e,l));const d=null!=s,g=d?new fa(s,!0,!1):null;return function Gw(n){return $p(n.viewCache_)}(rC(l,r,Gp(n.pendingWriteTree_,r._path),d?g.getNode():Dt.EMPTY_NODE,d))}(n.serverSyncTree_,r);return null!=s?Promise.resolve(s):n.server_.get(r).then(l=>{const d=hn(l).withIndex(r._queryParams.getIndex());let g;if(kd(n.serverSyncTree_,r,e,!0),r._queryParams.loadsAllData())g=df(n.serverSyncTree_,r._path,d);else{const I=lc(n.serverSyncTree_,r);g=aC(n.serverSyncTree_,r._path,d,I)}return Er(n.eventQueue_,r._path,g),xd(n.serverSyncTree_,r,e,null,!0),d},l=>(Bd(n,"get for query "+(0,k.Wl)(r)+" failed: "+l),Promise.reject(new Error(l))))}(n._repo,n,e).then(s=>new hc(s,new fs(n._repo,n._path),n._queryParams.getIndex()))}class $d{constructor(r){this.callbackContext=r}respondsTo(r){return"value"===r}createEvent(r,e){const s=e._queryParams.getIndex();return new OC("value",this,new hc(r.snapshotNode,new fs(e._repo,e._path),s))}getEventRunner(r){return"cancel"===r.getEventType()?()=>this.callbackContext.onCancel(r.error):()=>this.callbackContext.onValue(r.snapshot,null)}createCancelEvent(r,e){return this.callbackContext.hasCancelCallback?new PC(this,r,e):null}matches(r){return r instanceof $d&&(!r.callbackContext||!this.callbackContext||r.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class yf{constructor(r,e){this.eventType=r,this.callbackContext=e}respondsTo(r){let e="children_added"===r?"child_added":r;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(r,e){return this.callbackContext.hasCancelCallback?new PC(this,r,e):null}createEvent(r,e){(0,k.hu)(null!=r.childName,"Child events should have a childName.");const s=fc(new fs(e._repo,e._path),r.childName),l=e._queryParams.getIndex();return new OC(r.type,this,new hc(r.snapshotNode,s,l),r.prevName)}getEventRunner(r){return"cancel"===r.getEventType()?()=>this.callbackContext.onCancel(r.error):()=>this.callbackContext.onValue(r.snapshot,r.prevName)}matches(r){return r instanceof yf&&this.eventType===r.eventType&&(!this.callbackContext||!r.callbackContext||this.callbackContext.matches(r.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Gd(n,r,e,s,l){let d;if("object"==typeof s&&(d=void 0,l=s),"function"==typeof s&&(d=s),l&&l.onlyOnce){const w=e,R=(V,j)=>{nv(n._repo,n,I),w(V,j)};R.userCallback=e.userCallback,R.context=e.context,e=R}const g=new sv(e,d||void 0),I="value"===r?new $d(g):new yf(r,g);return function vf(n,r,e){let s;s=".info"===bt(r._path)?kd(n.infoSyncTree_,r,e):kd(n.serverSyncTree_,r,e),J_(n.eventQueue_,r._path,s)}(n._repo,n,I),()=>nv(n._repo,n,I)}function mg(n,r,e,s){return Gd(n,"value",r,e,s)}function av(n,r,e,s){return Gd(n,"child_added",r,e,s)}function lv(n,r,e,s){return Gd(n,"child_changed",r,e,s)}function uv(n,r,e,s){return Gd(n,"child_moved",r,e,s)}function cv(n,r,e,s){return Gd(n,"child_removed",r,e,s)}function wl(n,r,e){let s=null;const l=e?new sv(e):null;"value"===r?s=new $d(l):r&&(s=new yf(r,l)),nv(n._repo,n,s)}class qs{}class BC extends qs{constructor(r,e){super(),this._value=r,this._key=e}_apply(r){_a("endAt",this._value,r._path,!0);const e=Vp(r._queryParams,this._value,this._key);if(gg(e),Dl(e),r._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new mi(r._repo,r._path,e,r._orderByCalled)}}class qT extends qs{constructor(r,e){super(),this._value=r,this._key=e}_apply(r){_a("endBefore",this._value,r._path,!1);const e=function BE(n,r,e){let s;return s=Vp(n,r,n.index_===$s||e?e:Wu),s.endBeforeSet_=!0,s}(r._queryParams,this._value,this._key);if(gg(e),Dl(e),r._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new mi(r._repo,r._path,e,r._orderByCalled)}}class y0 extends qs{constructor(r,e){super(),this._value=r,this._key=e}_apply(r){_a("startAt",this._value,r._path,!0);const e=Lp(r._queryParams,this._value,this._key);if(gg(e),Dl(e),r._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new mi(r._repo,r._path,e,r._orderByCalled)}}class HC extends qs{constructor(r,e){super(),this._value=r,this._key=e}_apply(r){_a("startAfter",this._value,r._path,!1);const e=function UE(n,r,e){let s;return s=Lp(n,r,n.index_===$s||e?e:Bs),s.startAfterSet_=!0,s}(r._queryParams,this._value,this._key);if(gg(e),Dl(e),r._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new mi(r._repo,r._path,e,r._orderByCalled)}}class zd extends qs{constructor(r){super(),this._limit=r}_apply(r){if(r._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new mi(r._repo,r._path,function E_(n,r){const e=n.copy();return e.limitSet_=!0,e.limit_=r,e.viewFrom_="l",e}(r._queryParams,this._limit),r._orderByCalled)}}class C0 extends qs{constructor(r){super(),this._limit=r}_apply(r){if(r._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new mi(r._repo,r._path,function jT(n,r){const e=n.copy();return e.limitSet_=!0,e.limit_=r,e.viewFrom_="r",e}(r._queryParams,this._limit),r._orderByCalled)}}class Zd extends qs{constructor(r){super(),this._path=r}_apply(r){pg(r,"orderByChild");const e=new $t(this._path);if(Nt(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const s=new v_(e),l=Td(r._queryParams,s);return Dl(l),new mi(r._repo,r._path,l,!0)}}class _g extends qs{_apply(r){pg(r,"orderByKey");const e=Td(r._queryParams,$s);return Dl(e),new mi(r._repo,r._path,e,!0)}}class _i extends qs{_apply(r){pg(r,"orderByPriority");const e=Td(r._queryParams,Ot);return Dl(e),new mi(r._repo,r._path,e,!0)}}class $C extends qs{_apply(r){pg(r,"orderByValue");const e=Td(r._queryParams,y_);return Dl(e),new mi(r._repo,r._path,e,!0)}}class w0 extends qs{constructor(r,e){super(),this._value=r,this._key=e}_apply(r){if(_a("equalTo",this._value,r._path,!1),r._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(r._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new BC(this._value,this._key)._apply(new y0(this._value,this._key)._apply(r))}}function ps(n,...r){let e=(0,k.m9)(n);for(const s of r)e=s._apply(e);return e}(function zw(n){(0,k.hu)(!vl,"__referenceConstructor has already been defined"),vl=n})(fs),function sC(n){(0,k.hu)(!Xp,"__referenceConstructor has already been defined"),Xp=n}(fs);const yg={};function KC(n,r,e,s,l){let d=s||n.options.databaseURL;void 0===d&&(n.options.projectId||Li("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Qn("Using default host for project ",n.options.projectId),d=`${n.options.projectId}-default-rtdb.firebaseio.com`);let w,R,g=fg(d,l),I=g.repoInfo;typeof process<"u"&&process.env&&(R=process.env.FIREBASE_DATABASE_EMULATOR_HOST),R?(w=!0,d=`http://${R}?ns=${I.namespace}`,g=fg(d,l),I=g.repoInfo):w=!g.repoInfo.secure;const V=l&&w?new Wh(Wh.OWNER):new aE(n.name,n.options,r);Q_("Invalid Firebase Database URL",g),Nt(g.path)||Li("Database URL must point to the root of a Firebase Database (not including a child path).");const j=function T0(n,r,e,s){let l=yg[r.name];l||(l={},yg[r.name]=l);let d=l[n.toURLString()];return d&&Li("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),d=new yC(n,false,e,s),l[n.toURLString()]=d,d}(I,n,V,new cw(n.name,e));return new A0(j,n)}class A0{constructor(r,e){this._repoInternal=r,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function ZT(n,r,e){if(n.stats_=Rp(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new Up(n.repoInfo_,(s,l,d,g)=>{Zs(n,s,l,d,g)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>EC(n,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,k.Wl)(e)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}n.persistentConnection_=new qu(n.repoInfo_,r,(s,l,d,g)=>{Zs(n,s,l,d,g)},s=>{EC(n,s)},s=>{!function d0(n,r){Jn(r,(e,s)=>{hs(n,e,s)})}(n,s)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(s=>{n.server_.refreshAuthToken(s)}),n.appCheckProvider_.addTokenChangeListener(s=>{n.server_.refreshAppCheckToken(s.token)}),n.statsReporter_=function hw(n,r){const e=n.toString();return Kh[e]||(Kh[e]=r()),Kh[e]}(n.repoInfo_,()=>new $E(n.stats_,n.server_)),n.infoData_=new C_,n.infoSyncTree_=new L_({startListening:(s,l,d,g)=>{let I=[];const w=n.infoData_.getNode(s._path);return w.isEmpty()||(I=df(n.infoSyncTree_,s._path,w),setTimeout(()=>{g("ok")},0)),I},stopListening:()=>{}}),hs(n,"connected",!1),n.serverSyncTree_=new L_({startListening:(s,l,d,g)=>(n.server_.listen(s,d,l,(I,w)=>{const R=g(I,w);Er(n.eventQueue_,s._path,R)}),[]),stopListening:(s,l)=>{n.server_.unlisten(s,l)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new fs(this._repo,Ft())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Ef(n,r){const e=yg[r];(!e||e[n.key]!==n)&&Li(`Database ${r}(${n.repoInfo_}) has already been deleted.`),rv(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(r){null===this._rootInternal&&Li("Cannot call "+r+" on a deleted database.")}}function Cf(){EE.IS_TRANSPORT_INITIALIZED&&Hn("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function qC(){Cf(),So.forceDisallow()}function YC(){Cf(),Dn.forceDisallow(),So.forceAllow()}function R0(n,r){Hu(n,r)}const O0={".sv":"timestamp"};class eI{constructor(r,e){this.committed=r,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}qu.prototype.simpleListen=function(n,r){this.sendRequest("q",{p:n},r)},qu.prototype.echo=function(n,r){this.sendRequest("echo",{d:n},r)},function N0(n){Um(Bu.SDK_VERSION),(0,Bu._registerComponent)(new dl.wA("database",(r,{instanceIdentifier:e})=>KC(r.getProvider("app").getImmediate(),r.getProvider("auth-internal"),r.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,Bu.registerVersion)(bp,"0.14.4",n),(0,Bu.registerVersion)(bp,"0.14.4","esm2017")}();const eS=new wp.Yd("@firebase/database-compat"),F0=function(n){eS.warn("FIREBASE WARNING: "+n)};class Eg{constructor(r){this._delegate=r}cancel(r){(0,k.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,k.Wj)("OnDisconnect.cancel","onComplete",r,!0);const e=this._delegate.cancel();return r&&e.then(()=>r(null),s=>r(s)),e}remove(r){(0,k.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,k.Wj)("OnDisconnect.remove","onComplete",r,!0);const e=this._delegate.remove();return r&&e.then(()=>r(null),s=>r(s)),e}set(r,e){(0,k.Dv)("OnDisconnect.set",1,2,arguments.length),(0,k.Wj)("OnDisconnect.set","onComplete",e,!0);const s=this._delegate.set(r);return e&&s.then(()=>e(null),l=>e(l)),s}setWithPriority(r,e,s){(0,k.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,k.Wj)("OnDisconnect.setWithPriority","onComplete",s,!0);const l=this._delegate.setWithPriority(r,e);return s&&l.then(()=>s(null),d=>s(d)),l}update(r,e){if((0,k.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(r)){const l={};for(let d=0;d<r.length;++d)l[""+d]=r[d];r=l,F0("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,k.Wj)("OnDisconnect.update","onComplete",e,!0);const s=this._delegate.update(r);return e&&s.then(()=>e(null),l=>e(l)),s}}class L0{constructor(r,e){this.committed=r,this.snapshot=e}toJSON(){return(0,k.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class bl{constructor(r,e){this._database=r,this._delegate=e}val(){return(0,k.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,k.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,k.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,k.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(r){return(0,k.Dv)("DataSnapshot.child",0,1,arguments.length),r=String(r),Ud("DataSnapshot.child","path",r,!1),new bl(this._database,this._delegate.child(r))}hasChild(r){return(0,k.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Ud("DataSnapshot.hasChild","path",r,!1),this._delegate.hasChild(r)}getPriority(){return(0,k.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(r){return(0,k.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,k.Wj)("DataSnapshot.forEach","action",r,!1),this._delegate.forEach(e=>r(new bl(this._database,e)))}hasChildren(){return(0,k.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,k.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,k.Dv)("DataSnapshot.ref",0,0,arguments.length),new Nr(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Cr{constructor(r,e){this.database=r,this._delegate=e}on(r,e,s,l){var d;(0,k.Dv)("Query.on",2,4,arguments.length),(0,k.Wj)("Query.on","callback",e,!1);const g=Cr.getCancelAndContextArgs_("Query.on",s,l),I=(R,V)=>{e.call(g.context,new bl(this.database,R),V)};I.userCallback=e,I.context=g.context;const w=null===(d=g.cancel)||void 0===d?void 0:d.bind(g.context);switch(r){case"value":return mg(this._delegate,I,w),e;case"child_added":return av(this._delegate,I,w),e;case"child_removed":return cv(this._delegate,I,w),e;case"child_changed":return lv(this._delegate,I,w),e;case"child_moved":return uv(this._delegate,I,w),e;default:throw new Error((0,k.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(r,e,s){if((0,k.Dv)("Query.off",0,3,arguments.length),function(n,r,e){if(void 0!==r)switch(r){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,k.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,r),(0,k.Wj)("Query.off","callback",e,!0),(0,k.lb)("Query.off","context",s,!0),e){const l=()=>{};l.userCallback=e,l.context=s,wl(this._delegate,r,l)}else wl(this._delegate,r)}get(){return UC(this._delegate).then(r=>new bl(this.database,r))}once(r,e,s,l){(0,k.Dv)("Query.once",1,4,arguments.length),(0,k.Wj)("Query.once","callback",e,!0);const d=Cr.getCancelAndContextArgs_("Query.once",s,l),g=new k.BH,I=(R,V)=>{const j=new bl(this.database,R);e&&e.call(d.context,j,V),g.resolve(j)};I.userCallback=e,I.context=d.context;const w=R=>{d.cancel&&d.cancel.call(d.context,R),g.reject(R)};switch(r){case"value":mg(this._delegate,I,w,{onlyOnce:!0});break;case"child_added":av(this._delegate,I,w,{onlyOnce:!0});break;case"child_removed":cv(this._delegate,I,w,{onlyOnce:!0});break;case"child_changed":lv(this._delegate,I,w,{onlyOnce:!0});break;case"child_moved":uv(this._delegate,I,w,{onlyOnce:!0});break;default:throw new Error((0,k.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return g.promise}limitToFirst(r){return(0,k.Dv)("Query.limitToFirst",1,1,arguments.length),new Cr(this.database,ps(this._delegate,function E0(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new zd(n)}(r)))}limitToLast(r){return(0,k.Dv)("Query.limitToLast",1,1,arguments.length),new Cr(this.database,ps(this._delegate,function I0(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new C0(n)}(r)))}orderByChild(r){return(0,k.Dv)("Query.orderByChild",1,1,arguments.length),new Cr(this.database,ps(this._delegate,function D0(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Ud("orderByChild","path",n,!1),new Zd(n)}(r)))}orderByKey(){return(0,k.Dv)("Query.orderByKey",0,0,arguments.length),new Cr(this.database,ps(this._delegate,function vg(){return new _g}()))}orderByPriority(){return(0,k.Dv)("Query.orderByPriority",0,0,arguments.length),new Cr(this.database,ps(this._delegate,function QT(){return new _i}()))}orderByValue(){return(0,k.Dv)("Query.orderByValue",0,0,arguments.length),new Cr(this.database,ps(this._delegate,function GC(){return new $C}()))}startAt(r=null,e){return(0,k.Dv)("Query.startAt",0,2,arguments.length),new Cr(this.database,ps(this._delegate,function jC(n=null,r){return wn("startAt","key",r,!0),new y0(n,r)}(r,e)))}startAfter(r=null,e){return(0,k.Dv)("Query.startAfter",0,2,arguments.length),new Cr(this.database,ps(this._delegate,function YT(n,r){return wn("startAfter","key",r,!0),new HC(n,r)}(r,e)))}endAt(r=null,e){return(0,k.Dv)("Query.endAt",0,2,arguments.length),new Cr(this.database,ps(this._delegate,function Wd(n,r){return wn("endAt","key",r,!0),new BC(n,r)}(r,e)))}endBefore(r=null,e){return(0,k.Dv)("Query.endBefore",0,2,arguments.length),new Cr(this.database,ps(this._delegate,function dv(n,r){return wn("endBefore","key",r,!0),new qT(n,r)}(r,e)))}equalTo(r,e){return(0,k.Dv)("Query.equalTo",1,2,arguments.length),new Cr(this.database,ps(this._delegate,function WC(n,r){return wn("equalTo","key",r,!0),new w0(n,r)}(r,e)))}toString(){return(0,k.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,k.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(r){if((0,k.Dv)("Query.isEqual",1,1,arguments.length),!(r instanceof Cr))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(r._delegate)}static getCancelAndContextArgs_(r,e,s){const l={cancel:void 0,context:void 0};if(e&&s)l.cancel=e,(0,k.Wj)(r,"cancel",l.cancel,!0),l.context=s,(0,k.lb)(r,"context",l.context,!0);else if(e)if("object"==typeof e&&null!==e)l.context=e;else{if("function"!=typeof e)throw new Error((0,k.gK)(r,"cancelOrContext")+" must either be a cancel callback or a context object.");l.cancel=e}return l}get ref(){return new Nr(this.database,new fs(this._delegate._repo,this._delegate._path))}}class Nr extends Cr{constructor(r,e){super(r,new mi(e._repo,e._path,new ef,!1)),this.database=r,this._delegate=e}getKey(){return(0,k.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(r){return(0,k.Dv)("Reference.child",1,1,arguments.length),"number"==typeof r&&(r=String(r)),new Nr(this.database,fc(this._delegate,r))}getParent(){(0,k.Dv)("Reference.parent",0,0,arguments.length);const r=this._delegate.parent;return r?new Nr(this.database,r):null}getRoot(){return(0,k.Dv)("Reference.root",0,0,arguments.length),new Nr(this.database,this._delegate.root)}set(r,e){(0,k.Dv)("Reference.set",1,2,arguments.length),(0,k.Wj)("Reference.set","onComplete",e,!0);const s=ov(this._delegate,r);return e&&s.then(()=>e(null),l=>e(l)),s}update(r,e){if((0,k.Dv)("Reference.update",1,2,arguments.length),Array.isArray(r)){const l={};for(let d=0;d<r.length;++d)l[""+d]=r[d];r=l,F0("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ds("Reference.update",this._delegate._path),(0,k.Wj)("Reference.update","onComplete",e,!0);const s=VC(this._delegate,r);return e&&s.then(()=>e(null),l=>e(l)),s}setWithPriority(r,e,s){(0,k.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,k.Wj)("Reference.setWithPriority","onComplete",s,!0);const l=function LC(n,r,e){if(ds("setWithPriority",n._path),_a("setWithPriority",r,n._path,!1),Y_("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const s=new k.BH;return lg(n._repo,n._path,r,e,s.wrapCallback(()=>{})),s.promise}(this._delegate,r,e);return s&&l.then(()=>s(null),d=>s(d)),l}remove(r){(0,k.Dv)("Reference.remove",0,1,arguments.length),(0,k.Wj)("Reference.remove","onComplete",r,!0);const e=function _0(n){return ds("remove",n._path),ov(n,null)}(this._delegate);return r&&e.then(()=>r(null),s=>r(s)),e}transaction(r,e,s){(0,k.Dv)("Reference.transaction",1,3,arguments.length),(0,k.Wj)("Reference.transaction","transactionUpdate",r,!1),(0,k.Wj)("Reference.transaction","onComplete",e,!0),function(n,r,e,s){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,k.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,s);const l=function P0(n,r,e){var s;if(n=(0,k.m9)(n),ds("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const l=null===(s=e?.applyLocally)||void 0===s||s,d=new k.BH,I=mg(n,()=>{});return function DC(n,r,e,s,l,d){Bd(n,"transaction on "+r);const g={path:r,update:e,onComplete:s,status:null,order:sw(),applyLocally:d,retryCount:0,unwatcher:l,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},I=jd(n,r,void 0);g.currentInputSnapshot=I;const w=g.update(I.val());if(void 0===w)g.unwatcher(),g.currentOutputSnapshotRaw=null,g.currentOutputSnapshotResolved=null,g.onComplete&&g.onComplete(null,!1,g.currentInputSnapshot);else{mf("transaction failed: Data returned ",w,g.path),g.status=0;const R=pf(n.transactionQueueTree_,r),V=Cl(R)||[];let j;V.push(g),og(R,V),"object"==typeof w&&null!==w&&(0,k.r3)(w,".priority")?(j=(0,k.DV)(w,".priority"),(0,k.hu)(ag(j),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):j=(Fd(n.serverSyncTree_,r)||Dt.EMPTY_NODE).getPriority().val();const K=cc(n),we=hn(w,j),Ve=G_(we,I,K);g.currentOutputSnapshotRaw=we,g.currentOutputSnapshotResolved=Ve,g.currentWriteId=gi(n);const t=eg(n.serverSyncTree_,r,Ve,g.currentWriteId,g.applyLocally);Er(n.eventQueue_,r,t),ug(n,n.transactionQueueTree_)}}(n._repo,n._path,r,(w,R,V)=>{let j=null;w?d.reject(w):(j=new hc(V,new fs(n._repo,n._path),Ot),d.resolve(new eI(R,j)))},I,l),d.promise}(this._delegate,r,{applyLocally:s}).then(d=>new L0(d.committed,new bl(this.database,d.snapshot)));return e&&l.then(d=>e(null,d.committed,d.snapshot),d=>e(d,!1,null)),l}setPriority(r,e){(0,k.Dv)("Reference.setPriority",1,2,arguments.length),(0,k.Wj)("Reference.setPriority","onComplete",e,!0);const s=function v0(n,r){n=(0,k.m9)(n),ds("setPriority",n._path),Y_("setPriority",r,!1);const e=new k.BH;return lg(n._repo,dn(n._path,".priority"),r,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,r);return e&&s.then(()=>e(null),l=>e(l)),s}push(r,e){(0,k.Dv)("Reference.push",0,2,arguments.length),(0,k.Wj)("Reference.push","onComplete",e,!0);const s=function m0(n,r){n=(0,k.m9)(n),ds("push",n._path),_a("push",r,n._path,!0);const e=ev(n._repo),s=NC(e),l=fc(n,s),d=fc(n,s);let g;return g=null!=r?ov(d,r).then(()=>d):Promise.resolve(d),l.then=g.then.bind(g),l.catch=g.then.bind(g,void 0),l}(this._delegate,r),l=s.then(g=>new Nr(this.database,g));e&&l.then(()=>e(null),g=>e(g));const d=new Nr(this.database,s);return d.then=l.then.bind(l),d.catch=l.catch.bind(l,void 0),d}onDisconnect(){return ds("Reference.onDisconnect",this._delegate._path),new Eg(new xC(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class wf{constructor(r,e){this._delegate=r,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:qC,forceLongPolling:YC}}useEmulator(r,e,s={}){!function QC(n,r,e,s={}){(n=(0,k.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Li("Cannot call useEmulator() after instance has already been initialized.");const l=n._repoInternal;let d;if(l.repoInfo_.nodeAdmin)s.mockUserToken&&Li('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),d=new Wh(Wh.OWNER);else if(s.mockUserToken){const g="string"==typeof s.mockUserToken?s.mockUserToken:(0,k.Sg)(s.mockUserToken,n.app.options.projectId);d=new Wh(g)}!function b0(n,r,e,s){n.repoInfo_=new Zm(`${r}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),s&&(n.authTokenProvider_=s)}(l,r,e,d)}(this._delegate,r,e,s)}ref(r){if((0,k.Dv)("database.ref",0,1,arguments.length),r instanceof Nr){const e=FC(this._delegate,r.toString());return new Nr(this,e)}{const e=kC(this._delegate,r);return new Nr(this,e)}}refFromURL(r){(0,k.Dv)("database.refFromURL",1,1,arguments.length);const s=FC(this._delegate,r);return new Nr(this,s)}goOffline(){return(0,k.Dv)("database.goOffline",0,0,arguments.length),function If(n){(n=(0,k.m9)(n))._checkNotDeleted("goOffline"),rv(n._repo)}(this._delegate)}goOnline(){return(0,k.Dv)("database.goOnline",0,0,arguments.length),function Df(n){(n=(0,k.m9)(n))._checkNotDeleted("goOnline"),function g0(n){n.persistentConnection_&&n.persistentConnection_.resume(X_)}(n._repo)}(this._delegate)}}wf.ServerValue={TIMESTAMP:function JC(){return O0}(),increment:n=>function XC(n){return{".sv":{increment:n}}}(n)};var U0=Object.freeze({__proto__:null,initStandalone:function V0({app:n,url:r,version:e,customAuthImpl:s,namespace:l,nodeAdmin:d=!1}){Um(e);const g=new dl.zt("auth-internal",new dl.H0("database-standalone"));return g.setComponent(new dl.wA("auth-internal",()=>s,"PRIVATE")),{instance:new wf(KC(n,g,void 0,r,d),n),namespace:l}}});const B0=wf.ServerValue;!function nS(n){n.INTERNAL.registerComponent(new dl.wA("database-compat",(r,{instanceIdentifier:e})=>{const s=r.getProvider("app-compat").getImmediate(),l=r.getProvider("database").getImmediate({identifier:e});return new wf(l,s)},"PUBLIC").setServiceProps({Reference:Nr,Query:Cr,Database:wf,DataSnapshot:bl,enableLogging:R0,INTERNAL:U0,ServerValue:B0}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.3.4")}(rw.Z);var Cg=O(3093),nI=O(4552);class j0 extends Vr.x{constructor(r=1/0,e=1/0,s=nI.l){super(),this._bufferSize=r,this._windowTime=e,this._timestampProvider=s,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,r),this._windowTime=Math.max(1,e)}next(r){const{isStopped:e,_buffer:s,_infiniteTimeWindow:l,_timestampProvider:d,_windowTime:g}=this;e||(s.push(r),!l&&s.push(d.now()+g)),this._trimBuffer(),super.next(r)}_subscribe(r){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(r),{_infiniteTimeWindow:s,_buffer:l}=this,d=l.slice();for(let g=0;g<d.length&&!r.closed;g+=s?1:2)r.next(d[g]);return this._checkFinalizedStatuses(r),e}_trimBuffer(){const{_bufferSize:r,_timestampProvider:e,_buffer:s,_infiniteTimeWindow:l}=this,d=(l?1:2)*r;if(r<1/0&&d<s.length&&s.splice(0,s.length-d),!l){const g=e.now();let I=0;for(let w=1;w<s.length&&s[w]<=g;w+=2)I=w;I&&s.splice(0,I+1)}}}function rI(n,r,e){let s,l=!1;return n&&"object"==typeof n?({bufferSize:s=1/0,windowTime:r=1/0,refCount:l=!1,scheduler:e}=n):s=n??1/0,(0,iE.B)({connector:()=>new j0(s,r,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:l})}function Kd(n,r){return(0,As.m)(r)?(0,an.w)(()=>n,r):(0,an.w)(()=>n)}var hv=O(5137);O(3182);const gv=new Map,cI={activated:!1,tokenObservers:[]},$0={initialized:!1,enabled:!1};function On(n){return gv.get(n)||Object.assign({},cI)}function Dg(){return $0}const wg="https://content-firebaseappcheck.googleapis.com/v1",z0="exchangeDebugToken",mv={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class K0{constructor(r,e,s,l,d){if(this.operation=r,this.retryPolicy=e,this.getWaitDuration=s,this.lowerBound=l,this.upperBound=d,this.pending=null,this.nextErrorWaitInterval=l,l>d)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(r){var e=this;return(0,Fi.Z)(function*(){e.stop();try{e.pending=new k.BH,yield function q0(n){return new Promise(r=>{setTimeout(r,n)})}(e.getNextRun(r)),e.pending.resolve(),yield e.pending.promise,e.pending=new k.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(s){e.retryPolicy(s)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(r){if(r)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const ir=new k.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function bg(n){if(!On(n).activated)throw ir.create("use-before-activation",{appName:n.name})}function Sg(n,r){return Tf.apply(this,arguments)}function Tf(){return(Tf=(0,Fi.Z)(function*({url:n,body:r},e){const s={"Content-Type":"application/json"},l=e.getImmediate({optional:!0});if(l){const j=yield l.getHeartbeatsHeader();j&&(s["X-Firebase-Client"]=j)}const d={method:"POST",body:JSON.stringify(r),headers:s};let g,I;try{g=yield fetch(n,d)}catch(j){throw ir.create("fetch-network-error",{originalErrorMessage:j?.message})}if(200!==g.status)throw ir.create("fetch-status-error",{httpStatus:g.status});try{I=yield g.json()}catch(j){throw ir.create("fetch-parse-error",{originalErrorMessage:j?.message})}const w=I.ttl.match(/^([\d.]+)(s)$/);if(!w||!w[2]||isNaN(Number(w[1])))throw ir.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${I.ttl}`});const R=1e3*Number(w[1]),V=Date.now();return{token:I.token,expireTimeMillis:V+R,issuedAtTimeMillis:V}})).apply(this,arguments)}function Tl(n,r){const{projectId:e,appId:s,apiKey:l}=n.options;return{url:`${wg}/projects/${e}/apps/${s}:${z0}?key=${l}`,body:{debug_token:r}}}const fI="firebase-app-check-database",J0=1,Ag="firebase-app-check-store";let Yd=null;function Ng(){return(Ng=(0,Fi.Z)(function*(n,r){const s=(yield function pI(){return Yd||(Yd=new Promise((n,r)=>{try{const e=indexedDB.open(fI,J0);e.onsuccess=s=>{n(s.target.result)},e.onerror=s=>{var l;r(ir.create("storage-open",{originalErrorMessage:null===(l=s.target.error)||void 0===l?void 0:l.message}))},e.onupgradeneeded=s=>{0===s.oldVersion&&s.target.result.createObjectStore(Ag,{keyPath:"compositeKey"})}}catch(e){r(ir.create("storage-open",{originalErrorMessage:e?.message}))}}),Yd)}()).transaction(Ag,"readwrite"),d=s.objectStore(Ag).put({compositeKey:n,value:r});return new Promise((g,I)=>{d.onsuccess=w=>{g()},s.onerror=w=>{var R;I(ir.create("storage-set",{originalErrorMessage:null===(R=w.target.error)||void 0===R?void 0:R.message}))}})})).apply(this,arguments)}const Sf=new wp.Yd("@firebase/app-check");function Ev(n,r){return(0,k.hl)()?function mI(n,r){return function Rg(n,r){return Ng.apply(this,arguments)}(function vv(n){return`${n.options.appId}-${n.name}`}(n),r)}(n,r).catch(e=>{Sf.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function Pg(){return Dg().enabled}function Cv(){return Iv.apply(this,arguments)}function Iv(){return(Iv=(0,Fi.Z)(function*(){const n=Dg();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const tb={error:"UNKNOWN_ERROR"};function nb(n){return k.US.encodeString(JSON.stringify(n),!1)}function xg(n){return Dv.apply(this,arguments)}function Dv(){return(Dv=(0,Fi.Z)(function*(n,r=!1){const e=n.app;bg(e);const s=On(e);let d,l=s.token;if(l&&!Qd(l)&&(s.token=void 0,l=void 0),!l){const w=yield s.cachedTokenPromise;w&&(Qd(w)?l=w:yield Ev(e,void 0))}if(!r&&l&&Qd(l))return{token:l.token};let I,g=!1;if(Pg()){s.exchangeTokenPromise||(s.exchangeTokenPromise=Sg(Tl(e,yield Cv()),n.heartbeatServiceProvider).finally(()=>{s.exchangeTokenPromise=void 0}),g=!0);const w=yield s.exchangeTokenPromise;return yield Ev(e,w),s.token=w,{token:w.token}}try{s.exchangeTokenPromise||(s.exchangeTokenPromise=s.provider.getToken().finally(()=>{s.exchangeTokenPromise=void 0}),g=!0),l=yield On(e).exchangeTokenPromise}catch(w){"appCheck/throttled"===w.code?Sf.warn(w.message):Sf.error(w),d=w}return l?d?I=Qd(l)?{token:l.token,internalError:d}:Jd(d):(I={token:l.token},s.token=l,yield Ev(e,l)):I=Jd(d),g&&function II(n,r){const e=On(n).tokenObservers;for(const s of e)try{"EXTERNAL"===s.type&&null!=r.error?s.error(r.error):s.next(r)}catch{}}(e,I),I})).apply(this,arguments)}function EI(n){return wv.apply(this,arguments)}function wv(){return(wv=(0,Fi.Z)(function*(n){const r=n.app;bg(r);const{provider:e}=On(r);if(Pg()){const s=yield Cv(),{token:l}=yield Sg(Tl(r,s),n.heartbeatServiceProvider);return{token:l}}{const{token:s}=yield e.getToken();return{token:s}}})).apply(this,arguments)}function Tv(n,r){const e=On(n),s=e.tokenObservers.filter(l=>l.next!==r);0===s.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=s}function CI(n){const{app:r}=n,e=On(r);let s=e.tokenRefresher;s||(s=function rb(n){const{app:r}=n;return new K0((0,Fi.Z)(function*(){let s;if(s=On(r).token?yield xg(n,!0):yield xg(n),s.error)throw s.error;if(s.internalError)throw s.internalError}),()=>!0,()=>{const e=On(r);if(e.token){let s=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return s=Math.min(s,e.token.expireTimeMillis-3e5),Math.max(0,s-Date.now())}return 0},mv.RETRIAL_MIN_WAIT,mv.RETRIAL_MAX_WAIT)}(n),e.tokenRefresher=s),!s.isRunning()&&e.isTokenAutoRefreshEnabled&&s.start()}function Qd(n){return n.expireTimeMillis-Date.now()>0}function Jd(n){return{token:nb(tb),error:n}}class DI{constructor(r,e){this.app=r,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:r}=On(this.app);for(const e of r)Tv(this.app,e.next);return Promise.resolve()}}const Mf="app-check-internal";!function hb(){(0,Bu._registerComponent)(new dl.wA("app-check",n=>function wI(n,r){return new DI(n,r)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,r,e)=>{n.getProvider(Mf).initialize()})),(0,Bu._registerComponent)(new dl.wA(Mf,n=>function bI(n){return{getToken:r=>xg(n,r),getLimitedUseToken:()=>EI(n),addTokenListener:r=>function bv(n,r,e,s){const{app:l}=n,d=On(l);if(d.tokenObservers=[...d.tokenObservers,{next:e,error:s,type:r}],d.token&&Qd(d.token)){const I=d.token;Promise.resolve().then(()=>{e({token:I.token}),CI(n)}).catch(()=>{})}d.cachedTokenPromise.then(()=>CI(n))}(n,"INTERNAL",r),removeTokenListener:r=>Tv(n.app,r)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Bu.registerVersion)("@firebase/app-check","0.8.0")}();class Av{constructor(){return(0,Rr.vb)("app-check")}}typeof window<"u"&&window;var Rv=O(7142);const Bg=new p.OlP("angularfire2.auth.use-emulator"),jg=new p.OlP("angularfire2.auth.settings"),UI=new p.OlP("angularfire2.auth.tenant-id"),BI=new p.OlP("angularfire2.auth.langugage-code"),jI=new p.OlP("angularfire2.auth.use-device-language"),HI=new p.OlP("angularfire.auth.persistence"),Nv=(n,r,e,s,l,d,g,I)=>(0,ki.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const w=r.runOutsideAngular(()=>n.auth());if(e&&w.useEmulator(...e),s&&(w.tenantId=s),w.languageCode=l,d&&w.useDeviceLanguage(),g)for(const[R,V]of Object.entries(g))w.settings[R]=V;return I&&w.setPersistence(I),w},[e,s,l,d,g,I]);let Hg=(()=>{class n{constructor(e,s,l,d,g,I,w,R,V,j,K,we){const Ve=new Vr.x,t=(0,st.of)(void 0).pipe((0,Cg.Q)(g.outsideAngular),(0,an.w)(()=>d.runOutsideAngular(()=>Promise.resolve().then(O.bind(O,5967)))),(0,dt.U)(()=>(0,ki.on)(e,d,s)),(0,dt.U)(i=>Nv(i,d,I,R,V,j,w,K)),rI({bufferSize:1,refCount:!1}));if(Pa(l))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,st.of)(null);else{t.pipe(ns()).subscribe();const o=t.pipe((0,an.w)(h=>h.getRedirectResult().then(m=>m,()=>null)),Rr.iC,rI({bufferSize:1,refCount:!1})),a=t.pipe((0,an.w)(h=>new mr.y(m=>({unsubscribe:d.runOutsideAngular(()=>h.onAuthStateChanged(y=>m.next(y),y=>m.error(y),()=>m.complete()))})))),u=t.pipe((0,an.w)(h=>new mr.y(m=>({unsubscribe:d.runOutsideAngular(()=>h.onIdTokenChanged(y=>m.next(y),y=>m.error(y),()=>m.complete()))}))));this.authState=o.pipe(Kd(a),(0,hv.R)(g.outsideAngular),(0,Cg.Q)(g.insideAngular)),this.user=o.pipe(Kd(u),(0,hv.R)(g.outsideAngular),(0,Cg.Q)(g.insideAngular)),this.idToken=this.user.pipe((0,an.w)(h=>h?(0,Cn.D)(h.getIdToken()):(0,st.of)(null))),this.idTokenResult=this.user.pipe((0,an.w)(h=>h?(0,Cn.D)(h.getIdTokenResult()):(0,st.of)(null))),this.credential=(0,pd.T)(o,Ve,this.authState.pipe(Qr(h=>!h))).pipe((0,dt.U)(h=>h?.user?h:null),(0,hv.R)(g.outsideAngular),(0,Cg.Q)(g.insideAngular))}return(0,ki.pX)(this,t,d,{spy:{apply:(i,o,a)=>{(i.startsWith("signIn")||i.startsWith("createUser"))&&a.then(u=>Ve.next(u))}}})}}return n.\u0275fac=function(e){return new(e||n)(p.LFG(ki.Dh),p.LFG(ki.xv,8),p.LFG(p.Lbi),p.LFG(p.R0b),p.LFG(Rr.HU),p.LFG(Bg,8),p.LFG(jg,8),p.LFG(UI,8),p.LFG(BI,8),p.LFG(jI,8),p.LFG(HI,8),p.LFG(Av,8))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function Ov(n){return null==n}function GI(n){return"function"==typeof n.set}function Pv(n,r){return GI(r)?r:n.ref(r)}function xv(n,r){if(function yb(n){return"string"==typeof n}(n))return r.stringCase();if(GI(n))return r.firebaseCase();if(function $I(n){return"function"==typeof n.exportVal}(n))return r.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function Rf(n,r,e="on",s=km.z){return new mr.y(l=>{let d=null;return d=n[e](r,(g,I)=>{s.schedule(()=>{l.next({snapshot:g,prevKey:I})}),"once"===e&&s.schedule(()=>l.complete())},g=>{s.schedule(()=>l.error(g))}),"on"===e?{unsubscribe(){null!=d&&n.off(r,d)}}:{unsubscribe(){}}}).pipe((0,dt.U)(l=>{const{snapshot:d,prevKey:g}=l;let I=null;return d.exists()&&(I=d.key),{type:r,payload:d,prevKey:g,key:I}}),(0,iE.B)())}function zI(n,r){const e=n.length;for(let s=0;s<e;s++)if(n[s].payload.key===r)return s;return-1}function eh(n,r){const{payload:e,prevKey:s,key:l}=r,d=zI(n,l),g=function ri(n,r){if(Ov(r))return 0;{const e=zI(n,r);return-1===e?n.length:e+1}}(n,s);switch(r.type){case"value":if(r.payload&&r.payload.exists()){let I=null;r.payload.forEach(w=>{const R={payload:w,type:"value",prevKey:I,key:w.key};return I=w.key,n=[...n,R],!1})}return n;case"child_added":if(d>-1){const I=n[d-1];(I&&I.key||null)!==s&&(n=n.filter(w=>w.payload.key!==e.key)).splice(g,0,r)}else{if(null==s)return[r,...n];(n=n.slice()).splice(g,0,r)}return n;case"child_removed":return n.filter(I=>I.payload.key!==e.key);case"child_changed":return n.map(I=>I.payload.key===l?r:I);case"child_moved":if(d>-1){const I=n.splice(d,1)[0];return(n=n.slice()).splice(g,0,I),n}return n;default:return n}}function ZI(n){return(Ov(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function KI(n,r,e){return function WI(n,r,e){return Rf(n,"value","once",e).pipe((0,an.w)(s=>{const l=[(0,st.of)(s)];return r.forEach(d=>l.push(Rf(n,d,"on",e))),(0,pd.T)(...l).pipe(rs(eh,[]))}),(0,Fm.x)())}(n,r=ZI(r),e)}function Eb(n,r,e){const s=(r=ZI(r)).map(l=>Rf(n,l,"on",e));return(0,pd.T)(...s)}function Cb(n,r){return function(s,l){return xv(s,{stringCase:()=>n.child(s)[r](l),firebaseCase:()=>s[r](l),snapshotCase:()=>s.ref[r](l)})}}function IS(n){return function(e){return e?xv(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function th(n,r){return function(){return Rf(n,"value","on",r)}}const Fv=new p.OlP("angularfire2.realtimeDatabaseURL"),Db=new p.OlP("angularfire2.database.use-emulator");let Lv=(()=>{class n{constructor(e,s,l,d,g,I,w,R,V,j,K,we,Ve,t,i){this.schedulers=I;const o=w,a=(0,ki.on)(e,g,s);R&&Nv(a,g,V,K,we,Ve,j,t),this.database=(0,ki.cc)(`${a.name}.database.${l}`,"AngularFireDatabase",a.name,()=>{const u=g.runOutsideAngular(()=>a.database(l||void 0));return o&&u.useEmulator(...o),u},[o])}list(e,s){const l=this.schedulers.ngZone.runOutsideAngular(()=>Pv(this.database,e));let d=l;return s&&(d=s(l)),function DS(n,r){const e=r.schedulers.outsideAngular,s=r.schedulers.ngZone.run(()=>n.ref);return{query:n,update:Cb(s,"update"),set:Cb(s,"set"),push:l=>s.push(l),remove:IS(s),snapshotChanges:l=>KI(n,l,e).pipe(Rr.iC),stateChanges:l=>Eb(n,l,e).pipe(Rr.iC),auditTrail:l=>function CS(n,r,e){return function kv(n,r,e){return function qI(n,r){return Rf(n,"value","on",r).pipe((0,dt.U)(e=>{let s;return e.payload.forEach(l=>(s=l.key,!1)),{data:e,lastKeyToLoad:s}}))}(n,e).pipe(function Dp(...n){const r=(0,fi.jO)(n);return(0,qn.e)((e,s)=>{const l=n.length,d=new Array(l);let g=n.map(()=>!1),I=!1;for(let w=0;w<l;w++)(0,Ji.Xf)(n[w]).subscribe((0,Lt.x)(s,R=>{d[w]=R,!I&&!g[w]&&(g[w]=!0,(I=g.every(qr.y))&&(g=null))},Zo.Z));e.subscribe((0,Lt.x)(s,w=>{if(I){const R=[w,...d];s.next(r?r(...R):R)}}))})}(r),(0,dt.U)(([l,d])=>{const g=l.lastKeyToLoad,I=d.map(w=>w.key);return{actions:d,lastKeyToLoad:g,loadedKeys:I}}),function To(n){return(0,qn.e)((r,e)=>{let s=!1,l=0;r.subscribe((0,Lt.x)(e,d=>(s||(s=!n(d,l++)))&&e.next(d)))})}(l=>-1===l.loadedKeys.indexOf(l.lastKeyToLoad)),(0,dt.U)(l=>l.actions))}(n,Eb(n,r).pipe(rs((l,d)=>[...l,d],[])),e)}(n,l,e).pipe(Rr.iC),valueChanges:(l,d)=>KI(n,l,e).pipe((0,dt.U)(I=>I.map(w=>d&&d.idField?Object.assign(Object.assign({},w.payload.val()),{[d.idField]:w.key}):w.payload.val())),Rr.iC)}}(d,this)}object(e){return function Ib(n,r){return{query:n,snapshotChanges:()=>th(n,r.schedulers.outsideAngular)().pipe(Rr.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>th(n,r.schedulers.outsideAngular)().pipe(Rr.iC,(0,dt.U)(s=>s.payload.exists()?s.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>Pv(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(p.LFG(ki.Dh),p.LFG(ki.xv,8),p.LFG(Fv,8),p.LFG(p.Lbi),p.LFG(p.R0b),p.LFG(Rr.HU),p.LFG(Db,8),p.LFG(Hg,8),p.LFG(Bg,8),p.LFG(jg,8),p.LFG(UI,8),p.LFG(BI,8),p.LFG(jI,8),p.LFG(HI,8),p.LFG(Av,8))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),wb=(()=>{class n{constructor(){Rv.Z.registerVersion("angularfire",Rr.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({providers:[Lv]}),n})(),YI=(()=>{class n{constructor(e,s){this._renderer=e,this._elementRef=s,this.onChange=l=>{},this.onTouched=()=>{}}setProperty(e,s){this._renderer.setProperty(this._elementRef.nativeElement,e,s)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static#e=this.\u0275fac=function(s){return new(s||n)(p.Y36(p.Qsj),p.Y36(p.SBq))};static#t=this.\u0275dir=p.lG2({type:n})}return n})(),ya=(()=>{class n extends YI{static#e=this.\u0275fac=function(){let e;return function(l){return(e||(e=p.n5z(n)))(l||n)}}();static#t=this.\u0275dir=p.lG2({type:n,features:[p.qOj]})}return n})();const Ys=new p.OlP("NgValueAccessor"),Vv={provide:Ys,useExisting:(0,p.Gpc)(()=>$g),multi:!0},QI=new p.OlP("CompositionEventMode");let $g=(()=>{class n extends YI{constructor(e,s,l){super(e,s),this._compositionMode=l,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function wS(){const n=P()?P().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static#e=this.\u0275fac=function(s){return new(s||n)(p.Y36(p.Qsj),p.Y36(p.SBq),p.Y36(QI,8))};static#t=this.\u0275dir=p.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(s,l){1&s&&p.NdJ("input",function(g){return l._handleInput(g.target.value)})("blur",function(){return l.onTouched()})("compositionstart",function(){return l._compositionStart()})("compositionend",function(g){return l._compositionEnd(g.target.value)})},features:[p._Bn([Vv]),p.qOj]})}return n})();const Gr=new p.OlP("NgValidators"),Ca=new p.OlP("NgAsyncValidators");function Hv(n){return null!=n}function rD(n){return(0,p.QGY)(n)?(0,Cn.D)(n):n}function iD(n){let r={};return n.forEach(e=>{r=null!=e?{...r,...e}:r}),0===Object.keys(r).length?null:r}function $v(n,r){return r.map(e=>e(n))}function Gv(n){return n.map(r=>function Ab(n){return!n.validate}(r)?r:e=>r.validate(e))}function Gg(n){return null!=n?function Wv(n){if(!n)return null;const r=n.filter(Hv);return 0==r.length?null:function(e){return iD($v(e,r))}}(Gv(n)):null}function Zv(n){return null!=n?function zv(n){if(!n)return null;const r=n.filter(Hv);return 0==r.length?null:function(e){return function bb(...n){const r=(0,fi.jO)(n),{args:e,keys:s}=hi(n),l=new mr.y(d=>{const{length:g}=e;if(!g)return void d.complete();const I=new Array(g);let w=g,R=g;for(let V=0;V<g;V++){let j=!1;(0,Ji.Xf)(e[V]).subscribe((0,Lt.x)(d,K=>{j||(j=!0,R--),I[V]=K},()=>w--,void 0,()=>{(!w||!j)&&(R||d.next(s?Ms(s,I):I),d.complete())}))}});return r?l.pipe(fo(r)):l}($v(e,r).map(rD)).pipe((0,dt.U)(iD))}}(Gv(n)):null}function sD(n,r){return null===n?[r]:Array.isArray(n)?[...n,r]:[n,r]}function oD(n){return n?Array.isArray(n)?n:[n]:[]}function qv(n,r){return Array.isArray(n)?n.includes(r):n===r}function Rb(n,r){const e=oD(r);return oD(n).forEach(l=>{qv(e,l)||e.push(l)}),e}function Nb(n,r){return oD(r).filter(e=>!qv(n,e))}class Ob{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(r){this._rawValidators=r||[],this._composedValidatorFn=Gg(this._rawValidators)}_setAsyncValidators(r){this._rawAsyncValidators=r||[],this._composedAsyncValidatorFn=Zv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(r){this._onDestroyCallbacks.push(r)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(r=>r()),this._onDestroyCallbacks=[]}reset(r=void 0){this.control&&this.control.reset(r)}hasError(r,e){return!!this.control&&this.control.hasError(r,e)}getError(r,e){return this.control?this.control.getError(r,e):null}}class vi extends Ob{get formDirective(){return null}get path(){return null}}class gc extends Ob{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Pb{constructor(r){this._cd=r}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Wg=(()=>{class n extends Pb{constructor(e){super(e)}static#e=this.\u0275fac=function(s){return new(s||n)(p.Y36(gc,2))};static#t=this.\u0275dir=p.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(s,l){2&s&&p.ekj("ng-untouched",l.isUntouched)("ng-touched",l.isTouched)("ng-pristine",l.isPristine)("ng-dirty",l.isDirty)("ng-valid",l.isValid)("ng-invalid",l.isInvalid)("ng-pending",l.isPending)},features:[p.qOj]})}return n})();const kf="VALID",zg="INVALID",nh="PENDING",_c="DISABLED";function Zg(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class dD{constructor(r,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(r),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(r){this._rawValidators=this._composedValidatorFn=r}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(r){this._rawAsyncValidators=this._composedAsyncValidatorFn=r}get parent(){return this._parent}get valid(){return this.status===kf}get invalid(){return this.status===zg}get pending(){return this.status==nh}get disabled(){return this.status===_c}get enabled(){return this.status!==_c}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(r){this._assignValidators(r)}setAsyncValidators(r){this._assignAsyncValidators(r)}addValidators(r){this.setValidators(Rb(r,this._rawValidators))}addAsyncValidators(r){this.setAsyncValidators(Rb(r,this._rawAsyncValidators))}removeValidators(r){this.setValidators(Nb(r,this._rawValidators))}removeAsyncValidators(r){this.setAsyncValidators(Nb(r,this._rawAsyncValidators))}hasValidator(r){return qv(this._rawValidators,r)}hasAsyncValidator(r){return qv(this._rawAsyncValidators,r)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(r={}){this.touched=!0,this._parent&&!r.onlySelf&&this._parent.markAsTouched(r)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(r=>r.markAllAsTouched())}markAsUntouched(r={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!r.onlySelf&&this._parent._updateTouched(r)}markAsDirty(r={}){this.pristine=!1,this._parent&&!r.onlySelf&&this._parent.markAsDirty(r)}markAsPristine(r={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!r.onlySelf&&this._parent._updatePristine(r)}markAsPending(r={}){this.status=nh,!1!==r.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!r.onlySelf&&this._parent.markAsPending(r)}disable(r={}){const e=this._parentMarkedDirty(r.onlySelf);this.status=_c,this.errors=null,this._forEachChild(s=>{s.disable({...r,onlySelf:!0})}),this._updateValue(),!1!==r.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...r,skipPristineCheck:e}),this._onDisabledChange.forEach(s=>s(!0))}enable(r={}){const e=this._parentMarkedDirty(r.onlySelf);this.status=kf,this._forEachChild(s=>{s.enable({...r,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:r.emitEvent}),this._updateAncestors({...r,skipPristineCheck:e}),this._onDisabledChange.forEach(s=>s(!1))}_updateAncestors(r){this._parent&&!r.onlySelf&&(this._parent.updateValueAndValidity(r),r.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(r){this._parent=r}getRawValue(){return this.value}updateValueAndValidity(r={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===kf||this.status===nh)&&this._runAsyncValidator(r.emitEvent)),!1!==r.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!r.onlySelf&&this._parent.updateValueAndValidity(r)}_updateTreeValidity(r={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(r)),this.updateValueAndValidity({onlySelf:!0,emitEvent:r.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?_c:kf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(r){if(this.asyncValidator){this.status=nh,this._hasOwnPendingAsyncValidator=!0;const e=rD(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(s=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(s,{emitEvent:r})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(r,e={}){this.errors=r,this._updateControlsErrors(!1!==e.emitEvent)}get(r){let e=r;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((s,l)=>s&&s._find(l),this)}getError(r,e){const s=e?this.get(e):this;return s&&s.errors?s.errors[r]:null}hasError(r,e){return!!this.getError(r,e)}get root(){let r=this;for(;r._parent;)r=r._parent;return r}_updateControlsErrors(r){this.status=this._calculateStatus(),r&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(r)}_initObservables(){this.valueChanges=new p.vpe,this.statusChanges=new p.vpe}_calculateStatus(){return this._allControlsDisabled()?_c:this.errors?zg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(nh)?nh:this._anyControlsHaveStatus(zg)?zg:kf}_anyControlsHaveStatus(r){return this._anyControls(e=>e.status===r)}_anyControlsDirty(){return this._anyControls(r=>r.dirty)}_anyControlsTouched(){return this._anyControls(r=>r.touched)}_updatePristine(r={}){this.pristine=!this._anyControlsDirty(),this._parent&&!r.onlySelf&&this._parent._updatePristine(r)}_updateTouched(r={}){this.touched=this._anyControlsTouched(),this._parent&&!r.onlySelf&&this._parent._updateTouched(r)}_registerOnCollectionChange(r){this._onCollectionChange=r}_setUpdateStrategy(r){Zg(r)&&null!=r.updateOn&&(this._updateOn=r.updateOn)}_parentMarkedDirty(r){return!r&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(r){return null}_assignValidators(r){this._rawValidators=Array.isArray(r)?r.slice():r,this._composedValidatorFn=function Lb(n){return Array.isArray(n)?Gg(n):n||null}(this._rawValidators)}_assignAsyncValidators(r){this._rawAsyncValidators=Array.isArray(r)?r.slice():r,this._composedAsyncValidatorFn=function Vb(n){return Array.isArray(n)?Zv(n):n||null}(this._rawAsyncValidators)}}const rh=new p.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Kg}),Kg="always";function ih(n,r,e=Kg){(function qg(n,r){const e=function Mb(n){return n._rawValidators}(n);null!==r.validator?n.setValidators(sD(e,r.validator)):"function"==typeof e&&n.setValidators([e]);const s=function Kv(n){return n._rawAsyncValidators}(n);null!==r.asyncValidator?n.setAsyncValidators(sD(s,r.asyncValidator)):"function"==typeof s&&n.setAsyncValidators([s]);const l=()=>n.updateValueAndValidity();Or(r._rawValidators,l),Or(r._rawAsyncValidators,l)})(n,r),r.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&r.valueAccessor.setDisabledState?.(n.disabled),function gD(n,r){r.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Qg(n,r)})}(n,r),function Sl(n,r){const e=(s,l)=>{r.valueAccessor.writeValue(s),l&&r.viewToModelUpdate(s)};n.registerOnChange(e),r._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,r),function Ub(n,r){r.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Qg(n,r),"submit"!==n.updateOn&&n.markAsTouched()})}(n,r),function pD(n,r){if(r.valueAccessor.setDisabledState){const e=s=>{r.valueAccessor.setDisabledState(s)};n.registerOnDisabledChange(e),r._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,r)}function Or(n,r){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(r)})}function Qg(n,r){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),r.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Xg(n,r){const e=n.indexOf(r);e>-1&&n.splice(e,1)}function iy(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const sy=class extends dD{constructor(r=null,e,s){super(function Qv(n){return(Zg(n)?n.validators:n)||null}(e),function Jv(n,r){return(Zg(r)?r.asyncValidators:n)||null}(s,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(r),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Zg(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=iy(r)?r.value:r)}setValue(r,e={}){this.value=this._pendingValue=r,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(s=>s(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(r,e={}){this.setValue(r,e)}reset(r=this.defaultValue,e={}){this._applyFormState(r),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(r){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(r){this._onChange.push(r)}_unregisterOnChange(r){Xg(this._onChange,r)}registerOnDisabledChange(r){this._onDisabledChange.push(r)}_unregisterOnDisabledChange(r){Xg(this._onDisabledChange,r)}_forEachChild(r){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(r){iy(r)?(this.value=this._pendingValue=r.value,r.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=r}},US={provide:gc,useExisting:(0,p.Gpc)(()=>uy)},ly=(()=>Promise.resolve())();let uy=(()=>{class n extends gc{constructor(e,s,l,d,g,I){super(),this._changeDetectorRef=g,this.callSetDisabledState=I,this.control=new sy,this._registered=!1,this.name="",this.update=new p.vpe,this._parent=e,this._setValidators(s),this._setAsyncValidators(l),this.valueAccessor=function Jg(n,r){if(!r)return null;let e,s,l;return Array.isArray(r),r.forEach(d=>{d.constructor===$g?e=d:function Hb(n){return Object.getPrototypeOf(n.constructor)===ya}(d)?s=d:l=d}),l||s||e||null}(0,d)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const s=e.name.previousValue;this.formDirective.removeControl({name:s,path:this._getPath(s)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function ry(n,r){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(r,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ih(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){ly.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const s=e.isDisabled.currentValue,l=0!==s&&(0,p.VuI)(s);ly.then(()=>{l&&!this.control.disabled?this.control.disable():!l&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?function Ff(n,r){return[...r.path,n]}(e,this._parent):[e]}static#e=this.\u0275fac=function(s){return new(s||n)(p.Y36(vi,9),p.Y36(Gr,10),p.Y36(Ca,10),p.Y36(Ys,10),p.Y36(p.sBO,8),p.Y36(rh,8))};static#t=this.\u0275dir=p.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[p._Bn([US]),p.qOj,p.TTD]})}return n})(),ID=(()=>{class n{static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275mod=p.oAB({type:n});static#n=this.\u0275inj=p.cJS({})}return n})(),OD=(()=>{class n{static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275mod=p.oAB({type:n});static#n=this.\u0275inj=p.cJS({imports:[ID]})}return n})(),gT=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:rh,useValue:e.callSetDisabledState??Kg}]}}static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275mod=p.oAB({type:n});static#n=this.\u0275inj=p.cJS({imports:[OD]})}return n})();function kD(n,r){if(1&n&&(p.TgZ(0,"li")(1,"h4"),p._uU(2),p.qZA(),p.TgZ(3,"p"),p._uU(4),p.qZA()()),2&n){const e=r.$implicit;p.xp6(2),p.Oqu(e.title),p.xp6(2),p.Oqu(e.description)}}const XS=[{path:"task",component:(()=>{class n{constructor(e){this.db=e,this.tasks=[{title:"Buy milk",description:"Go to the store and buy milk"},{title:"Create a Kanban app",description:"Using Firebase and Angular create a Kanban app!"}],this.addTaskTitle="",this.addTaskDescription="",e.list("tasks").valueChanges()}ngOnInit(){this.subscription=this.db.list("tasks").valueChanges().subscribe(e=>{this.tasks=e,console.log("this.tasks SUB:: ",this.tasks)})}addtask(){if(this.addTaskTitle.trim()){const e=Date.now(),s={title:this.addTaskTitle,description:this.addTaskDescription,sender:"Local",id:e};this.db.list("tasks").push(s),this.addTaskTitle="",this.addTaskDescription=""}}ngOnDestroy(){this.subscription?.unsubscribe()}static#e=this.\u0275fac=function(s){return new(s||n)(p.Y36(Lv))};static#t=this.\u0275cmp=p.Xpm({type:n,selectors:[["app-task"]],decls:15,vars:3,consts:[[1,"container"],[1,"card"],[1,"flex"],[1,"col"],["type","text",3,"ngModel","ngModelChange"],["type","text","rows","5",3,"ngModel","ngModelChange"],[3,"click"],[4,"ngFor","ngForOf"]],template:function(s,l){1&s&&(p.TgZ(0,"div",0)(1,"div",1)(2,"h2"),p._uU(3,"task list"),p.qZA(),p.TgZ(4,"div",2)(5,"div",3)(6,"h4"),p._uU(7,"Add task "),p.qZA(),p.TgZ(8,"input",4),p.NdJ("ngModelChange",function(g){return l.addTaskTitle=g}),p.qZA(),p.TgZ(9,"textarea",5),p.NdJ("ngModelChange",function(g){return l.addTaskDescription=g}),p.qZA(),p.TgZ(10,"button",6),p.NdJ("click",function(){return l.addtask()}),p._uU(11,"Add task"),p.qZA()(),p.TgZ(12,"div",3)(13,"ul"),p.YNc(14,kD,5,2,"li",7),p.qZA()()()()()),2&s&&(p.xp6(8),p.Q6J("ngModel",l.addTaskTitle),p.xp6(1),p.Q6J("ngModel",l.addTaskDescription),p.xp6(5),p.Q6J("ngForOf",l.tasks))},dependencies:[Gi,$g,Wg,uy],styles:[".container[_ngcontent-%COMP%]{max-width:850px;width:100%;margin:auto}.card[_ngcontent-%COMP%]{width:100%;padding:30px;background-color:#fff;display:block}.card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{display:block;padding-bottom:50px}.flex[_ngcontent-%COMP%]{display:flex}input[_ngcontent-%COMP%]{width:100%;height:36px;padding:5px;margin-bottom:10px}textarea[_ngcontent-%COMP%]{width:100%;padding:5px;margin-bottom:10px}button[_ngcontent-%COMP%]{padding:5px 15px}.col[_ngcontent-%COMP%]{flex:1;width:100%}"]})}return n})()}];let _T=(()=>{class n{static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275mod=p.oAB({type:n});static#n=this.\u0275inj=p.cJS({imports:[Cp.forRoot(XS),Cp]})}return n})(),eA=(()=>{class n{constructor(){this.title="firbase-realtime"}static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275cmp=p.Xpm({type:n,selectors:[["app-root"]],decls:8,vars:0,consts:[["role","banner",1,"toolbar"],["width","40","alt","Angular Logo","src","data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNTAgMjUwIj4KICAgIDxwYXRoIGZpbGw9IiNERDAwMzEiIGQ9Ik0xMjUgMzBMMzEuOSA2My4ybDE0LjIgMTIzLjFMMTI1IDIzMGw3OC45LTQzLjcgMTQuMi0xMjMuMXoiIC8+CiAgICA8cGF0aCBmaWxsPSIjQzMwMDJGIiBkPSJNMTI1IDMwdjIyLjItLjFWMjMwbDc4LjktNDMuNyAxNC4yLTEyMy4xTDEyNSAzMHoiIC8+CiAgICA8cGF0aCAgZmlsbD0iI0ZGRkZGRiIgZD0iTTEyNSA1Mi4xTDY2LjggMTgyLjZoMjEuN2wxMS43LTI5LjJoNDkuNGwxMS43IDI5LjJIMTgzTDEyNSA1Mi4xem0xNyA4My4zaC0zNGwxNy00MC45IDE3IDQwLjl6IiAvPgogIDwvc3ZnPg=="],[1,"spacer"],["routerLink","task",2,"color","#fff","margin-right","90px","padding","8px"]],template:function(s,l){1&s&&(p.TgZ(0,"div",0),p._UZ(1,"img",1),p.TgZ(2,"span"),p._uU(3,"Welcome"),p.qZA(),p._UZ(4,"div",2),p.TgZ(5,"a",3),p._uU(6,"Task"),p.qZA()(),p._UZ(7,"router-outlet"))},dependencies:[sd,Rm]})}return n})();const nA_firebase={apiKey:"AIzaSyB6rPL7RjTu17rvrAJJff_q5-lpgvMs19s",authDomain:"jotno-real.firebaseapp.com",databaseURL:"https://jotno-real-default-rtdb.firebaseio.com",projectId:"jotno-real",storageBucket:"jotno-real.appspot.com",messagingSenderId:"521523552578",appId:"1:521523552578:web:fcf93e4e1e72c4016828db"};let rA=(()=>{class n{static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275mod=p.oAB({type:n,bootstrap:[eA]});static#n=this.\u0275inj=p.cJS({imports:[Yi,_T,gT,ki.hO.initializeApp(nA_firebase),wb]})}return n})();Rn().bootstrapModule(rA).catch(n=>console.error(n))},5619:(Qe,ve,O)=>{O.d(ve,{X:()=>Q});var p=O(8645);class Q extends p.x{constructor(X){super(),this._value=X}get value(){return this.getValue()}_subscribe(X){const ne=super._subscribe(X);return!ne.closed&&X.next(this._value),ne}getValue(){const{hasError:X,thrownError:ne,_value:ue}=this;if(X)throw ne;return this._throwIfClosed(),ue}next(X){super.next(this._value=X)}}},5592:(Qe,ve,O)=>{O.d(ve,{y:()=>Se});var p=O(305),Q=O(7394),P=O(4850),X=O(8407),ne=O(2653),ue=O(4674),de=O(1441);let Se=(()=>{class Y{constructor(Ie){Ie&&(this._subscribe=Ie)}lift(Ie){const Be=new Y;return Be.source=this,Be.operator=Ie,Be}subscribe(Ie,Be,Te){const Le=function H(Y){return Y&&Y instanceof p.Lv||function F(Y){return Y&&(0,ue.m)(Y.next)&&(0,ue.m)(Y.error)&&(0,ue.m)(Y.complete)}(Y)&&(0,Q.Nn)(Y)}(Ie)?Ie:new p.Hp(Ie,Be,Te);return(0,de.x)(()=>{const{operator:Re,source:rt}=this;Le.add(Re?Re.call(Le,rt):rt?this._subscribe(Le):this._trySubscribe(Le))}),Le}_trySubscribe(Ie){try{return this._subscribe(Ie)}catch(Be){Ie.error(Be)}}forEach(Ie,Be){return new(Be=le(Be))((Te,Le)=>{const Re=new p.Hp({next:rt=>{try{Ie(rt)}catch(Je){Le(Je),Re.unsubscribe()}},error:Le,complete:Te});this.subscribe(Re)})}_subscribe(Ie){var Be;return null===(Be=this.source)||void 0===Be?void 0:Be.subscribe(Ie)}[P.L](){return this}pipe(...Ie){return(0,X.U)(Ie)(this)}toPromise(Ie){return new(Ie=le(Ie))((Be,Te)=>{let Le;this.subscribe(Re=>Le=Re,Re=>Te(Re),()=>Be(Le))})}}return Y.create=Ne=>new Y(Ne),Y})();function le(Y){var Ne;return null!==(Ne=Y??ne.config.Promise)&&void 0!==Ne?Ne:Promise}},8645:(Qe,ve,O)=>{O.d(ve,{x:()=>de});var p=O(5592),Q=O(7394);const X=(0,O(2306).d)(le=>function(){le(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ne=O(9039),ue=O(1441);let de=(()=>{class le extends p.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(H){const Y=new Se(this,this);return Y.operator=H,Y}_throwIfClosed(){if(this.closed)throw new X}next(H){(0,ue.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Y of this.currentObservers)Y.next(H)}})}error(H){(0,ue.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=H;const{observers:Y}=this;for(;Y.length;)Y.shift().error(H)}})}complete(){(0,ue.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:H}=this;for(;H.length;)H.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var H;return(null===(H=this.observers)||void 0===H?void 0:H.length)>0}_trySubscribe(H){return this._throwIfClosed(),super._trySubscribe(H)}_subscribe(H){return this._throwIfClosed(),this._checkFinalizedStatuses(H),this._innerSubscribe(H)}_innerSubscribe(H){const{hasError:Y,isStopped:Ne,observers:Ie}=this;return Y||Ne?Q.Lc:(this.currentObservers=null,Ie.push(H),new Q.w0(()=>{this.currentObservers=null,(0,ne.P)(Ie,H)}))}_checkFinalizedStatuses(H){const{hasError:Y,thrownError:Ne,isStopped:Ie}=this;Y?H.error(Ne):Ie&&H.complete()}asObservable(){const H=new p.y;return H.source=this,H}}return le.create=(F,H)=>new Se(F,H),le})();class Se extends de{constructor(F,H){super(),this.destination=F,this.source=H}next(F){var H,Y;null===(Y=null===(H=this.destination)||void 0===H?void 0:H.next)||void 0===Y||Y.call(H,F)}error(F){var H,Y;null===(Y=null===(H=this.destination)||void 0===H?void 0:H.error)||void 0===Y||Y.call(H,F)}complete(){var F,H;null===(H=null===(F=this.destination)||void 0===F?void 0:F.complete)||void 0===H||H.call(F)}_subscribe(F){var H,Y;return null!==(Y=null===(H=this.source)||void 0===H?void 0:H.subscribe(F))&&void 0!==Y?Y:Q.Lc}}},305:(Qe,ve,O)=>{O.d(ve,{Hp:()=>Te,Lv:()=>Y});var p=O(4674),Q=O(7394),P=O(2653),X=O(3894),ne=O(2420);const ue=le("C",void 0,void 0);function le(te,he,ee){return{kind:te,value:he,error:ee}}var F=O(7599),H=O(1441);class Y extends Q.w0{constructor(he){super(),this.isStopped=!1,he?(this.destination=he,(0,Q.Nn)(he)&&he.add(this)):this.destination=Je}static create(he,ee,ye){return new Te(he,ee,ye)}next(he){this.isStopped?rt(function Se(te){return le("N",te,void 0)}(he),this):this._next(he)}error(he){this.isStopped?rt(function de(te){return le("E",void 0,te)}(he),this):(this.isStopped=!0,this._error(he))}complete(){this.isStopped?rt(ue,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(he){this.destination.next(he)}_error(he){try{this.destination.error(he)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ne=Function.prototype.bind;function Ie(te,he){return Ne.call(te,he)}class Be{constructor(he){this.partialObserver=he}next(he){const{partialObserver:ee}=this;if(ee.next)try{ee.next(he)}catch(ye){Le(ye)}}error(he){const{partialObserver:ee}=this;if(ee.error)try{ee.error(he)}catch(ye){Le(ye)}else Le(he)}complete(){const{partialObserver:he}=this;if(he.complete)try{he.complete()}catch(ee){Le(ee)}}}class Te extends Y{constructor(he,ee,ye){let Me;if(super(),(0,p.m)(he)||!he)Me={next:he??void 0,error:ee??void 0,complete:ye??void 0};else{let Ue;this&&P.config.useDeprecatedNextContext?(Ue=Object.create(he),Ue.unsubscribe=()=>this.unsubscribe(),Me={next:he.next&&Ie(he.next,Ue),error:he.error&&Ie(he.error,Ue),complete:he.complete&&Ie(he.complete,Ue)}):Me=he}this.destination=new Be(Me)}}function Le(te){P.config.useDeprecatedSynchronousErrorHandling?(0,H.O)(te):(0,X.h)(te)}function rt(te,he){const{onStoppedNotification:ee}=P.config;ee&&F.z.setTimeout(()=>ee(te,he))}const Je={closed:!0,next:ne.Z,error:function Re(te){throw te},complete:ne.Z}},7394:(Qe,ve,O)=>{O.d(ve,{Lc:()=>ue,w0:()=>ne,Nn:()=>de});var p=O(4674);const P=(0,O(2306).d)(le=>function(H){le(this),this.message=H?`${H.length} errors occurred during unsubscription:\n${H.map((Y,Ne)=>`${Ne+1}) ${Y.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=H});var X=O(9039);class ne{constructor(F){this.initialTeardown=F,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let F;if(!this.closed){this.closed=!0;const{_parentage:H}=this;if(H)if(this._parentage=null,Array.isArray(H))for(const Ie of H)Ie.remove(this);else H.remove(this);const{initialTeardown:Y}=this;if((0,p.m)(Y))try{Y()}catch(Ie){F=Ie instanceof P?Ie.errors:[Ie]}const{_finalizers:Ne}=this;if(Ne){this._finalizers=null;for(const Ie of Ne)try{Se(Ie)}catch(Be){F=F??[],Be instanceof P?F=[...F,...Be.errors]:F.push(Be)}}if(F)throw new P(F)}}add(F){var H;if(F&&F!==this)if(this.closed)Se(F);else{if(F instanceof ne){if(F.closed||F._hasParent(this))return;F._addParent(this)}(this._finalizers=null!==(H=this._finalizers)&&void 0!==H?H:[]).push(F)}}_hasParent(F){const{_parentage:H}=this;return H===F||Array.isArray(H)&&H.includes(F)}_addParent(F){const{_parentage:H}=this;this._parentage=Array.isArray(H)?(H.push(F),H):H?[H,F]:F}_removeParent(F){const{_parentage:H}=this;H===F?this._parentage=null:Array.isArray(H)&&(0,X.P)(H,F)}remove(F){const{_finalizers:H}=this;H&&(0,X.P)(H,F),F instanceof ne&&F._removeParent(this)}}ne.EMPTY=(()=>{const le=new ne;return le.closed=!0,le})();const ue=ne.EMPTY;function de(le){return le instanceof ne||le&&"closed"in le&&(0,p.m)(le.remove)&&(0,p.m)(le.add)&&(0,p.m)(le.unsubscribe)}function Se(le){(0,p.m)(le)?le():le.unsubscribe()}},2653:(Qe,ve,O)=>{O.d(ve,{config:()=>p});const p={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(Qe,ve,O)=>{O.d(ve,{E:()=>Q});const Q=new(O(5592).y)(ne=>ne.complete())},2459:(Qe,ve,O)=>{O.d(ve,{D:()=>he});var p=O(4829),Q=O(3093),P=O(5137),ue=O(5592),Se=O(4971),le=O(4674),F=O(7103);function Y(ee,ye){if(!ee)throw new Error("Iterable cannot be null");return new ue.y(Me=>{(0,F.f)(Me,ye,()=>{const Ue=ee[Symbol.asyncIterator]();(0,F.f)(Me,ye,()=>{Ue.next().then(ie=>{ie.done?Me.complete():Me.next(ie.value)})},0,!0)})})}var Ne=O(8382),Ie=O(4026),Be=O(4266),Te=O(3664),Le=O(5726),Re=O(9853),rt=O(541);function he(ee,ye){return ye?function te(ee,ye){if(null!=ee){if((0,Ne.c)(ee))return function X(ee,ye){return(0,p.Xf)(ee).pipe((0,P.R)(ye),(0,Q.Q)(ye))}(ee,ye);if((0,Be.z)(ee))return function de(ee,ye){return new ue.y(Me=>{let Ue=0;return ye.schedule(function(){Ue===ee.length?Me.complete():(Me.next(ee[Ue++]),Me.closed||this.schedule())})})}(ee,ye);if((0,Ie.t)(ee))return function ne(ee,ye){return(0,p.Xf)(ee).pipe((0,P.R)(ye),(0,Q.Q)(ye))}(ee,ye);if((0,Le.D)(ee))return Y(ee,ye);if((0,Te.T)(ee))return function H(ee,ye){return new ue.y(Me=>{let Ue;return(0,F.f)(Me,ye,()=>{Ue=ee[Se.h](),(0,F.f)(Me,ye,()=>{let ie,ot;try{({value:ie,done:ot}=Ue.next())}catch(Ct){return void Me.error(Ct)}ot?Me.complete():Me.next(ie)},0,!0)}),()=>(0,le.m)(Ue?.return)&&Ue.return()})}(ee,ye);if((0,rt.L)(ee))return function Je(ee,ye){return Y((0,rt.Q)(ee),ye)}(ee,ye)}throw(0,Re.z)(ee)}(ee,ye):(0,p.Xf)(ee)}},4829:(Qe,ve,O)=>{O.d(ve,{Xf:()=>Ne});var p=O(7582),Q=O(4266),P=O(4026),X=O(5592),ne=O(8382),ue=O(5726),de=O(9853),Se=O(3664),le=O(541),F=O(4674),H=O(3894),Y=O(4850);function Ne(te){if(te instanceof X.y)return te;if(null!=te){if((0,ne.c)(te))return function Ie(te){return new X.y(he=>{const ee=te[Y.L]();if((0,F.m)(ee.subscribe))return ee.subscribe(he);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(te);if((0,Q.z)(te))return function Be(te){return new X.y(he=>{for(let ee=0;ee<te.length&&!he.closed;ee++)he.next(te[ee]);he.complete()})}(te);if((0,P.t)(te))return function Te(te){return new X.y(he=>{te.then(ee=>{he.closed||(he.next(ee),he.complete())},ee=>he.error(ee)).then(null,H.h)})}(te);if((0,ue.D)(te))return Re(te);if((0,Se.T)(te))return function Le(te){return new X.y(he=>{for(const ee of te)if(he.next(ee),he.closed)return;he.complete()})}(te);if((0,le.L)(te))return function rt(te){return Re((0,le.Q)(te))}(te)}throw(0,de.z)(te)}function Re(te){return new X.y(he=>{(function Je(te,he){var ee,ye,Me,Ue;return(0,p.mG)(this,void 0,void 0,function*(){try{for(ee=(0,p.KL)(te);!(ye=yield ee.next()).done;)if(he.next(ye.value),he.closed)return}catch(ie){Me={error:ie}}finally{try{ye&&!ye.done&&(Ue=ee.return)&&(yield Ue.call(ee))}finally{if(Me)throw Me.error}}he.complete()})})(te,he).catch(ee=>he.error(ee))})}},3019:(Qe,ve,O)=>{O.d(ve,{T:()=>ue});var p=O(7537),Q=O(4829),P=O(6232),X=O(4564),ne=O(2459);function ue(...de){const Se=(0,X.yG)(de),le=(0,X._6)(de,1/0),F=de;return F.length?1===F.length?(0,Q.Xf)(F[0]):(0,p.J)(le)((0,ne.D)(F,Se)):P.E}},2096:(Qe,ve,O)=>{O.d(ve,{of:()=>P});var p=O(4564),Q=O(2459);function P(...X){const ne=(0,p.yG)(X);return(0,Q.D)(X,ne)}},8251:(Qe,ve,O)=>{O.d(ve,{x:()=>Q});var p=O(305);function Q(X,ne,ue,de,Se){return new P(X,ne,ue,de,Se)}class P extends p.Lv{constructor(ne,ue,de,Se,le,F){super(ne),this.onFinalize=le,this.shouldUnsubscribe=F,this._next=ue?function(H){try{ue(H)}catch(Y){ne.error(Y)}}:super._next,this._error=Se?function(H){try{Se(H)}catch(Y){ne.error(Y)}finally{this.unsubscribe()}}:super._error,this._complete=de?function(){try{de()}catch(H){ne.error(H)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ne;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ue}=this;super.unsubscribe(),!ue&&(null===(ne=this.onFinalize)||void 0===ne||ne.call(this))}}}},3997:(Qe,ve,O)=>{O.d(ve,{x:()=>X});var p=O(2737),Q=O(9360),P=O(8251);function X(ue,de=p.y){return ue=ue??ne,(0,Q.e)((Se,le)=>{let F,H=!0;Se.subscribe((0,P.x)(le,Y=>{const Ne=de(Y);(H||!ue(F,Ne))&&(H=!1,F=Ne,le.next(Y))}))})}function ne(ue,de){return ue===de}},7398:(Qe,ve,O)=>{O.d(ve,{U:()=>P});var p=O(9360),Q=O(8251);function P(X,ne){return(0,p.e)((ue,de)=>{let Se=0;ue.subscribe((0,Q.x)(de,le=>{de.next(X.call(ne,le,Se++))}))})}},7537:(Qe,ve,O)=>{O.d(ve,{J:()=>P});var p=O(1631),Q=O(2737);function P(X=1/0){return(0,p.z)(Q.y,X)}},1631:(Qe,ve,O)=>{O.d(ve,{z:()=>Se});var p=O(7398),Q=O(4829),P=O(9360),X=O(7103),ne=O(8251),de=O(4674);function Se(le,F,H=1/0){return(0,de.m)(F)?Se((Y,Ne)=>(0,p.U)((Ie,Be)=>F(Y,Ie,Ne,Be))((0,Q.Xf)(le(Y,Ne))),H):("number"==typeof F&&(H=F),(0,P.e)((Y,Ne)=>function ue(le,F,H,Y,Ne,Ie,Be,Te){const Le=[];let Re=0,rt=0,Je=!1;const te=()=>{Je&&!Le.length&&!Re&&F.complete()},he=ye=>Re<Y?ee(ye):Le.push(ye),ee=ye=>{Ie&&F.next(ye),Re++;let Me=!1;(0,Q.Xf)(H(ye,rt++)).subscribe((0,ne.x)(F,Ue=>{Ne?.(Ue),Ie?he(Ue):F.next(Ue)},()=>{Me=!0},void 0,()=>{if(Me)try{for(Re--;Le.length&&Re<Y;){const Ue=Le.shift();Be?(0,X.f)(F,Be,()=>ee(Ue)):ee(Ue)}te()}catch(Ue){F.error(Ue)}}))};return le.subscribe((0,ne.x)(F,he,()=>{Je=!0,te()})),()=>{Te?.()}}(Y,Ne,le,H)))}},3093:(Qe,ve,O)=>{O.d(ve,{Q:()=>X});var p=O(7103),Q=O(9360),P=O(8251);function X(ne,ue=0){return(0,Q.e)((de,Se)=>{de.subscribe((0,P.x)(Se,le=>(0,p.f)(Se,ne,()=>Se.next(le),ue),()=>(0,p.f)(Se,ne,()=>Se.complete(),ue),le=>(0,p.f)(Se,ne,()=>Se.error(le),ue)))})}},3020:(Qe,ve,O)=>{O.d(ve,{B:()=>ne});var p=O(4829),Q=O(8645),P=O(305),X=O(9360);function ne(de={}){const{connector:Se=(()=>new Q.x),resetOnError:le=!0,resetOnComplete:F=!0,resetOnRefCountZero:H=!0}=de;return Y=>{let Ne,Ie,Be,Te=0,Le=!1,Re=!1;const rt=()=>{Ie?.unsubscribe(),Ie=void 0},Je=()=>{rt(),Ne=Be=void 0,Le=Re=!1},te=()=>{const he=Ne;Je(),he?.unsubscribe()};return(0,X.e)((he,ee)=>{Te++,!Re&&!Le&&rt();const ye=Be=Be??Se();ee.add(()=>{Te--,0===Te&&!Re&&!Le&&(Ie=ue(te,H))}),ye.subscribe(ee),!Ne&&Te>0&&(Ne=new P.Hp({next:Me=>ye.next(Me),error:Me=>{Re=!0,rt(),Ie=ue(Je,le,Me),ye.error(Me)},complete:()=>{Le=!0,rt(),Ie=ue(Je,F),ye.complete()}}),(0,p.Xf)(he).subscribe(Ne))})(Y)}}function ue(de,Se,...le){if(!0===Se)return void de();if(!1===Se)return;const F=new P.Hp({next:()=>{F.unsubscribe(),de()}});return(0,p.Xf)(Se(...le)).subscribe(F)}},5137:(Qe,ve,O)=>{O.d(ve,{R:()=>Q});var p=O(9360);function Q(P,X=0){return(0,p.e)((ne,ue)=>{ue.add(P.schedule(()=>ne.subscribe(ue),X))})}},4664:(Qe,ve,O)=>{O.d(ve,{w:()=>X});var p=O(4829),Q=O(9360),P=O(8251);function X(ne,ue){return(0,Q.e)((de,Se)=>{let le=null,F=0,H=!1;const Y=()=>H&&!le&&Se.complete();de.subscribe((0,P.x)(Se,Ne=>{le?.unsubscribe();let Ie=0;const Be=F++;(0,p.Xf)(ne(Ne,Be)).subscribe(le=(0,P.x)(Se,Te=>Se.next(ue?ue(Ne,Te,Be,Ie++):Te),()=>{le=null,Y()}))},()=>{H=!0,Y()}))})}},9397:(Qe,ve,O)=>{O.d(ve,{b:()=>ne});var p=O(4674),Q=O(9360),P=O(8251),X=O(2737);function ne(ue,de,Se){const le=(0,p.m)(ue)||de||Se?{next:ue,error:de,complete:Se}:ue;return le?(0,Q.e)((F,H)=>{var Y;null===(Y=le.subscribe)||void 0===Y||Y.call(le);let Ne=!0;F.subscribe((0,P.x)(H,Ie=>{var Be;null===(Be=le.next)||void 0===Be||Be.call(le,Ie),H.next(Ie)},()=>{var Ie;Ne=!1,null===(Ie=le.complete)||void 0===Ie||Ie.call(le),H.complete()},Ie=>{var Be;Ne=!1,null===(Be=le.error)||void 0===Be||Be.call(le,Ie),H.error(Ie)},()=>{var Ie,Be;Ne&&(null===(Ie=le.unsubscribe)||void 0===Ie||Ie.call(le)),null===(Be=le.finalize)||void 0===Be||Be.call(le)}))}):X.y}},1954:(Qe,ve,O)=>{O.d(ve,{o:()=>ne});var p=O(7394);class Q extends p.w0{constructor(de,Se){super()}schedule(de,Se=0){return this}}const P={setInterval(ue,de,...Se){const{delegate:le}=P;return le?.setInterval?le.setInterval(ue,de,...Se):setInterval(ue,de,...Se)},clearInterval(ue){const{delegate:de}=P;return(de?.clearInterval||clearInterval)(ue)},delegate:void 0};var X=O(9039);class ne extends Q{constructor(de,Se){super(de,Se),this.scheduler=de,this.work=Se,this.pending=!1}schedule(de,Se=0){var le;if(this.closed)return this;this.state=de;const F=this.id,H=this.scheduler;return null!=F&&(this.id=this.recycleAsyncId(H,F,Se)),this.pending=!0,this.delay=Se,this.id=null!==(le=this.id)&&void 0!==le?le:this.requestAsyncId(H,this.id,Se),this}requestAsyncId(de,Se,le=0){return P.setInterval(de.flush.bind(de,this),le)}recycleAsyncId(de,Se,le=0){if(null!=le&&this.delay===le&&!1===this.pending)return Se;null!=Se&&P.clearInterval(Se)}execute(de,Se){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const le=this._execute(de,Se);if(le)return le;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(de,Se){let F,le=!1;try{this.work(de)}catch(H){le=!0,F=H||new Error("Scheduled action threw falsy error")}if(le)return this.unsubscribe(),F}unsubscribe(){if(!this.closed){const{id:de,scheduler:Se}=this,{actions:le}=Se;this.work=this.state=this.scheduler=null,this.pending=!1,(0,X.P)(le,this),null!=de&&(this.id=this.recycleAsyncId(Se,de,null)),this.delay=null,super.unsubscribe()}}}},2631:(Qe,ve,O)=>{O.d(ve,{v:()=>P});var p=O(4552);class Q{constructor(ne,ue=Q.now){this.schedulerActionCtor=ne,this.now=ue}schedule(ne,ue=0,de){return new this.schedulerActionCtor(this,ne).schedule(de,ue)}}Q.now=p.l.now;class P extends Q{constructor(ne,ue=Q.now){super(ne,ue),this.actions=[],this._active=!1}flush(ne){const{actions:ue}=this;if(this._active)return void ue.push(ne);let de;this._active=!0;do{if(de=ne.execute(ne.state,ne.delay))break}while(ne=ue.shift());if(this._active=!1,de){for(;ne=ue.shift();)ne.unsubscribe();throw de}}}},6321:(Qe,ve,O)=>{O.d(ve,{z:()=>P});var p=O(1954);const P=new(O(2631).v)(p.o)},4552:(Qe,ve,O)=>{O.d(ve,{l:()=>p});const p={now:()=>(p.delegate||Date).now(),delegate:void 0}},7599:(Qe,ve,O)=>{O.d(ve,{z:()=>p});const p={setTimeout(Q,P,...X){const{delegate:ne}=p;return ne?.setTimeout?ne.setTimeout(Q,P,...X):setTimeout(Q,P,...X)},clearTimeout(Q){const{delegate:P}=p;return(P?.clearTimeout||clearTimeout)(Q)},delegate:void 0}},4971:(Qe,ve,O)=>{O.d(ve,{h:()=>Q});const Q=function p(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(Qe,ve,O)=>{O.d(ve,{L:()=>p});const p="function"==typeof Symbol&&Symbol.observable||"@@observable"},4564:(Qe,ve,O)=>{O.d(ve,{_6:()=>ue,jO:()=>X,yG:()=>ne});var p=O(4674);function P(de){return de[de.length-1]}function X(de){return(0,p.m)(P(de))?de.pop():void 0}function ne(de){return function Q(de){return de&&(0,p.m)(de.schedule)}(P(de))?de.pop():void 0}function ue(de,Se){return"number"==typeof P(de)?de.pop():Se}},9039:(Qe,ve,O)=>{function p(Q,P){if(Q){const X=Q.indexOf(P);0<=X&&Q.splice(X,1)}}O.d(ve,{P:()=>p})},2306:(Qe,ve,O)=>{function p(Q){const X=Q(ne=>{Error.call(ne),ne.stack=(new Error).stack});return X.prototype=Object.create(Error.prototype),X.prototype.constructor=X,X}O.d(ve,{d:()=>p})},1441:(Qe,ve,O)=>{O.d(ve,{O:()=>X,x:()=>P});var p=O(2653);let Q=null;function P(ne){if(p.config.useDeprecatedSynchronousErrorHandling){const ue=!Q;if(ue&&(Q={errorThrown:!1,error:null}),ne(),ue){const{errorThrown:de,error:Se}=Q;if(Q=null,de)throw Se}}else ne()}function X(ne){p.config.useDeprecatedSynchronousErrorHandling&&Q&&(Q.errorThrown=!0,Q.error=ne)}},7103:(Qe,ve,O)=>{function p(Q,P,X,ne=0,ue=!1){const de=P.schedule(function(){X(),ue?Q.add(this.schedule(null,ne)):this.unsubscribe()},ne);if(Q.add(de),!ue)return de}O.d(ve,{f:()=>p})},2737:(Qe,ve,O)=>{function p(Q){return Q}O.d(ve,{y:()=>p})},4266:(Qe,ve,O)=>{O.d(ve,{z:()=>p});const p=Q=>Q&&"number"==typeof Q.length&&"function"!=typeof Q},5726:(Qe,ve,O)=>{O.d(ve,{D:()=>Q});var p=O(4674);function Q(P){return Symbol.asyncIterator&&(0,p.m)(P?.[Symbol.asyncIterator])}},4674:(Qe,ve,O)=>{function p(Q){return"function"==typeof Q}O.d(ve,{m:()=>p})},8382:(Qe,ve,O)=>{O.d(ve,{c:()=>P});var p=O(4850),Q=O(4674);function P(X){return(0,Q.m)(X[p.L])}},3664:(Qe,ve,O)=>{O.d(ve,{T:()=>P});var p=O(4971),Q=O(4674);function P(X){return(0,Q.m)(X?.[p.h])}},4026:(Qe,ve,O)=>{O.d(ve,{t:()=>Q});var p=O(4674);function Q(P){return(0,p.m)(P?.then)}},541:(Qe,ve,O)=>{O.d(ve,{L:()=>X,Q:()=>P});var p=O(7582),Q=O(4674);function P(ne){return(0,p.FC)(this,arguments,function*(){const de=ne.getReader();try{for(;;){const{value:Se,done:le}=yield(0,p.qq)(de.read());if(le)return yield(0,p.qq)(void 0);yield yield(0,p.qq)(Se)}}finally{de.releaseLock()}})}function X(ne){return(0,Q.m)(ne?.getReader)}},9360:(Qe,ve,O)=>{O.d(ve,{A:()=>Q,e:()=>P});var p=O(4674);function Q(X){return(0,p.m)(X?.lift)}function P(X){return ne=>{if(Q(ne))return ne.lift(function(ue){try{return X(ue,this)}catch(de){this.error(de)}});throw new TypeError("Unable to lift unknown Observable type")}}},2420:(Qe,ve,O)=>{function p(){}O.d(ve,{Z:()=>p})},8407:(Qe,ve,O)=>{O.d(ve,{U:()=>P,z:()=>Q});var p=O(2737);function Q(...X){return P(X)}function P(X){return 0===X.length?p.y:1===X.length?X[0]:function(ue){return X.reduce((de,Se)=>Se(de),ue)}}},3894:(Qe,ve,O)=>{O.d(ve,{h:()=>P});var p=O(2653),Q=O(7599);function P(X){Q.z.setTimeout(()=>{const{onUnhandledError:ne}=p.config;if(!ne)throw X;ne(X)})}},9853:(Qe,ve,O)=>{function p(Q){return new TypeError(`You provided ${null!==Q&&"object"==typeof Q?"an invalid object":`'${Q}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}O.d(ve,{z:()=>p})},5879:(Qe,ve,O)=>{O.d(ve,{$8M:()=>bu,$WT:()=>Wi,$Z:()=>c_,AFp:()=>Lm,AaK:()=>Y,CRH:()=>Ov,EJc:()=>kb,F4k:()=>dC,FYo:()=>Mp,FiY:()=>Yc,GfV:()=>fE,Gpc:()=>Be,HDt:()=>Fb,JOm:()=>ol,LFG:()=>kt,Lbi:()=>Bm,Lck:()=>J0,MMx:()=>mI,NdJ:()=>j_,Ojb:()=>ju,OlP:()=>qe,Oqu:()=>cg,P3R:()=>JD,PXZ:()=>ry,Q6J:()=>V_,QGY:()=>uc,Qsj:()=>dE,R0b:()=>Dn,RDi:()=>Fy,Rgc:()=>Lg,SBq:()=>_d,Sil:()=>AS,Suo:()=>$I,TTD:()=>oo,TgZ:()=>tg,VuI:()=>r,X6Q:()=>Kb,XFs:()=>nt,Xpm:()=>Fn,Xq5:()=>qE,Xts:()=>hd,Y36:()=>Ed,YKP:()=>fI,YNc:()=>L_,Yjl:()=>Na,Yz7:()=>pt,Z0I:()=>Bt,ZZ4:()=>_y,_Bn:()=>hI,_UZ:()=>Fd,_c5:()=>uT,_uU:()=>dc,aQg:()=>rm,c2e:()=>aD,cJS:()=>Yt,cg1:()=>dv,dDg:()=>Yg,dqk:()=>Vt,eFA:()=>$b,eJc:()=>kv,ekj:()=>cc,eoX:()=>gD,f3M:()=>ht,g9A:()=>Um,h0i:()=>Tl,hGG:()=>RD,iGM:()=>vb,ifc:()=>Ke,ip1:()=>xb,jDz:()=>_I,kL8:()=>jC,lG2:()=>Ll,lqb:()=>To,lri:()=>pD,n5z:()=>zc,oAB:()=>Ra,q4F:()=>Km,qFp:()=>we,qLn:()=>la,qOj:()=>Xt,qZA:()=>kd,rWj:()=>qg,rg0:()=>Wf,sBO:()=>ID,s_b:()=>Mv,soG:()=>mc,tb:()=>mD,tp0:()=>Qc,uIk:()=>Ad,vHH:()=>te,vpe:()=>us,wAp:()=>zd,xp6:()=>RE,z2F:()=>Lf,zSh:()=>km,zs3:()=>Hs});var p=O(8645),Q=O(7394),P=O(5592),X=O(3019),ne=O(5619),ue=O(2096),de=O(3020),Se=O(4664),le=O(3997);function F(t){for(let i in t)if(t[i]===F)return i;throw Error("Could not find renamed property on target object.")}function H(t,i){for(const o in i)i.hasOwnProperty(o)&&!t.hasOwnProperty(o)&&(t[o]=i[o])}function Y(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Y).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const i=t.toString();if(null==i)return""+i;const o=i.indexOf("\n");return-1===o?i:i.substring(0,o)}function Ne(t,i){return null==t||""===t?null===i?"":i:null==i||""===i?t:t+" "+i}const Ie=F({__forward_ref__:F});function Be(t){return t.__forward_ref__=Be,t.toString=function(){return Y(this())},t}function Te(t){return Le(t)?t():t}function Le(t){return"function"==typeof t&&t.hasOwnProperty(Ie)&&t.__forward_ref__===Be}function Re(t){return t&&!!t.\u0275providers}const Je="https://g.co/ng/security#xss";class te extends Error{constructor(i,o){super(function he(t,i){return`NG0${Math.abs(t)}${i?": "+i:""}`}(i,o)),this.code=i}}function ee(t){return"string"==typeof t?t:null==t?"":String(t)}function ot(t,i){throw new te(-201,!1)}function We(t,i){null==t&&function ke(t,i,o,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${o} ${a} ${i} <=Actual]`))}(i,t,null,"!=")}function pt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Yt(t){return{providers:t.providers||[],imports:t.imports||[]}}function bn(t){return $n(t,Dr)||$n(t,Hi)}function Bt(t){return null!==bn(t)}function $n(t,i){return t.hasOwnProperty(i)?t[i]:null}function ji(t){return t&&(t.hasOwnProperty(wr)||t.hasOwnProperty(Oo))?t[wr]:null}const Dr=F({\u0275prov:F}),wr=F({\u0275inj:F}),Hi=F({ngInjectableDef:F}),Oo=F({ngInjectorDef:F});var nt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(nt||{});let It;function Gt(t){const i=It;return It=t,i}function en(t,i,o){const a=bn(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:o&nt.Optional?null:void 0!==i?i:void ot(Y(t))}const Vt=globalThis;class qe{constructor(i,o){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=pt({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const rn={},zr="__NG_DI_FLAG__",er="ngTempTokenPath",L=/\n/gm,_e="__source";let re;function it(t){const i=re;return re=t,i}function Mt(t,i=nt.Default){if(void 0===re)throw new te(-203,!1);return null===re?en(t,void 0,i):re.get(t,i&nt.Optional?null:void 0,i)}function kt(t,i=nt.Default){return(function ct(){return It}()||Mt)(Te(t),i)}function ht(t,i=nt.Default){return kt(t,Tt(i))}function Tt(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function kn(t){const i=[];for(let o=0;o<t.length;o++){const a=Te(t[o]);if(Array.isArray(a)){if(0===a.length)throw new te(900,!1);let u,h=nt.Default;for(let m=0;m<a.length;m++){const y=a[m],C=Ii(y);"number"==typeof C?-1===C?u=y.token:h|=C:u=y}i.push(kt(u,h))}else i.push(kt(a))}return i}function lr(t,i){return t[zr]=i,t.prototype[zr]=i,t}function Ii(t){return t[zr]}function J(t){return{toString:t}.toString()}var Ae=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Ae||{}),Ke=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Ke||{});const Xe={},He=[],Rt=F({\u0275cmp:F}),gn=F({\u0275dir:F}),ln=F({\u0275pipe:F}),si=F({\u0275mod:F}),ur=F({\u0275fac:F}),Di=F({__NG_ELEMENT_ID__:F}),Ml=F({__NG_ENV_ID__:F});function Da(t,i,o){let a=t.length;for(;;){const u=t.indexOf(i,o);if(-1===u)return u;if(0===u||t.charCodeAt(u-1)<=32){const h=i.length;if(u+h===a||t.charCodeAt(u+h)<=32)return u}o=u+1}}function wa(t,i,o){let a=0;for(;a<o.length;){const u=o[a];if("number"==typeof u){if(0!==u)break;a++;const h=o[a++],m=o[a++],y=o[a++];t.setAttribute(i,m,y,h)}else{const h=u,m=o[++a];ba(h)?t.setProperty(i,h,m):t.setAttribute(i,h,m),a++}}return a}function Pr(t){return 3===t||4===t||6===t}function ba(t){return 64===t.charCodeAt(0)}function Gi(t,i){if(null!==i&&0!==i.length)if(null===t||0===t.length)t=i.slice();else{let o=-1;for(let a=0;a<i.length;a++){const u=i[a];"number"==typeof u?o=u:0===o||Rl(t,o,u,null,-1===o||2===o?i[++a]:null)}}return t}function Rl(t,i,o,a,u){let h=0,m=t.length;if(-1===i)m=-1;else for(;h<t.length;){const y=t[h++];if("number"==typeof y){if(y===i){m=-1;break}if(y>i){m=h-1;break}}}for(;h<t.length;){const y=t[h];if("number"==typeof y)break;if(y===o){if(null===a)return void(null!==u&&(t[h+1]=u));if(a===t[h+1])return void(t[h+2]=u)}h++,null!==a&&h++,null!==u&&h++}-1!==m&&(t.splice(m,0,i),h=m+1),t.splice(h++,0,o),null!==a&&t.splice(h++,0,a),null!==u&&t.splice(h++,0,u)}const un="ng-template";function Ta(t,i,o){let a=0,u=!0;for(;a<t.length;){let h=t[a++];if("string"==typeof h&&u){const m=t[a++];if(o&&"class"===h&&-1!==Da(m.toLowerCase(),i,0))return!0}else{if(1===h){for(;a<t.length&&"string"==typeof(h=t[a++]);)if(h.toLowerCase()===i)return!0;return!1}"number"==typeof h&&(u=!1)}}return!1}function lh(t){return 4===t.type&&t.value!==un}function uh(t,i,o){return i===(4!==t.type||o?t.value:un)}function Sa(t,i,o){let a=4;const u=t.attrs||[],h=function _s(t){for(let i=0;i<t.length;i++)if(Pr(t[i]))return i;return t.length}(u);let m=!1;for(let y=0;y<i.length;y++){const C=i[y];if("number"!=typeof C){if(!m)if(4&a){if(a=2|1&a,""!==C&&!uh(t,C,o)||""===C&&1===i.length){if(Gn(a))return!1;m=!0}}else{const T=8&a?C:i[++y];if(8&a&&null!==t.attrs){if(!Ta(t.attrs,T,o)){if(Gn(a))return!1;m=!0}continue}const x=yc(8&a?"class":C,u,lh(t),o);if(-1===x){if(Gn(a))return!1;m=!0;continue}if(""!==T){let G;G=x>h?"":u[x+1].toLowerCase();const q=8&a?G:null;if(q&&-1!==Da(q,T,0)||2&a&&T!==G){if(Gn(a))return!1;m=!0}}}}else{if(!m&&!Gn(a)&&!Gn(C))return!1;if(m&&Gn(C))continue;m=!1,a=C|1&a}}return Gn(a)||m}function Gn(t){return 0==(1&t)}function yc(t,i,o,a){if(null===i)return-1;let u=0;if(a||!o){let h=!1;for(;u<i.length;){const m=i[u];if(m===t)return u;if(3===m||6===m)h=!0;else{if(1===m||2===m){let y=i[++u];for(;"string"==typeof y;)y=i[++u];continue}if(4===m)break;if(0===m){u+=4;continue}}u+=h?1:2}return-1}return function ch(t,i){let o=t.indexOf(4);if(o>-1)for(o++;o<t.length;){const a=t[o];if("number"==typeof a)return-1;if(a===i)return o;o++}return-1}(i,t)}function Nl(t,i,o=!1){for(let a=0;a<i.length;a++)if(Sa(t,i[a],o))return!0;return!1}function Ol(t,i){return t?":not("+i.trim()+")":i}function Ec(t){let i=t[0],o=1,a=2,u="",h=!1;for(;o<t.length;){let m=t[o];if("string"==typeof m)if(2&a){const y=t[++o];u+="["+m+(y.length>0?'="'+y+'"':"")+"]"}else 8&a?u+="."+m:4&a&&(u+=" "+m);else""!==u&&!Gn(m)&&(i+=Ol(h,u),u=""),a=m,h=h||!Gn(a);o++}return""!==u&&(i+=Ol(h,u)),i}function Fn(t){return J(()=>{const i=dh(t),o={...i,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Ae.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Ke.Emulated,styles:t.styles||He,_:null,schemas:t.schemas||null,tView:null,id:""};Vl(o);const a=t.dependencies;return o.directiveDefs=vs(a,!1),o.pipeDefs=vs(a,!0),o.id=function Ul(t){let i=0;const o=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const u of o)i=Math.imul(31,i)+u.charCodeAt(0)<<0;return i+=2147483648,"c"+i}(o),o})}function Ma(t){return wt(t)||Ln(t)}function kl(t){return null!==t}function Ra(t){return J(()=>({type:t.type,bootstrap:t.bootstrap||He,declarations:t.declarations||He,imports:t.imports||He,exports:t.exports||He,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Xs(t,i){if(null==t)return Xe;const o={};for(const a in t)if(t.hasOwnProperty(a)){let u=t[a],h=u;Array.isArray(u)&&(h=u[1],u=u[0]),o[u]=a,i&&(i[u]=h)}return o}function Ll(t){return J(()=>{const i=dh(t);return Vl(i),i})}function Na(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function wt(t){return t[Rt]||null}function Ln(t){return t[gn]||null}function Vn(t){return t[ln]||null}function Wi(t){const i=wt(t)||Ln(t)||Vn(t);return null!==i&&i.standalone}function cr(t,i){const o=t[si]||null;if(!o&&!0===i)throw new Error(`Type ${Y(t)} does not have '\u0275mod' property.`);return o}function dh(t){const i={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:i,inputTransforms:null,inputConfig:t.inputs||Xe,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||He,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Xs(t.inputs,i),outputs:Xs(t.outputs)}}function Vl(t){t.features?.forEach(i=>i(t))}function vs(t,i){if(!t)return null;const o=i?Vn:Ma;return()=>("function"==typeof t?t():t).map(a=>o(a)).filter(kl)}const sn=0,Fe=1,mt=2,Ht=3,br=4,eo=5,tr=6,zi=7,on=8,Zi=9,Zr=10,et=11,Oa=12,Pa=13,wi=14,vn=15,to=16,dr=17,hr=18,Fr=19,Cc=20,Kr=21,bi=22,Ki=23,oi=24,St=25,xo=1,ai=2,Tr=7,Ti=9,An=11;function nr(t){return Array.isArray(t)&&"object"==typeof t[xo]}function zn(t){return Array.isArray(t)&&!0===t[xo]}function jl(t){return 0!=(4&t.flags)}function Zn(t){return t.componentOffset>-1}function ys(t){return 1==(1&t.flags)}function fr(t){return!!t.template}function qi(t){return 0!=(512&t[mt])}function Ai(t,i){return t.hasOwnProperty(ur)?t[ur]:null}let mn=null,no=!1;function Un(t){const i=mn;return mn=t,i}const ql={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function bc(t){if(!Cs(t)||t.dirty){if(!t.producerMustRecompute(t)&&!Yl(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function gh(t){t.dirty=!0,function Vo(t){if(void 0===t.liveConsumerNode)return;const i=no;no=!0;try{for(const o of t.liveConsumerNode)o.dirty||gh(o)}finally{no=i}}(t),t.consumerMarkedDirty?.(t)}function Mn(t){return t&&(t.nextProducerIndex=0),Un(t)}function Fa(t,i){if(Un(i),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Cs(t))for(let o=t.nextProducerIndex;o<t.producerNode.length;o++)io(t.producerNode[o],t.producerIndexOfThis[o]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Yl(t){Mi(t);for(let i=0;i<t.producerNode.length;i++){const o=t.producerNode[i],a=t.producerLastReadVersion[i];if(a!==o.version||(bc(o),a!==o.version))return!0}return!1}function Ql(t){if(Mi(t),Cs(t))for(let i=0;i<t.producerNode.length;i++)io(t.producerNode[i],t.producerIndexOfThis[i]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function io(t,i){if(function La(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Mi(t),1===t.liveConsumerNode.length)for(let a=0;a<t.producerNode.length;a++)io(t.producerNode[a],t.producerIndexOfThis[a]);const o=t.liveConsumerNode.length-1;if(t.liveConsumerNode[i]=t.liveConsumerNode[o],t.liveConsumerIndexOfThis[i]=t.liveConsumerIndexOfThis[o],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,i<t.liveConsumerNode.length){const a=t.liveConsumerIndexOfThis[i],u=t.liveConsumerNode[i];Mi(u),u.producerIndexOfThis[a]=i}}function Cs(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Mi(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let Xl=null;function Wf(t){const i=Un(null);try{return t()}finally{Un(i)}}const Mc=()=>{},Ha=(()=>({...ql,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:Mc}))();class Rc{constructor(i,o,a){this.previousValue=i,this.currentValue=o,this.firstChange=a}isFirstChange(){return this.firstChange}}function oo(){return Nc}function Nc(t){return t.type.prototype.ngOnChanges&&(t.setInput=Ri),Is}function Is(){const t=ru(this),i=t?.current;if(i){const o=t.previous;if(o===Xe)t.previous=i;else for(let a in i)o[a]=i[a];t.current=null,this.ngOnChanges(i)}}function Ri(t,i,o,a){const u=this.declaredInputs[o],h=ru(t)||function iu(t,i){return t[Ds]=i}(t,{previous:Xe,current:null}),m=h.current||(h.current={}),y=h.previous,C=y[u];m[u]=new Rc(C&&C.currentValue,i,y===Xe),t[a]=i}oo.ngInherit=!0;const Ds="__ngSimpleChanges__";function ru(t){return t[Ds]||null}const ui=function(t,i,o){};function Ut(t){for(;Array.isArray(t);)t=t[sn];return t}function bs(t,i){return Ut(i[t])}function pr(t,i){return Ut(i[t.index])}function ou(t,i){return t.data[i]}function Sr(t,i){const o=i[t];return nr(o)?o:o[sn]}function Ss(t,i){return null==i?null:t[i]}function $a(t){t[dr]=0}function au(t){1024&t[mt]||(t[mt]|=1024,zt(t,1))}function Zf(t){1024&t[mt]&&(t[mt]&=-1025,zt(t,-1))}function zt(t,i){let o=t[Ht];if(null===o)return;o[eo]+=i;let a=o;for(o=o[Ht];null!==o&&(1===i&&1===a[eo]||-1===i&&0===a[eo]);)o[eo]+=i,a=o,o=o[Ht]}const lt={lFrame:Cn(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function uo(){return lt.bindingsEnabled}function Ce(){return lt.lFrame.lView}function _t(){return lt.lFrame.tView}function yn(){let t=hu();for(;null!==t&&64===t.type;)t=t.parent;return t}function hu(){return lt.lFrame.currentTNode}function gr(t,i){const o=lt.lFrame;o.currentTNode=t,o.isParent=i}function pu(){return lt.lFrame.isParent}function Ho(){return lt.lFrame.bindingIndex++}function Yf(t,i){const o=lt.lFrame;o.bindingIndex=o.bindingRootIndex=t,Vc(i)}function Vc(t){lt.lFrame.currentDirectiveIndex=t}function Dh(){return lt.lFrame.currentQueryIndex}function Za(t){lt.lFrame.currentQueryIndex=t}function Qf(t){const i=t[Fe];return 2===i.type?i.declTNode:1===i.type?t[tr]:null}function mr(t,i,o){if(o&nt.SkipSelf){let u=i,h=t;for(;!(u=u.parent,null!==u||o&nt.Host||(u=Qf(h),null===u||(h=h[wi],10&u.type))););if(null===u)return!1;i=u,t=h}const a=lt.lFrame=co();return a.currentTNode=i,a.lView=t,!0}function As(t){const i=co(),o=t[Fe];lt.lFrame=i,i.currentTNode=o.firstChild,i.lView=t,i.tView=o,i.contextLView=t,i.bindingIndex=o.bindingStartIndex,i.inI18n=!1}function co(){const t=lt.lFrame,i=null===t?null:t.child;return null===i?Cn(t):i}function Cn(t){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=i),i}function st(){const t=lt.lFrame;return lt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const _r=st;function ho(){const t=st();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Bn(){return lt.lFrame.selectedIndex}function hi(t){lt.lFrame.selectedIndex=t}function jt(){const t=lt.lFrame;return ou(t.tView,t.selectedIndex)}let fi=!0;function Ms(){return fi}function Lt(t){fi=t}function Rs(t,i){for(let o=i.directiveStart,a=i.directiveEnd;o<a;o++){const h=t.data[o].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:y,ngAfterViewInit:C,ngAfterViewChecked:T,ngOnDestroy:A}=h;m&&(t.contentHooks??=[]).push(-o,m),y&&((t.contentHooks??=[]).push(o,y),(t.contentCheckHooks??=[]).push(o,y)),C&&(t.viewHooks??=[]).push(-o,C),T&&((t.viewHooks??=[]).push(o,T),(t.viewCheckHooks??=[]).push(o,T)),null!=A&&(t.destroyHooks??=[]).push(o,A)}}function Ka(t,i,o){Os(t,i,3,o)}function Ns(t,i,o,a){(3&t[mt])===o&&Os(t,i,o,a)}function jc(t,i){let o=t[mt];(3&o)===i&&(o&=8191,o+=1,t[mt]=o)}function Os(t,i,o,a){const h=a??-1,m=i.length-1;let y=0;for(let C=void 0!==a?65535&t[dr]:0;C<m;C++)if("number"==typeof i[C+1]){if(y=i[C],null!=a&&y>=a)break}else i[C]<0&&(t[dr]+=65536),(y<h||-1==h)&&(yu(t,o,i,C),t[dr]=(4294901760&t[dr])+C+2),C++}function Qi(t,i){ui(4,t,i);const o=Un(null);try{i.call(t)}finally{Un(o),ui(5,t,i)}}function yu(t,i,o,a){const u=o[a]<0,h=o[a+1],y=t[u?-o[a]:o[a]];u?t[mt]>>13<t[dr]>>16&&(3&t[mt])===i&&(t[mt]+=8192,Qi(y,h)):Qi(y,h)}const Yr=-1;class Ji{constructor(i,o,a){this.factory=i,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=a}}function Vr(t){return t!==Yr}function an(t){return 32767&t}function zo(t,i){let o=function ts(t){return t>>16}(t),a=i;for(;o>0;)a=a[wi],o--;return a}let Qr=!0;function _n(t){const i=Qr;return Qr=t,i}const Gc=255,Ya=5;let ns=0;const Yn={};function Ur(t,i){const o=rs(t,i);if(-1!==o)return o;const a=i[Fe];a.firstCreatePass&&(t.injectorIndex=i.length,po(a.data,t),po(i,null),po(a.blueprint,null));const u=is(t,i),h=t.injectorIndex;if(Vr(u)){const m=an(u),y=zo(u,i),C=y[Fe].data;for(let T=0;T<8;T++)i[h+T]=y[m+T]|C[m+T]}return i[h+8]=u,h}function po(t,i){t.push(0,0,0,0,0,0,0,0,i)}function rs(t,i){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===i[t.injectorIndex+8]?-1:t.injectorIndex}function is(t,i){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let o=0,a=null,u=i;for(;null!==u;){if(a=wu(u),null===a)return Yr;if(o++,u=u[wi],-1!==a.injectorIndex)return a.injectorIndex|o<<16}return Yr}function go(t,i,o){!function In(t,i,o){let a;"string"==typeof o?a=o.charCodeAt(0)||0:o.hasOwnProperty(Di)&&(a=o[Di]),null==a&&(a=o[Di]=ns++);const u=a&Gc;i.data[t+(u>>Ya)]|=1<<u}(t,i,o)}function Ps(t,i,o){if(o&nt.Optional||void 0!==t)return t;ot()}function Zo(t,i,o,a){if(o&nt.Optional&&void 0===a&&(a=null),!(o&(nt.Self|nt.Host))){const u=t[Zi],h=Gt(void 0);try{return u?u.get(i,a,o&nt.Optional):en(i,a,o&nt.Optional)}finally{Gt(h)}}return Ps(a,0,o)}function Wc(t,i,o,a=nt.Default,u){if(null!==t){if(2048&i[mt]&&!(a&nt.Self)){const m=function Zc(t,i,o,a,u){let h=t,m=i;for(;null!==h&&null!==m&&2048&m[mt]&&!(512&m[mt]);){const y=gt(h,m,o,a|nt.Self,Yn);if(y!==Yn)return y;let C=h.parent;if(!C){const T=m[Cc];if(T){const A=T.get(o,Yn,a);if(A!==Yn)return A}C=wu(m),m=m[wi]}h=C}return u}(t,i,o,a,Yn);if(m!==Yn)return m}const h=gt(t,i,o,a,Yn);if(h!==Yn)return h}return Zo(i,o,a,u)}function gt(t,i,o,a,u){const h=function ss(t){if("string"==typeof t)return t.charCodeAt(0)||0;const i=t.hasOwnProperty(Di)?t[Di]:void 0;return"number"==typeof i?i>=0?i&Gc:ks:i}(o);if("function"==typeof h){if(!mr(i,t,a))return a&nt.Host?Ps(u,0,a):Zo(i,o,a,u);try{let m;if(m=h(a),null!=m||a&nt.Optional)return m;ot()}finally{_r()}}else if("number"==typeof h){let m=null,y=rs(t,i),C=Yr,T=a&nt.Host?i[vn][tr]:null;for((-1===y||a&nt.SkipSelf)&&(C=-1===y?is(t,i):i[y+8],C!==Yr&&Jr(a,!1)?(m=i[Fe],y=an(C),i=zo(C,i)):y=-1);-1!==y;){const A=i[Fe];if(Iu(h,y,A.data)){const x=Ja(y,i,o,m,a,T);if(x!==Yn)return x}C=i[y+8],C!==Yr&&Jr(a,i[Fe].data[y+8]===T)&&Iu(h,y,i)?(m=A,y=an(C),i=zo(C,i)):y=-1}}return u}function Ja(t,i,o,a,u,h){const m=i[Fe],y=m.data[t+8],A=Xa(y,m,o,null==a?Zn(y)&&Qr:a!=m&&0!=(3&y.type),u&nt.Host&&h===y);return null!==A?Br(i,m,A,y):Yn}function Xa(t,i,o,a,u){const h=t.providerIndexes,m=i.data,y=1048575&h,C=t.directiveStart,A=h>>20,G=u?y+A:t.directiveEnd;for(let q=a?y:y+A;q<G;q++){const ge=m[q];if(q<C&&o===ge||q>=C&&ge.type===o)return q}if(u){const q=m[C];if(q&&fr(q)&&q.type===o)return C}return null}function Br(t,i,o,a){let u=t[o];const h=i.data;if(function qa(t){return t instanceof Ji}(u)){const m=u;m.resolving&&function Me(t,i){const o=i?`. Dependency path: ${i.join(" > ")} > ${t}`:"";throw new te(-200,`Circular dependency in DI detected for ${t}${o}`)}(function ye(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():ee(t)}(h[o]));const y=_n(m.canSeeViewProviders);m.resolving=!0;const T=m.injectImpl?Gt(m.injectImpl):null;mr(t,a,nt.Default);try{u=t[o]=m.factory(void 0,h,t,a),i.firstCreatePass&&o>=a.directiveStart&&function vu(t,i,o){const{ngOnChanges:a,ngOnInit:u,ngDoCheck:h}=i.type.prototype;if(a){const m=Nc(i);(o.preOrderHooks??=[]).push(t,m),(o.preOrderCheckHooks??=[]).push(t,m)}u&&(o.preOrderHooks??=[]).push(0-t,u),h&&((o.preOrderHooks??=[]).push(t,h),(o.preOrderCheckHooks??=[]).push(t,h))}(o,h[o],i)}finally{null!==T&&Gt(T),_n(y),m.resolving=!1,_r()}}return u}function Iu(t,i,o){return!!(o[i+(t>>Ya)]&1<<t)}function Jr(t,i){return!(t&nt.Self||t&nt.Host&&i)}class Zt{constructor(i,o){this._tNode=i,this._lView=o}get(i,o,a){return Wc(this._tNode,this._lView,i,Tt(a),o)}}function ks(){return new Zt(yn(),Ce())}function zc(t){return J(()=>{const i=t.prototype.constructor,o=i[ur]||Du(i),a=Object.prototype;let u=Object.getPrototypeOf(t.prototype).constructor;for(;u&&u!==a;){const h=u[ur]||Du(u);if(h&&h!==o)return h;u=Object.getPrototypeOf(u)}return h=>new h})}function Du(t){return Le(t)?()=>{const i=Du(Te(t));return i&&i()}:Ai(t)}function wu(t){const i=t[Fe],o=i.type;return 2===o?i.declTNode:1===o?t[tr]:null}function bu(t){return function Qa(t,i){if("class"===i)return t.classes;if("style"===i)return t.styles;const o=t.attrs;if(o){const a=o.length;let u=0;for(;u<a;){const h=o[u];if(Pr(h))break;if(0===h)u+=2;else if("number"==typeof h)for(u++;u<a&&"string"==typeof o[u];)u++;else{if(h===i)return o[u+1];u+=2}}}return null}(yn(),t)}const E="__parameters__";function $(t,i,o){return J(()=>{const a=function N(t){return function(...o){if(t){const a=t(...o);for(const u in a)this[u]=a[u]}}}(i);function u(...h){if(this instanceof u)return a.apply(this,h),this;const m=new u(...h);return y.annotation=m,y;function y(C,T,A){const x=C.hasOwnProperty(E)?C[E]:Object.defineProperty(C,E,{value:[]})[E];for(;x.length<=A;)x.push(null);return(x[A]=x[A]||[]).push(m),C}}return o&&(u.prototype=Object.create(o.prototype)),u.prototype.ngMetadataName=t,u.annotationCls=u,u})}function el(t,i){t.forEach(o=>Array.isArray(o)?el(o,i):i(o))}function am(t,i,o){i>=t.length?t.push(o):t.splice(i,0,o)}function _o(t,i){return i>=t.length-1?t.pop():t.splice(i,1)[0]}function Xr(t,i,o){let a=Ko(t,i);return a>=0?t[1|a]=o:(a=~a,function Jf(t,i,o,a){let u=t.length;if(u==i)t.push(o,a);else if(1===u)t.push(a,t[0]),t[0]=o;else{for(u--,t.push(t[u-1],t[u]);u>i;)t[u]=t[u-2],u--;t[i]=o,t[i+1]=a}}(t,a,i,o)),a}function bh(t,i){const o=Ko(t,i);if(o>=0)return t[1|o]}function Ko(t,i){return function Th(t,i,o){let a=0,u=t.length>>o;for(;u!==a;){const h=a+(u-a>>1),m=t[h<<o];if(i===m)return h<<o;m>i?u=h:a=h+1}return~(u<<o)}(t,i,1)}const Yc=lr($("Optional"),8),Qc=lr($("SkipSelf"),4);function ta(t){return 128==(128&t.flags)}var ol=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(ol||{});const Ph=new Map;let Pu=0;const kh="__ngContext__";function jn(t,i){nr(i)?(t[kh]=i[Fr],function xh(t){Ph.set(t[Fr],t)}(i)):t[kh]=i}let z;function De(t,i){return z(t,i)}function $e(t){const i=t[Ht];return zn(i)?i[Ht]:i}function ei(t){return Fh(t[Oa])}function Do(t){return Fh(t[br])}function Fh(t){for(;null!==t&&!zn(t);)t=t[br];return t}function wo(t,i,o,a,u){if(null!=a){let h,m=!1;zn(a)?h=a:nr(a)&&(m=!0,a=a[sn]);const y=Ut(a);0===t&&null!==o?null==u?Ay(i,o,y):Lu(i,o,y,u||null,!0):1===t&&null!==o?Lu(i,o,y,u||null,!0):2===t?function fp(t,i,o){const a=hp(t,i);a&&function LD(t,i,o,a){t.removeChild(i,o,a)}(t,a,i,o)}(i,y,m):3===t&&i.destroyNode(y),null!=h&&function UD(t,i,o,a,u){const h=o[Tr];h!==Ut(o)&&wo(i,t,a,h,u);for(let y=An;y<o.length;y++){const C=o[y];Vu(C[Fe],C,t,i,a,h)}}(i,t,h,o,u)}}function Fu(t,i,o){return t.createElement(i,o)}function wy(t,i){const o=t[Ti],a=o.indexOf(i);Zf(i),o.splice(a,1)}function cp(t,i){if(t.length<=An)return;const o=An+i,a=t[o];if(a){const u=a[to];null!==u&&u!==t&&wy(u,a),i>0&&(t[o-1][br]=a[br]);const h=_o(t,An+i);!function ll(t,i){Vu(t,i,i[et],2,null,null),i[sn]=null,i[tr]=null}(a[Fe],a);const m=h[hr];null!==m&&m.detachView(h[Fe]),a[Ht]=null,a[br]=null,a[mt]&=-129}return a}function by(t,i){if(!(256&i[mt])){const o=i[et];i[Ki]&&Ql(i[Ki]),i[oi]&&Ql(i[oi]),o.destroyNode&&Vu(t,i,o,3,null,null),function _m(t){let i=t[Oa];if(!i)return ym(t[Fe],t);for(;i;){let o=null;if(nr(i))o=i[Oa];else{const a=i[An];a&&(o=a)}if(!o){for(;i&&!i[br]&&i!==t;)nr(i)&&ym(i[Fe],i),i=i[Ht];null===i&&(i=t),nr(i)&&ym(i[Fe],i),o=i&&i[br]}i=o}}(i)}}function ym(t,i){if(!(256&i[mt])){i[mt]&=-129,i[mt]|=256,function dp(t,i){let o;if(null!=t&&null!=(o=t.destroyHooks))for(let a=0;a<o.length;a+=2){const u=i[o[a]];if(!(u instanceof Ji)){const h=o[a+1];if(Array.isArray(h))for(let m=0;m<h.length;m+=2){const y=u[h[m]],C=h[m+1];ui(4,y,C);try{C.call(y)}finally{ui(5,y,C)}}else{ui(4,u,h);try{h.call(u)}finally{ui(5,u,h)}}}}}(t,i),function Ty(t,i){const o=t.cleanup,a=i[zi];if(null!==o)for(let h=0;h<o.length-1;h+=2)if("string"==typeof o[h]){const m=o[h+3];m>=0?a[m]():a[-m].unsubscribe(),h+=2}else o[h].call(a[o[h+1]]);null!==a&&(i[zi]=null);const u=i[Kr];if(null!==u){i[Kr]=null;for(let h=0;h<u.length;h++)(0,u[h])()}}(t,i),1===i[Fe].type&&i[et].destroy();const o=i[to];if(null!==o&&zn(i[Ht])){o!==i[Ht]&&wy(o,i);const a=i[hr];null!==a&&a.detachView(t)}!function gm(t){Ph.delete(t[Fr])}(i)}}function ul(t,i,o){return function Sy(t,i,o){let a=i;for(;null!==a&&40&a.type;)a=(i=a).parent;if(null===a)return o[sn];{const{componentOffset:u}=a;if(u>-1){const{encapsulation:h}=t.data[a.directiveStart+u];if(h===Ke.None||h===Ke.Emulated)return null}return pr(a,o)}}(t,i.parent,o)}function Lu(t,i,o,a,u){t.insertBefore(i,o,a,u)}function Ay(t,i,o){t.appendChild(i,o)}function My(t,i,o,a,u){null!==a?Lu(t,i,o,a,u):Ay(t,i,o)}function hp(t,i){return t.parentNode(i)}let ad,mp,_p,Ny=function Em(t,i,o){return 40&t.type?pr(t,o):null};function ia(t,i,o,a){const u=ul(t,a,i),h=i[et],y=function Ry(t,i,o){return Ny(t,i,o)}(a.parent||i[tr],a,i);if(null!=u)if(Array.isArray(o))for(let C=0;C<o.length;C++)My(h,u,o[C],y,!1);else My(h,u,o,y,!1);void 0!==ad&&ad(h,a,i,o,u)}function ld(t,i){if(null!==i){const o=i.type;if(3&o)return pr(i,t);if(4&o)return Im(-1,t[i.index]);if(8&o){const a=i.child;if(null!==a)return ld(t,a);{const u=t[i.index];return zn(u)?Im(-1,u):Ut(u)}}if(32&o)return De(i,t)()||Ut(t[i.index]);{const a=Oy(t,i);return null!==a?Array.isArray(a)?a[0]:ld($e(t[vn]),a):ld(t,i.next)}}return null}function Oy(t,i){return null!==i?t[vn][tr].projection[i.projection]:null}function Im(t,i){const o=An+t+1;if(o<i.length){const a=i[o],u=a[Fe].firstChild;if(null!==u)return ld(a,u)}return i[Tr]}function Dm(t,i,o,a,u,h,m){for(;null!=o;){const y=a[o.index],C=o.type;if(m&&0===i&&(y&&jn(Ut(y),a),o.flags|=2),32!=(32&o.flags))if(8&C)Dm(t,i,o.child,a,u,h,!1),wo(i,t,u,y,h);else if(32&C){const T=De(o,a);let A;for(;A=T();)wo(i,t,u,A,h);wo(i,t,u,y,h)}else 16&C?xy(t,i,a,o,u,h):wo(i,t,u,y,h);o=m?o.projectionNext:o.next}}function Vu(t,i,o,a,u,h){Dm(o,a,t.firstChild,i,u,h,!1)}function xy(t,i,o,a,u,h){const m=o[vn],C=m[tr].projection[a.projection];if(Array.isArray(C))for(let T=0;T<C.length;T++)wo(i,t,u,C[T],h);else{let T=C;const A=m[Ht];ta(a)&&(T.flags|=128),Dm(t,i,T,A,u,h,!0)}}function Vh(t,i,o){""===o?t.removeAttribute(i,"class"):t.setAttribute(i,"class",o)}function ky(t,i,o){const{mergedAttrs:a,classes:u,styles:h}=o;null!==a&&wa(t,i,a),null!==u&&Vh(t,i,u),null!==h&&function jD(t,i,o){t.setAttribute(i,"style",o)}(t,i,h)}function Fy(t){mp=t}function Uy(t){return function bm(){if(void 0===_p&&(_p=null,Vt.trustedTypes))try{_p=Vt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return _p}()?.createScriptURL(t)||t}class Tm{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Je})`}}function sa(t){return t instanceof Tm?t.changingThisBreaksApplicationSecurity:t}function cl(t,i){const o=function By(t){return t instanceof Tm&&t.getTypeName()||null}(t);if(null!=o&&o!==i){if("ResourceURL"===o&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${o} (see ${Je})`)}return o===i}const jy=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Uu=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Uu||{});function qy(t){const i=Ep();return i?i.sanitize(Uu.URL,t)||"":cl(t,"URL")?sa(t):function Mm(t){return(t=String(t)).match(jy)?t:"unsafe:"+t}(ee(t))}function Yy(t){const i=Ep();if(i)return Uy(i.sanitize(Uu.RESOURCE_URL,t)||"");if(cl(t,"ResourceURL"))return Uy(sa(t));throw new te(904,!1)}function JD(t,i,o){return function RT(t,i){return"src"===i&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===i&&("base"===t||"link"===t)?Yy:qy}(i,o)(t)}function Ep(){const t=Ce();return t&&t[Zr].sanitizer}const hd=new qe("ENVIRONMENT_INITIALIZER"),Jy=new qe("INJECTOR",-1),Xy=new qe("INJECTOR_DEF_TYPES");class Cp{get(i,o=rn){if(o===rn){const a=new Error(`NullInjectorError: No provider for ${Y(i)}!`);throw a.name="NullInjectorError",a}return o}}function XD(...t){return{\u0275providers:tE(0,t),\u0275fromNgModule:!0}}function tE(t,...i){const o=[],a=new Set;let u;const h=m=>{o.push(m)};return el(i,m=>{const y=m;Ip(y,h,[],a)&&(u||=[],u.push(y))}),void 0!==u&&nE(u,h),o}function nE(t,i){for(let o=0;o<t.length;o++){const{ngModule:a,providers:u}=t[o];xm(u,h=>{i(h,a)})}}function Ip(t,i,o,a){if(!(t=Te(t)))return!1;let u=null,h=ji(t);const m=!h&&wt(t);if(h||m){if(m&&!m.standalone)return!1;u=t}else{const C=t.ngModule;if(h=ji(C),!h)return!1;u=C}const y=a.has(u);if(m){if(y)return!1;if(a.add(u),m.dependencies){const C="function"==typeof m.dependencies?m.dependencies():m.dependencies;for(const T of C)Ip(T,i,o,a)}}else{if(!h)return!1;{if(null!=h.imports&&!y){let T;a.add(u);try{el(h.imports,A=>{Ip(A,i,o,a)&&(T||=[],T.push(A))})}finally{}void 0!==T&&nE(T,i)}if(!y){const T=Ai(u)||(()=>new u);i({provide:u,useFactory:T,deps:He},u),i({provide:Xy,useValue:u,multi:!0},u),i({provide:hd,useValue:()=>kt(u),multi:!0},u)}const C=h.providers;if(null!=C&&!y){const T=t;xm(C,A=>{i(A,T)})}}}return u!==t&&void 0!==t.providers}function xm(t,i){for(let o of t)Re(o)&&(o=o.\u0275providers),Array.isArray(o)?xm(o,i):i(o)}const OT=F({provide:String,useValue:F});function rE(t){return null!==t&&"object"==typeof t&&OT in t}function fd(t){return"function"==typeof t}const km=new qe("Set Injector scope."),pd={},iE={};let Fm;function Dp(){return void 0===Fm&&(Fm=new Cp),Fm}class To{}class Rr extends To{get destroyed(){return this._destroyed}constructor(i,o,a,u){super(),this.parent=o,this.source=a,this.scopes=u,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,bp(i,m=>this.processProvider(m)),this.records.set(Jy,Fi(void 0,this)),u.has("environment")&&this.records.set(To,Fi(void 0,this));const h=this.records.get(km);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(Xy.multi,He,nt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const i=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of i)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(i){return this.assertNotDestroyed(),this._onDestroyHooks.push(i),()=>this.removeOnDestroy(i)}runInContext(i){this.assertNotDestroyed();const o=it(this),a=Gt(void 0);try{return i()}finally{it(o),Gt(a)}}get(i,o=rn,a=nt.Default){if(this.assertNotDestroyed(),i.hasOwnProperty(Ml))return i[Ml](this);a=Tt(a);const h=it(this),m=Gt(void 0);try{if(!(a&nt.SkipSelf)){let C=this.records.get(i);if(void 0===C){const T=function wp(t){return"function"==typeof t||"object"==typeof t&&t instanceof qe}(i)&&bn(i);C=T&&this.injectableDefInScope(T)?Fi(ki(i),pd):null,this.records.set(i,C)}if(null!=C)return this.hydrate(i,C)}return(a&nt.Self?Dp():this.parent).get(i,o=a&nt.Optional&&o===rn?null:o)}catch(y){if("NullInjectorError"===y.name){if((y[er]=y[er]||[]).unshift(Y(i)),h)throw y;return function Po(t,i,o,a){const u=t[er];throw i[_e]&&u.unshift(i[_e]),t.message=function ce(t,i,o,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let u=Y(i);if(Array.isArray(i))u=i.map(Y).join(" -> ");else if("object"==typeof i){let h=[];for(let m in i)if(i.hasOwnProperty(m)){let y=i[m];h.push(m+":"+("string"==typeof y?JSON.stringify(y):Y(y)))}u=`{${h.join(", ")}}`}return`${o}${a?"("+a+")":""}[${u}]: ${t.replace(L,"\n  ")}`}("\n"+t.message,u,o,a),t.ngTokenPath=u,t[er]=null,t}(y,i,"R3InjectorError",this.source)}throw y}finally{Gt(m),it(h)}}resolveInjectorInitializers(){const i=it(this),o=Gt(void 0);try{const u=this.get(hd.multi,He,nt.Self);for(const h of u)h()}finally{it(i),Gt(o)}}toString(){const i=[],o=this.records;for(const a of o.keys())i.push(Y(a));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new te(205,!1)}processProvider(i){let o=fd(i=Te(i))?i:Te(i&&i.provide);const a=function rw(t){return rE(t)?Fi(void 0,t.useValue):Fi(dl(t),pd)}(i);if(fd(i)||!0!==i.multi)this.records.get(o);else{let u=this.records.get(o);u||(u=Fi(void 0,pd,!0),u.factory=()=>kn(u.multi),this.records.set(o,u)),o=i,u.multi.push(i)}this.records.set(o,a)}hydrate(i,o){return o.value===pd&&(o.value=iE,o.value=o.factory()),"object"==typeof o.value&&o.value&&function k(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(i){if(!i.providedIn)return!1;const o=Te(i.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}removeOnDestroy(i){const o=this._onDestroyHooks.indexOf(i);-1!==o&&this._onDestroyHooks.splice(o,1)}}function ki(t){const i=bn(t),o=null!==i?i.factory:Ai(t);if(null!==o)return o;if(t instanceof qe)throw new te(204,!1);if(t instanceof Function)return function xT(t){const i=t.length;if(i>0)throw function tl(t,i){const o=[];for(let a=0;a<t;a++)o.push(i);return o}(i,"?"),new te(204,!1);const o=function Ir(t){return t&&(t[Dr]||t[Hi])||null}(t);return null!==o?()=>o.factory(t):()=>new t}(t);throw new te(204,!1)}function dl(t,i,o){let a;if(fd(t)){const u=Te(t);return Ai(u)||ki(u)}if(rE(t))a=()=>Te(t.useValue);else if(function nw(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...kn(t.deps||[]));else if(function tw(t){return!(!t||!t.useExisting)}(t))a=()=>kt(Te(t.useExisting));else{const u=Te(t&&(t.useClass||t.provide));if(!function Bu(t){return!!t.deps}(t))return Ai(u)||ki(u);a=()=>new u(...kn(t.deps))}return a}function Fi(t,i,o=!1){return{factory:t,value:i,multi:o?[]:void 0}}function bp(t,i){for(const o of t)Array.isArray(o)?bp(o,i):o&&Re(o)?bp(o.\u0275providers,i):i(o)}const Lm=new qe("AppId",{providedIn:"root",factory:()=>Vm}),Vm="ng",Um=new qe("Platform Initializer"),Bm=new qe("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),ju=new qe("CSP nonce",{providedIn:"root",factory:()=>function cd(){if(void 0!==mp)return mp;if(typeof document<"u")return document;throw new te(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let md=(t,i,o)=>null;function Jn(t,i,o=!1){return md(t,i,o)}class cw{}class aE{}class lE{resolveComponentFactory(i){throw function Wh(t){const i=Error(`No component factory found for ${Y(t)}.`);return i.ngComponent=t,i}(i)}}let Zh=(()=>{class t{static#e=this.NULL=new lE}return t})();function uE(){return Zu(yn(),Ce())}function Zu(t,i){return new _d(pr(t,i))}let _d=(()=>{class t{constructor(o){this.nativeElement=o}static#e=this.__NG_ELEMENT_ID__=uE}return t})();function cE(t){return t instanceof _d?t.nativeElement:t}class Mp{}let dE=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function hE(){const t=Ce(),o=Sr(yn().index,t);return(nr(o)?o:t)[et]}()}return t})(),Zm=(()=>{class t{static#e=this.\u0275prov=pt({token:t,providedIn:"root",factory:()=>null})}return t})();class fE{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const Km=new fE("16.2.12"),qm={};function Qm(t,i=null,o=null,a){const u=_E(t,i,o,a);return u.resolveInjectorInitializers(),u}function _E(t,i=null,o=null,a,u=new Set){const h=[o||He,XD(t)];return a=a||("object"==typeof t?void 0:Y(t)),new Rr(h,i||Dp(),a||null,u)}let Hs=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=rn;static#t=this.NULL=new Cp;static create(o,a){if(Array.isArray(o))return Qm({name:""},a,o,"");{const u=o.name??"";return Qm({name:u},o.parent,o.providers,u)}}static#n=this.\u0275prov=pt({token:t,providedIn:"any",factory:()=>kt(Jy)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function Jm(t){return t.ngOriginalError}class la{constructor(){this._console=console}handleError(i){const o=this._findOriginalError(i);this._console.error("ERROR",i),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(i){let o=i&&Jm(i);for(;o&&Jm(o);)o=Jm(o);return o||null}}function So(t){return i=>{setTimeout(t,void 0,i)}}const us=class vw extends p.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,o,a){let u=i,h=o||(()=>null),m=a;if(i&&"object"==typeof i){const C=i;u=C.next?.bind(C),h=C.error?.bind(C),m=C.complete?.bind(C)}this.__isAsync&&(h=So(h),u&&(u=So(u)),m&&(m=So(m)));const y=super.subscribe({next:u,error:h,complete:m});return i instanceof Q.w0&&i.add(y),y}};function yE(...t){}class Dn{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new us(!1),this.onMicrotaskEmpty=new us(!1),this.onStable=new us(!1),this.onError=new us(!1),typeof Zone>"u")throw new te(908,!1);Zone.assertZonePatched();const u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!a&&o,u.shouldCoalesceRunChangeDetection=a,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function yw(){const t="function"==typeof Vt.requestAnimationFrame;let i=Vt[t?"requestAnimationFrame":"setTimeout"],o=Vt[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&i&&o){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function Cw(t){const i=()=>{!function Ew(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Vt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,t_(t),t.isCheckStableRunning=!0,e_(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),t_(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,a,u,h,m,y)=>{if(function IE(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(y))return o.invokeTask(u,h,m,y);try{return Op(t),o.invokeTask(u,h,m,y)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||t.shouldCoalesceRunChangeDetection)&&i(),n_(t)}},onInvoke:(o,a,u,h,m,y,C)=>{try{return Op(t),o.invoke(u,h,m,y,C)}finally{t.shouldCoalesceRunChangeDetection&&i(),n_(t)}},onHasTask:(o,a,u,h)=>{o.hasTask(u,h),a===u&&("microTask"==h.change?(t._hasPendingMicrotasks=h.microTask,t_(t),e_(t)):"macroTask"==h.change&&(t.hasPendingMacrotasks=h.macroTask))},onHandleError:(o,a,u,h)=>(o.handleError(u,h),t.runOutsideAngular(()=>t.onError.emit(h)),!1)})}(u)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Dn.isInAngularZone())throw new te(909,!1)}static assertNotInAngularZone(){if(Dn.isInAngularZone())throw new te(909,!1)}run(i,o,a){return this._inner.run(i,o,a)}runTask(i,o,a,u){const h=this._inner,m=h.scheduleEventTask("NgZoneEvent: "+u,i,EE,yE,yE);try{return h.runTask(m,o,a)}finally{h.cancelTask(m)}}runGuarded(i,o,a){return this._inner.runGuarded(i,o,a)}runOutsideAngular(i){return this._outer.run(i)}}const EE={};function e_(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function t_(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Op(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function n_(t){t._nesting--,e_(t)}class Iw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new us,this.onMicrotaskEmpty=new us,this.onStable=new us,this.onError=new us}run(i,o,a){return i.apply(o,a)}runGuarded(i,o,a){return i.apply(o,a)}runOutsideAngular(i){return i()}runTask(i,o,a,u){return i.apply(o,a)}}const r_=new qe("",{providedIn:"root",factory:CE});function CE(){const t=ht(Dn);let i=!0;const o=new P.y(u=>{i=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{u.next(i),u.complete()})}),a=new P.y(u=>{let h;t.runOutsideAngular(()=>{h=t.onStable.subscribe(()=>{Dn.assertNotInAngularZone(),queueMicrotask(()=>{!i&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(i=!0,u.next(!0))})})});const m=t.onUnstable.subscribe(()=>{Dn.assertInAngularZone(),i&&(i=!1,t.runOutsideAngular(()=>{u.next(!1)}))});return()=>{h.unsubscribe(),m.unsubscribe()}});return(0,X.T)(o,a.pipe((0,de.B)()))}function Ao(t){return t instanceof Function?t():t}let $t=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=pt({token:t,providedIn:"root",factory:()=>new t})}return t})();function Ft(t){for(;t;){t[mt]|=64;const i=$e(t);if(qi(t)&&!i)return t;t=i}return null}const Jt=new qe("",{providedIn:"root",factory:()=>!1});let xp=null;function l_(t,i){return t[i]??ME()}function fl(t,i){const o=ME();o.producerNode?.length&&(t[i]=xp,o.lView=t,xp=yd())}const u_={...ql,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Ft(t.lView)},lView:null};function yd(){return Object.create(u_)}function ME(){return xp??=yd(),xp}const yt={};function RE(t){NE(_t(),Ce(),Bn()+t,!1)}function NE(t,i,o,a){if(!a)if(3==(3&i[mt])){const h=t.preOrderCheckHooks;null!==h&&Ka(i,h,o)}else{const h=t.preOrderHooks;null!==h&&Ns(i,h,0,o)}hi(o)}function Ed(t,i=nt.Default){const o=Ce();return null===o?kt(t,i):Wc(yn(),o,Te(t),i)}function c_(){throw new Error("invalid")}function At(t,i,o,a,u,h,m,y,C,T,A){const x=i.blueprint.slice();return x[sn]=u,x[mt]=140|a,(null!==T||t&&2048&t[mt])&&(x[mt]|=2048),$a(x),x[Ht]=x[wi]=t,x[on]=o,x[Zr]=m||t&&t[Zr],x[et]=y||t&&t[et],x[Zi]=C||t&&t[Zi]||null,x[tr]=h,x[Fr]=function Mr(){return Pu++}(),x[bi]=A,x[Cc]=T,x[vn]=2==i.type?t[vn]:x,x}function ca(t,i,o,a,u){let h=t.data[i];if(null===h)h=function Cd(t,i,o,a,u){const h=hu(),m=pu(),C=t.data[i]=function xE(t,i,o,a,u,h){let m=i?i.injectorIndex:-1,y=0;return function Yi(){return null!==lt.skipHydrationRootTNode}()&&(y|=128),{type:o,index:a,insertBeforeIndex:null,injectorIndex:m,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:y,providerIndexes:0,value:u,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?h:h&&h.parent,o,i,a,u);return null===t.firstChild&&(t.firstChild=C),null!==h&&(m?null==h.child&&null!==C.parent&&(h.child=C):null===h.next&&(h.next=C,C.prev=h)),C}(t,i,o,a,u),function Ih(){return lt.lFrame.inI18n}()&&(h.flags|=32);else if(64&h.type){h.type=o,h.value=a,h.attrs=u;const m=function fu(){const t=lt.lFrame,i=t.currentTNode;return t.isParent?i:i.parent}();h.injectorIndex=null===m?-1:m.injectorIndex}return gr(h,!0),h}function Id(t,i,o,a){if(0===o)return-1;const u=i.length;for(let h=0;h<o;h++)i.push(a),t.blueprint.push(a),t.data.push(null);return u}function $s(t,i,o,a,u){const h=l_(i,Ki),m=Bn(),y=2&a;try{hi(-1),y&&i.length>St&&NE(t,i,St,!1),ui(y?2:0,u);const T=y?h:null,A=Mn(T);try{null!==T&&(T.dirty=!1),o(a,u)}finally{Fa(T,A)}}finally{y&&null===i[Ki]&&fl(i,Ki),hi(m),ui(y?3:1,u)}}function Dd(t,i,o){if(jl(i)){const a=Un(null);try{const h=i.directiveEnd;for(let m=i.directiveStart;m<h;m++){const y=t.data[m];y.contentQueries&&y.contentQueries(1,o[m],m)}}finally{Un(a)}}}function Ui(t,i,o){uo()&&(function Dt(t,i,o,a){const u=o.directiveStart,h=o.directiveEnd;Zn(o)&&function bd(t,i,o){const a=pr(i,t),u=ni(o);let m=16;o.signals?m=4096:o.onPush&&(m=64);const y=Fp(t,At(t,u,null,m,a,i,null,t[Zr].rendererFactory.createRenderer(a,o),null,null,null));t[i.index]=y}(i,o,t.data[u+o.componentOffset]),t.firstCreatePass||Ur(o,i),jn(a,i);const m=o.initialInputs;for(let y=u;y<h;y++){const C=t.data[y],T=Br(i,t,y,o);jn(T,i),null!==m&&Nw(0,y-u,T,C,0,m),fr(C)&&(Sr(o.index,i)[on]=Br(i,t,y,o))}}(t,i,o,pr(o,i)),64==(64&o.flags)&&FE(t,i,o))}function d_(t,i,o=pr){const a=i.localNames;if(null!==a){let u=i.index+1;for(let h=0;h<a.length;h+=2){const m=a[h+1],y=-1===m?o(i,t):t[m];t[u++]=y}}}function ni(t){const i=t.tView;return null===i||i.incompleteFirstPass?t.tView=h_(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):i}function h_(t,i,o,a,u,h,m,y,C,T,A){const x=St+a,G=x+u,q=function f_(t,i){const o=[];for(let a=0;a<i;a++)o.push(a<t?null:yt);return o}(x,G),ge="function"==typeof T?T():T;return q[Fe]={type:t,blueprint:q,template:o,queries:null,viewQuery:y,declTNode:i,data:q.slice().fill(null,x),bindingStartIndex:x,expandoStartIndex:G,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:C,consts:ge,incompleteFirstPass:!1,ssrId:A}}let g_=t=>null;function m_(t,i,o,a){for(let u in t)if(t.hasOwnProperty(u)){o=null===o?{}:o;const h=t[u];null===a?kE(o,i,u,h):a.hasOwnProperty(u)&&kE(o,i,a[u],h)}return o}function kE(t,i,o,a){t.hasOwnProperty(o)?t[o].push(i,a):t[o]=[i,a]}function Yh(t,i,o,a){if(uo()){const u=null===a?null:{"":-1},h=function Mw(t,i){const o=t.directiveRegistry;let a=null,u=null;if(o)for(let h=0;h<o.length;h++){const m=o[h];if(Nl(i,m.selectors,!1))if(a||(a=[]),fr(m))if(null!==m.findHostDirectiveDefs){const y=[];u=u||new Map,m.findHostDirectiveDefs(m,y,u),a.unshift(...y,m),hn(t,i,y.length)}else a.unshift(m),hn(t,i,0);else u=u||new Map,m.findHostDirectiveDefs?.(m,a,u),a.push(m)}return null===a?null:[a,u]}(t,o);let m,y;null===h?m=y=null:[m,y]=h,null!==m&&Yu(t,i,o,m,u,y),u&&function v_(t,i,o){if(i){const a=t.localNames=[];for(let u=0;u<i.length;u+=2){const h=o[i[u+1]];if(null==h)throw new te(-301,!1);a.push(i[u],h)}}}(o,a,u)}o.mergedAttrs=Gi(o.mergedAttrs,o.attrs)}function Yu(t,i,o,a,u,h){for(let T=0;T<a.length;T++)go(Ur(o,i),t,a[T].type);!function y_(t,i,o){t.flags|=1,t.directiveStart=i,t.directiveEnd=i+o,t.providerIndexes=i}(o,t.data.length,a.length);for(let T=0;T<a.length;T++){const A=a[T];A.providersResolver&&A.providersResolver(A)}let m=!1,y=!1,C=Id(t,i,a.length,null);for(let T=0;T<a.length;T++){const A=a[T];o.mergedAttrs=Gi(o.mergedAttrs,A.hostAttrs),LE(t,o,i,C,A),Rw(C,A,u),null!==A.contentQueries&&(o.flags|=4),(null!==A.hostBindings||null!==A.hostAttrs||0!==A.hostVars)&&(o.flags|=64);const x=A.type.prototype;!m&&(x.ngOnChanges||x.ngOnInit||x.ngDoCheck)&&((t.preOrderHooks??=[]).push(o.index),m=!0),!y&&(x.ngOnChanges||x.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(o.index),y=!0),C++}!function bw(t,i,o){const u=i.directiveEnd,h=t.data,m=i.attrs,y=[];let C=null,T=null;for(let A=i.directiveStart;A<u;A++){const x=h[A],G=o?o.get(x):null,ge=G?G.outputs:null;C=m_(x.inputs,A,C,G?G.inputs:null),T=m_(x.outputs,A,T,ge);const Oe=null===C||null===m||lh(i)?null:Xh(C,A,m);y.push(Oe)}null!==C&&(C.hasOwnProperty("class")&&(i.flags|=8),C.hasOwnProperty("style")&&(i.flags|=16)),i.initialInputs=y,i.inputs=C,i.outputs=T}(t,o,h)}function FE(t,i,o){const a=o.directiveStart,u=o.directiveEnd,h=o.index,m=function Lc(){return lt.lFrame.currentDirectiveIndex}();try{hi(h);for(let y=a;y<u;y++){const C=t.data[y],T=i[y];Vc(y),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&Jh(C,T)}}finally{hi(-1),Vc(m)}}function Jh(t,i){null!==t.hostBindings&&t.hostBindings(1,i)}function hn(t,i,o){i.componentOffset=o,(t.components??=[]).push(i.index)}function Rw(t,i,o){if(o){if(i.exportAs)for(let a=0;a<i.exportAs.length;a++)o[i.exportAs[a]]=t;fr(i)&&(o[""]=t)}}function LE(t,i,o,a,u){t.data[a]=u;const h=u.factory||(u.factory=Ai(u.type)),m=new Ji(h,fr(u),Ed);t.blueprint[a]=m,o[a]=m,function da(t,i,o,a,u){const h=u.hostBindings;if(h){let m=t.hostBindingOpCodes;null===m&&(m=t.hostBindingOpCodes=[]);const y=~i.index;(function Qh(t){let i=t.length;for(;i>0;){const o=t[--i];if("number"==typeof o&&o<0)return o}return 0})(m)!=y&&m.push(y),m.push(o,a,h)}}(t,i,a,Id(t,o,u.hostVars,yt),u)}function pi(t,i,o,a,u,h){const m=pr(t,i);!function Qu(t,i,o,a,u,h,m){if(null==h)t.removeAttribute(i,u,o);else{const y=null==m?ee(h):m(h,a||"",u);t.setAttribute(i,u,y,o)}}(i[et],m,h,t.value,o,a,u)}function Nw(t,i,o,a,u,h){const m=h[i];if(null!==m)for(let y=0;y<m.length;)kp(a,o,m[y++],m[y++],m[y++])}function kp(t,i,o,a,u){const h=Un(null);try{const m=t.inputTransforms;null!==m&&m.hasOwnProperty(a)&&(u=m[a].call(i,u)),null!==t.setInput?t.setInput(i,u,o,a):i[a]=u}finally{Un(h)}}function Xh(t,i,o){let a=null,u=0;for(;u<o.length;){const h=o[u];if(0!==h)if(5!==h){if("number"==typeof h)break;if(t.hasOwnProperty(h)){null===a&&(a=[]);const m=t[h];for(let y=0;y<m.length;y+=2)if(m[y]===i){a.push(h,m[y+1],o[u+1]);break}}u+=2}else u+=2;else u+=4}return a}function VE(t,i,o,a){return[t,!0,!1,i,null,0,a,o,null,null,null]}function ef(t,i){const o=t.contentQueries;if(null!==o)for(let a=0;a<o.length;a+=2){const h=o[a+1];if(-1!==h){const m=t.data[h];Za(o[a]),m.contentQueries(2,i[h],h)}}}function Fp(t,i){return t[Oa]?t[Pa][br]=i:t[Oa]=i,t[Pa]=i,i}function E_(t,i,o){Za(0);const a=Un(null);try{i(t,o)}finally{Un(a)}}function Lp(t){return t[zi]||(t[zi]=[])}function UE(t){return t.cleanup||(t.cleanup=[])}function BE(t,i){const o=t[Zi],a=o?o.get(la,null):null;a&&a.handleError(i)}function Td(t,i,o,a,u){for(let h=0;h<o.length;){const m=o[h++],y=o[h++];kp(t.data[m],i[m],a,y,u)}}function jE(t,i){const o=Sr(i,t),a=o[Fe];!function Up(t,i){for(let o=i.length;o<t.blueprint.length;o++)i.push(t.blueprint[o])}(a,o);const u=o[sn];null!==u&&null===o[bi]&&(o[bi]=Jn(u,o[Zi])),C_(a,o,o[on])}function C_(t,i,o){As(i);try{const a=t.viewQuery;null!==a&&E_(1,a,o);const u=t.template;null!==u&&$s(t,i,u,1,o),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&ef(t,i),t.staticViewQueries&&E_(2,t.viewQuery,o);const h=t.components;null!==h&&function Bp(t,i){for(let o=0;o<i.length;o++)jE(t,i[o])}(i,h)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{i[mt]&=-5,ho()}}let Ju=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(o,a,u){const h=typeof Zone>"u"?null:Zone.current,m=function Ac(t,i,o){const a=Object.create(Ha);o&&(a.consumerAllowSignalWrites=!0),a.fn=t,a.schedule=i;const u=m=>{a.cleanupFn=m};return a.ref={notify:()=>gh(a),run:()=>{if(a.dirty=!1,a.hasRun&&!Yl(a))return;a.hasRun=!0;const m=Mn(a);try{a.cleanupFn(),a.cleanupFn=Mc,a.fn(u)}finally{Fa(a,m)}},cleanup:()=>a.cleanupFn()},a.ref}(o,T=>{this.all.has(T)&&this.queue.set(T,h)},u);let y;this.all.add(m),m.notify();const C=()=>{m.cleanup(),y?.(),this.all.delete(m),this.queue.delete(m)};return y=a?.onDestroy(C),{destroy:C}}flush(){if(0!==this.queue.size)for(const[o,a]of this.queue)this.queue.delete(o),a?a.run(()=>o.run()):o.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=pt({token:t,providedIn:"root",factory:()=>new t})}return t})();function Sd(t,i,o){let a=o?t.styles:null,u=o?t.classes:null,h=0;if(null!==i)for(let m=0;m<i.length;m++){const y=i[m];"number"==typeof y?h=y:1==h?u=Ne(u,y):2==h&&(a=Ne(a,y+": "+i[++m]+";"))}o?t.styles=a:t.stylesWithoutHost=a,o?t.classes=u:t.classesWithoutHost=u}function tf(t,i,o,a,u=!1){for(;null!==o;){const h=i[o.index];null!==h&&a.push(Ut(h)),zn(h)&&HE(h,a);const m=o.type;if(8&m)tf(t,i,o.child,a);else if(32&m){const y=De(o,i);let C;for(;C=y();)a.push(C)}else if(16&m){const y=Oy(i,o);if(Array.isArray(y))a.push(...y);else{const C=$e(i[vn]);tf(C[Fe],C,y,a,!0)}}o=u?o.projectionNext:o.next}return a}function HE(t,i){for(let o=An;o<t.length;o++){const a=t[o],u=a[Fe].firstChild;null!==u&&tf(a[Fe],a,u,i)}t[Tr]!==t[sn]&&i.push(t[Tr])}function nf(t,i,o,a=!0){const u=i[Zr],h=u.rendererFactory,m=u.afterRenderEventManager;h.begin?.(),m?.begin();try{$E(t,i,t.template,o)}catch(C){throw a&&BE(i,C),C}finally{h.end?.(),u.effectManager?.flush(),m?.end()}}function $E(t,i,o,a){const u=i[mt];if(256!=(256&u)){i[Zr].effectManager?.flush(),As(i);try{$a(i),function mu(t){return lt.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==o&&$s(t,i,o,2,a);const m=3==(3&u);if(m){const T=t.preOrderCheckHooks;null!==T&&Ka(i,T,null)}else{const T=t.preOrderHooks;null!==T&&Ns(i,T,0,null),jc(i,0)}if(function D_(t){for(let i=ei(t);null!==i;i=Do(i)){if(!i[ai])continue;const o=i[Ti];for(let a=0;a<o.length;a++){au(o[a])}}}(i),Gs(i,2),null!==t.contentQueries&&ef(t,i),m){const T=t.contentCheckHooks;null!==T&&Ka(i,T)}else{const T=t.contentHooks;null!==T&&Ns(i,T,1),jc(i,1)}!function qu(t,i){const o=t.hostBindingOpCodes;if(null===o)return;const a=l_(i,oi);try{for(let u=0;u<o.length;u++){const h=o[u];if(h<0)hi(~h);else{const m=h,y=o[++u],C=o[++u];Yf(y,m),a.dirty=!1;const T=Mn(a);try{C(2,i[m])}finally{Fa(a,T)}}}}finally{null===i[oi]&&fl(i,oi),hi(-1)}}(t,i);const y=t.components;null!==y&&rf(i,y,0);const C=t.viewQuery;if(null!==C&&E_(2,C,a),m){const T=t.viewCheckHooks;null!==T&&Ka(i,T)}else{const T=t.viewHooks;null!==T&&Ns(i,T,2),jc(i,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),i[mt]&=-73,Zf(i)}finally{ho()}}}function Gs(t,i){for(let o=ei(t);null!==o;o=Do(o))for(let a=An;a<o.length;a++)jp(o[a],i)}function w_(t,i,o){jp(Sr(i,t),o)}function jp(t,i){if(!function vh(t){return 128==(128&t[mt])}(t))return;const o=t[Fe],a=t[mt];if(80&a&&0===i||1024&a||2===i)$E(o,t,o.template,t[on]);else if(t[eo]>0){Gs(t,1);const u=o.components;null!==u&&rf(t,u,1)}}function rf(t,i,o){for(let a=0;a<i.length;a++)w_(t,i[a],o)}class ha{get rootNodes(){const i=this._lView,o=i[Fe];return tf(o,i,o.firstChild,[])}constructor(i,o){this._lView=i,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[on]}set context(i){this._lView[on]=i}get destroyed(){return 256==(256&this._lView[mt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[Ht];if(zn(i)){const o=i[8],a=o?o.indexOf(this):-1;a>-1&&(cp(i,a),_o(o,a))}this._attachedToViewContainer=!1}by(this._lView[Fe],this._lView)}onDestroy(i){!function yh(t,i){if(256==(256&t[mt]))throw new te(911,!1);null===t[Kr]&&(t[Kr]=[]),t[Kr].push(i)}(this._lView,i)}markForCheck(){Ft(this._cdRefInjectingView||this._lView)}detach(){this._lView[mt]&=-129}reattach(){this._lView[mt]|=128}detectChanges(){nf(this._lView[Fe],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new te(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function up(t,i){Vu(t,i,i[et],2,null,null)}(this._lView[Fe],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new te(902,!1);this._appRef=i}}class Xu extends ha{constructor(i){super(i),this._view=i}detectChanges(){const i=this._view;nf(i[Fe],i,i[on],!1)}checkNoChanges(){}get context(){return null}}class ec extends Zh{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const o=wt(i);return new pa(o,this.ngModule)}}function fa(t){const i=[];for(let o in t)t.hasOwnProperty(o)&&i.push({propName:t[o],templateName:o});return i}class xw{constructor(i,o){this.injector=i,this.parentInjector=o}get(i,o,a){a=Tt(a);const u=this.injector.get(i,qm,a);return u!==qm||o===qm?u:this.parentInjector.get(i,o,a)}}class pa extends aE{get inputs(){const i=this.componentDef,o=i.inputTransforms,a=fa(i.inputs);if(null!==o)for(const u of a)o.hasOwnProperty(u.propName)&&(u.transform=o[u.propName]);return a}get outputs(){return fa(this.componentDef.outputs)}constructor(i,o){super(),this.componentDef=i,this.ngModule=o,this.componentType=i.type,this.selector=function xr(t){return t.map(Ec).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!o}create(i,o,a,u){let h=(u=u||this.ngModule)instanceof To?u:u?.injector;h&&null!==this.componentDef.getStandaloneInjector&&(h=this.componentDef.getStandaloneInjector(h)||h);const m=h?new xw(i,h):i,y=m.get(Mp,null);if(null===y)throw new te(407,!1);const x={rendererFactory:y,sanitizer:m.get(Zm,null),effectManager:m.get(Ju,null),afterRenderEventManager:m.get($t,null)},G=y.createRenderer(null,this.componentDef),q=this.componentDef.selectors[0][0]||"div",ge=a?function p_(t,i,o,a){const h=a.get(Jt,!1)||o===Ke.ShadowDom,m=t.selectRootElement(i,h);return function ww(t){g_(t)}(m),m}(G,a,this.componentDef.encapsulation,m):Fu(G,q,function Pw(t){const i=t.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(q)),at=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let be=null;null!==ge&&(be=Jn(ge,m,!0));const Et=h_(0,null,null,1,0,null,null,null,null,null,null),Pt=At(null,Et,null,at,null,null,x,G,m,null,be);let tn,gs;As(Pt);try{const vc=this.componentDef;let im,vT=null;vc.findHostDirectiveDefs?(im=[],vT=new Map,vc.findHostDirectiveDefs(vc,im,vT),im.push(vc)):im=[vc];const dA=function Fw(t,i){const o=t[Fe],a=St;return t[a]=i,ca(o,a,2,"#host",null)}(Pt,ge),hA=function Hp(t,i,o,a,u,h,m){const y=u[Fe];!function sf(t,i,o,a){for(const u of t)i.mergedAttrs=Gi(i.mergedAttrs,u.hostAttrs);null!==i.mergedAttrs&&(Sd(i,i.mergedAttrs,!0),null!==o&&ky(a,o,i))}(a,t,i,m);let C=null;null!==i&&(C=Jn(i,u[Zi]));const T=h.rendererFactory.createRenderer(i,o);let A=16;o.signals?A=4096:o.onPush&&(A=64);const x=At(u,ni(o),null,A,u[t.index],t,h,T,null,null,C);return y.firstCreatePass&&hn(y,t,a.length-1),Fp(u,x),u[t.index]=x}(dA,ge,vc,im,Pt,x,G);gs=ou(Et,St),ge&&function $p(t,i,o,a){if(a)wa(t,o,["ng-version",Km.full]);else{const{attrs:u,classes:h}=function Pl(t){const i=[],o=[];let a=1,u=2;for(;a<t.length;){let h=t[a];if("string"==typeof h)2===u?""!==h&&i.push(h,t[++a]):8===u&&o.push(h);else{if(!Gn(u))break;u=h}a++}return{attrs:i,classes:o}}(i.selectors[0]);u&&wa(t,o,u),h&&h.length>0&&Vh(t,o,h.join(" "))}}(G,vc,ge,a),void 0!==o&&function tc(t,i,o){const a=t.projection=[];for(let u=0;u<i.length;u++){const h=o[u];a.push(null!=h?Array.from(h):null)}}(gs,this.ngContentSelectors,o),tn=function GE(t,i,o,a,u,h){const m=yn(),y=u[Fe],C=pr(m,u);Yu(y,u,m,o,null,a);for(let A=0;A<o.length;A++)jn(Br(u,y,m.directiveStart+A,m),u);FE(y,u,m),C&&jn(C,u);const T=Br(u,y,m.directiveStart+m.componentOffset,m);if(t[on]=u[on]=T,null!==h)for(const A of h)A(T,i);return Dd(y,m,t),T}(hA,vc,im,vT,Pt,[b_]),C_(Et,Pt,null)}finally{ho()}return new kw(this.componentType,tn,Zu(gs,Pt),Pt,gs)}}class kw extends cw{constructor(i,o,a,u,h){super(),this.location=a,this._rootLView=u,this._tNode=h,this.previousInputValues=null,this.instance=o,this.hostView=this.changeDetectorRef=new Xu(u),this.componentType=i}setInput(i,o){const a=this._tNode.inputs;let u;if(null!==a&&(u=a[i])){if(this.previousInputValues??=new Map,this.previousInputValues.has(i)&&Object.is(this.previousInputValues.get(i),o))return;const h=this._rootLView;Td(h[Fe],h,u,i,o),this.previousInputValues.set(i,o),Ft(Sr(this._tNode.index,h))}}get injector(){return new Zt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function b_(){const t=yn();Rs(Ce()[Fe],t)}function Xt(t){let i=function WE(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),o=!0;const a=[t];for(;i;){let u;if(fr(t))u=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new te(903,!1);u=i.\u0275dir}if(u){if(o){a.push(u);const m=t;m.inputs=pl(t.inputs),m.inputTransforms=pl(t.inputTransforms),m.declaredInputs=pl(t.declaredInputs),m.outputs=pl(t.outputs);const y=u.hostBindings;y&&S_(t,y);const C=u.viewQuery,T=u.contentQueries;if(C&&T_(t,C),T&&zE(t,T),H(t.inputs,u.inputs),H(t.declaredInputs,u.declaredInputs),H(t.outputs,u.outputs),null!==u.inputTransforms&&(null===m.inputTransforms&&(m.inputTransforms={}),H(m.inputTransforms,u.inputTransforms)),fr(u)&&u.data.animation){const A=t.data;A.animation=(A.animation||[]).concat(u.data.animation)}}const h=u.features;if(h)for(let m=0;m<h.length;m++){const y=h[m];y&&y.ngInherit&&y(t),y===Xt&&(o=!1)}}i=Object.getPrototypeOf(i)}!function Ws(t){let i=0,o=null;for(let a=t.length-1;a>=0;a--){const u=t[a];u.hostVars=i+=u.hostVars,u.hostAttrs=Gi(u.hostAttrs,o=Gi(o,u.hostAttrs))}}(a)}function pl(t){return t===Xe?{}:t===He?[]:t}function T_(t,i){const o=t.viewQuery;t.viewQuery=o?(a,u)=>{i(a,u),o(a,u)}:i}function zE(t,i){const o=t.contentQueries;t.contentQueries=o?(a,u,h)=>{i(a,u,h),o(a,u,h)}:i}function S_(t,i){const o=t.hostBindings;t.hostBindings=o?(a,u)=>{i(a,u),o(a,u)}:i}function qE(t){const i=t.inputConfig,o={};for(const a in i)if(i.hasOwnProperty(a)){const u=i[a];Array.isArray(u)&&u[2]&&(o[a]=u[2])}t.inputTransforms=o}function Wp(t){return!!zp(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function zp(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function $r(t,i,o){return!Object.is(t[i],o)&&(t[i]=o,!0)}function Ad(t,i,o,a){const u=Ce();return $r(u,Ho(),i)&&(_t(),pi(jt(),u,t,i,o,a)),Ad}function L_(t,i,o,a,u,h,m,y){const C=Ce(),T=_t(),A=t+St,x=T.firstCreatePass?function Qw(t,i,o,a,u,h,m,y,C){const T=i.consts,A=ca(i,t,4,m||null,Ss(T,y));Yh(i,o,A,Ss(T,C)),Rs(i,A);const x=A.tView=h_(2,A,a,u,h,i.directiveRegistry,i.pipeRegistry,null,i.schemas,T,null);return null!==i.queries&&(i.queries.template(i,A),x.queries=i.queries.embeddedTView(A)),A}(A,T,C,i,o,a,u,h,m):T.data[A];gr(x,!1);const G=eg(T,C,x,t);Ms()&&ia(T,C,G,x),jn(G,C),Fp(C,C[A]=VE(G,C,G,x)),ys(x)&&Ui(T,C,x),null!=m&&d_(C,x,y)}let eg=function oC(t,i,o,a){return Lt(!0),i[et].createComment("")};function V_(t,i,o){const a=Ce();return $r(a,Ho(),i)&&function Ot(t,i,o,a,u,h,m,y){const C=pr(i,o);let A,T=i.inputs;!y&&null!=T&&(A=T[a])?(Td(t,o,A,a,u),Zn(i)&&function Sw(t,i){const o=Sr(i,t);16&o[mt]||(o[mt]|=64)}(o,i.index)):3&i.type&&(a=function Tw(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),u=null!=m?m(u,i.value||"",a):u,h.setProperty(C,a,u))}(_t(),jt(),a,t,i,a[et],o,!1),V_}function xd(t,i,o,a,u){const m=u?"class":"style";Td(t,o,i.inputs[m],m,a)}function tg(t,i,o,a){const u=Ce(),h=_t(),m=St+t,y=u[et],C=h.firstCreatePass?function aC(t,i,o,a,u,h){const m=i.consts,C=ca(i,t,2,a,Ss(m,u));return Yh(i,o,C,Ss(m,h)),null!==C.attrs&&Sd(C,C.attrs,!1),null!==C.mergedAttrs&&Sd(C,C.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,C),C}(m,h,u,i,o,a):h.data[m],T=lC(h,u,C,y,i,t);u[m]=T;const A=ys(C);return gr(C,!0),ky(y,T,C),32!=(32&C.flags)&&Ms()&&ia(h,u,T,C),0===function Rn(){return lt.lFrame.elementDepthCount}()&&jn(T,u),function kc(){lt.lFrame.elementDepthCount++}(),A&&(Ui(h,u,C),Dd(h,C,u)),null!==a&&d_(u,C),tg}function kd(){let t=yn();pu()?function gu(){lt.lFrame.isParent=!1}():(t=t.parent,gr(t,!1));const i=t;(function Wa(t){return lt.skipHydrationRootTNode===t})(i)&&function jo(){lt.skipHydrationRootTNode=null}(),function Kn(){lt.lFrame.elementDepthCount--}();const o=_t();return o.firstCreatePass&&(Rs(o,t),jl(t)&&o.queries.elementEnd(t)),null!=i.classesWithoutHost&&function Hc(t){return 0!=(8&t.flags)}(i)&&xd(o,i,Ce(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function qn(t){return 0!=(16&t.flags)}(i)&&xd(o,i,Ce(),i.stylesWithoutHost,!1),kd}function Fd(t,i,o,a){return tg(t,i,o,a),kd(),Fd}let lC=(t,i,o,a,u,h)=>(Lt(!0),Fu(a,u,function fo(){return lt.lFrame.currentNamespace}()));function uc(t){return!!t&&"function"==typeof t.then}function dC(t){return!!t&&"function"==typeof t.subscribe}function j_(t,i,o,a){const u=Ce(),h=_t(),m=yn();return function ig(t,i,o,a,u,h,m){const y=ys(a),T=t.firstCreatePass&&UE(t),A=i[on],x=Lp(i);let G=!0;if(3&a.type||m){const Oe=pr(a,i),Ge=m?m(Oe):Oe,at=x.length,be=m?Pt=>m(Ut(Pt[a.index])):a.index;let Et=null;if(!m&&y&&(Et=function H_(t,i,o,a){const u=t.cleanup;if(null!=u)for(let h=0;h<u.length-1;h+=2){const m=u[h];if(m===o&&u[h+1]===a){const y=i[zi],C=u[h+2];return y.length>C?y[C]:null}"string"==typeof m&&(h+=2)}return null}(t,i,u,a.index)),null!==Et)(Et.__ngLastListenerFn__||Et).__ngNextListenerFn__=h,Et.__ngLastListenerFn__=h,G=!1;else{h=$_(a,i,A,h,!1);const Pt=o.listen(Ge,u,h);x.push(h,Pt),T&&T.push(u,be,at,at+1)}}else h=$_(a,i,A,h,!1);const q=a.outputs;let ge;if(G&&null!==q&&(ge=q[u])){const Oe=ge.length;if(Oe)for(let Ge=0;Ge<Oe;Ge+=2){const tn=i[ge[Ge]][ge[Ge+1]].subscribe(h),gs=x.length;x.push(h,tn),T&&T.push(u,a.index,gs,-(gs+1))}}}(h,u,u[et],m,t,i,a),j_}function fC(t,i,o,a){try{return ui(6,i,o),!1!==o(a)}catch(u){return BE(t,u),!1}finally{ui(7,i,o)}}function $_(t,i,o,a,u){return function h(m){if(m===Function)return a;Ft(t.componentOffset>-1?Sr(t.index,i):i);let C=fC(i,o,a,m),T=h.__ngNextListenerFn__;for(;T;)C=fC(i,o,T,m)&&C,T=T.__ngNextListenerFn__;return u&&!1===C&&m.preventDefault(),C}}function Il(t,i){return t<<17|i<<2}function No(t){return t>>17&32767}function Z_(t){return 2|t}function ma(t){return(131068&t)>>2}function Vd(t,i){return-131069&t|i<<2}function K_(t){return 1|t}function q_(t,i,o,a,u){const h=t[o+1],m=null===i;let y=a?No(h):ma(h),C=!1;for(;0!==y&&(!1===C||m);){const A=t[y+1];Y_(t[y],i)&&(C=!0,t[y+1]=a?K_(A):Z_(A)),y=a?No(A):ma(A)}C&&(t[o+1]=a?Z_(h):K_(h))}function Y_(t,i){return null===t||null==i||(Array.isArray(t)?t[1]:t)===i||!(!Array.isArray(t)||"string"!=typeof i)&&Ko(t,i)>=0}function cc(t,i){return function gi(t,i,o,a){const u=Ce(),h=_t(),m=function di(t){const i=lt.lFrame,o=i.bindingIndex;return i.bindingIndex=i.bindingIndex+t,o}(2);h.firstUpdatePass&&function CC(t,i,o,a){const u=t.data;if(null===u[o+1]){const h=u[Bn()],m=function lg(t,i){return i>=t.expandoStartIndex}(t,o);(function wC(t,i){return 0!=(t.flags&(i?8:16))})(h,a)&&null===i&&!m&&(i=!1),i=function h0(t,i,o,a){const u=function Go(t){const i=lt.lFrame.currentDirectiveIndex;return-1===i?null:t[i]}(t);let h=a?i.residualClasses:i.residualStyles;if(null===u)0===(a?i.classBindings:i.styleBindings)&&(o=vf(o=tv(null,t,i,o,a),i.attrs,a),h=null);else{const m=i.directiveStylingLast;if(-1===m||t[m]!==u)if(o=tv(u,t,i,o,a),null===h){let C=function f0(t,i,o){const a=o?i.classBindings:i.styleBindings;if(0!==ma(a))return t[No(a)]}(t,i,a);void 0!==C&&Array.isArray(C)&&(C=tv(null,t,i,C[1],a),C=vf(C,i.attrs,a),function IC(t,i,o,a){t[No(o?i.classBindings:i.styleBindings)]=a}(t,i,a,C))}else h=function p0(t,i,o){let a;const u=i.directiveEnd;for(let h=1+i.directiveStylingLast;h<u;h++)a=vf(a,t[h].hostAttrs,o);return vf(a,i.attrs,o)}(t,i,a)}return void 0!==h&&(a?i.residualClasses=h:i.residualStyles=h),o}(u,h,i,a),function mf(t,i,o,a,u,h){let m=h?i.classBindings:i.styleBindings,y=No(m),C=ma(m);t[a]=o;let A,T=!1;if(Array.isArray(o)?(A=o[1],(null===A||Ko(o,A)>0)&&(T=!0)):A=o,u)if(0!==C){const G=No(t[y+1]);t[a+1]=Il(G,y),0!==G&&(t[G+1]=Vd(t[G+1],a)),t[y+1]=function s0(t,i){return 131071&t|i<<17}(t[y+1],a)}else t[a+1]=Il(y,0),0!==y&&(t[y+1]=Vd(t[y+1],a)),y=a;else t[a+1]=Il(C,0),0===y?y=a:t[C+1]=Vd(t[C+1],a),C=a;T&&(t[a+1]=Z_(t[a+1])),q_(t,A,a,!0),q_(t,A,a,!1),function o0(t,i,o,a,u){const h=u?t.residualClasses:t.residualStyles;null!=h&&"string"==typeof i&&Ko(h,i)>=0&&(o[a+1]=K_(o[a+1]))}(i,A,t,a,h),m=Il(y,C),h?i.classBindings=m:i.styleBindings=m}(u,h,i,o,m,a)}}(h,t,m,a),i!==yt&&$r(u,m,i)&&function va(t,i,o,a,u,h,m,y){if(!(3&i.type))return;const C=t.data,T=C[y+1],A=function _C(t){return 1==(1&t)}(T)?DC(C,i,o,u,ma(T),m):void 0;jd(A)||(jd(h)||function r0(t){return 2==(2&t)}(T)&&(h=DC(C,null,o,u,y,m)),function BD(t,i,o,a,u){if(i)u?t.addClass(o,a):t.removeClass(o,a);else{let h=-1===a.indexOf("-")?void 0:ol.DashCase;null==u?t.removeStyle(o,a,h):("string"==typeof u&&u.endsWith("!important")&&(u=u.slice(0,-10),h|=ol.Important),t.setStyle(o,a,u,h))}}(a,m,bs(Bn(),o),u,h))}(h,h.data[Bn()],u,u[et],t,u[m+1]=function ug(t,i){return null==t||""===t||("string"==typeof i?t+=i:"object"==typeof t&&(t=Y(sa(t)))),t}(i,o),a,m)}(t,i,null,!0),cc}function tv(t,i,o,a,u){let h=null;const m=o.directiveEnd;let y=o.directiveStylingLast;for(-1===y?y=o.directiveStart:y++;y<m&&(h=i[y],a=vf(a,h.hostAttrs,u),h!==t);)y++;return null!==t&&(o.directiveStylingLast=y),a}function vf(t,i,o){const a=o?1:2;let u=-1;if(null!==i)for(let h=0;h<i.length;h++){const m=i[h];"number"==typeof m?u=m:u===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Xr(t,m,!!o||i[++h]))}return void 0===t?null:t}function DC(t,i,o,a,u,h){const m=null===i;let y;for(;u>0;){const C=t[u],T=Array.isArray(C),A=T?C[1]:C,x=null===A;let G=o[u+1];G===yt&&(G=x?He:void 0);let q=x?bh(G,a):A===a?G:void 0;if(T&&!jd(q)&&(q=bh(C,a)),jd(q)&&(y=q,m))return y;const ge=t[u+1];u=m?No(ge):ma(ge)}if(null!==i){let C=h?i.residualClasses:i.residualStyles;null!=C&&(y=bh(C,a))}return y}function jd(t){return void 0!==t}function dc(t,i=""){const o=Ce(),a=_t(),u=t+St,h=a.firstCreatePass?ca(a,u,1,i,null):a.data[u],m=bC(a,o,h,i,t);o[u]=m,Ms()&&ia(a,o,m,h),gr(h,!1)}let bC=(t,i,o,a,u)=>(Lt(!0),function ls(t,i){return t.createText(i)}(i[et],a));function cg(t){return Hd("",t,""),cg}function Hd(t,i,o){const a=Ce(),u=function sc(t,i,o,a){return $r(t,Ho(),o)?i+ee(o)+a:yt}(a,t,i,o);return u!==yt&&function Mo(t,i,o){const a=bs(i,t);!function na(t,i,o){t.setValue(i,o)}(t[et],a,o)}(a,Bn(),u),Hd}const wl=void 0;var BC=["en",[["a","p"],["AM","PM"],wl],[["AM","PM"],wl,wl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],wl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],wl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",wl,"{1} 'at' {0}",wl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function qs(t){const o=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===a?1:5}];let Wd={};function dv(t){const i=function E0(t){return t.toLowerCase().replace(/_/g,"-")}(t);let o=HC(i);if(o)return o;const a=i.split("-")[0];if(o=HC(a),o)return o;if("en"===a)return BC;throw new te(701,!1)}function jC(t){return dv(t)[zd.PluralCase]}function HC(t){return t in Wd||(Wd[t]=Vt.ng&&Vt.ng.common&&Vt.ng.common.locales&&Vt.ng.common.locales[t]),Wd[t]}var zd=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(zd||{});const Zd="en-US";let $C=Zd;function ir(t,i,o,a,u){if(t=Te(t),Array.isArray(t))for(let h=0;h<t.length;h++)ir(t[h],i,o,a,u);else{const h=_t(),m=Ce(),y=yn();let C=fd(t)?t:Te(t.provide);const T=dl(t),A=1048575&y.providerIndexes,x=y.directiveStart,G=y.providerIndexes>>20;if(fd(t)||!t.multi){const q=new Ji(T,u,Ed),ge=bf(C,i,u?A:A+G,x);-1===ge?(go(Ur(y,m),h,C),qd(h,t,i.length),i.push(C),y.directiveStart++,y.directiveEnd++,u&&(y.providerIndexes+=1048576),o.push(q),m.push(q)):(o[ge]=q,m[ge]=q)}else{const q=bf(C,i,A+G,x),ge=bf(C,i,A,A+G),Ge=ge>=0&&o[ge];if(u&&!Ge||!u&&!(q>=0&&o[q])){go(Ur(y,m),h,C);const at=function Q0(t,i,o,a,u){const h=new Ji(t,o,Ed);return h.multi=[],h.index=i,h.componentProviders=0,bg(h,u,a&&!o),h}(u?Sg:Tg,o.length,u,a,T);!u&&Ge&&(o[ge].providerFactory=at),qd(h,t,i.length,0),i.push(C),y.directiveStart++,y.directiveEnd++,u&&(y.providerIndexes+=1048576),o.push(at),m.push(at)}else qd(h,t,q>-1?q:ge,bg(o[u?ge:q],T,!u&&a));!u&&a&&Ge&&o[ge].componentProviders++}}}function qd(t,i,o,a){const u=fd(i),h=function PT(t){return!!t.useClass}(i);if(u||h){const C=(h?Te(i.useClass):i).prototype.ngOnDestroy;if(C){const T=t.destroyHooks||(t.destroyHooks=[]);if(!u&&i.multi){const A=T.indexOf(o);-1===A?T.push(o,[a,C]):T[A+1].push(a,C)}else T.push(o,C)}}}function bg(t,i,o){return o&&t.componentProviders++,t.multi.push(i)-1}function bf(t,i,o,a){for(let u=o;u<a;u++)if(i[u]===t)return u;return-1}function Tg(t,i,o,a){return Tf(this.multi,[])}function Sg(t,i,o,a){const u=this.multi;let h;if(this.providerFactory){const m=this.providerFactory.componentProviders,y=Br(o,o[Fe],this.providerFactory.index,a);h=y.slice(0,m),Tf(u,h);for(let C=m;C<y.length;C++)h.push(y[C])}else h=[],Tf(u,h);return h}function Tf(t,i){for(let o=0;o<t.length;o++)i.push((0,t[o])());return i}function hI(t,i=[]){return o=>{o.providersResolver=(a,u)=>function Y0(t,i,o){const a=_t();if(a.firstCreatePass){const u=fr(t);ir(o,a.data,a.blueprint,u,!0),ir(i,a.data,a.blueprint,u,!1)}}(a,u?u(t):t,i)}}class Tl{}class fI{}function J0(t,i){return new Mg(t,i??null,[])}class Mg extends Tl{constructor(i,o,a){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ec(this);const u=cr(i);this._bootstrapComponents=Ao(u.bootstrap),this._r3Injector=_E(i,o,[{provide:Tl,useValue:this},{provide:Zh,useValue:this.componentFactoryResolver},...a],Y(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class Yd extends fI{constructor(i){super(),this.moduleType=i}create(i){return new Mg(this.moduleType,i,[])}}class gI extends Tl{constructor(i){super(),this.componentFactoryResolver=new ec(this),this.instance=null;const o=new Rr([...i.providers,{provide:Tl,useValue:this},{provide:Zh,useValue:this.componentFactoryResolver}],i.parent||Dp(),i.debugName,new Set(["environment"]));this.injector=o,i.runEnvironmentInitializers&&o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function mI(t,i,o=null){return new gI({providers:t,parent:i,debugName:o,runEnvironmentInitializers:!0}).injector}let X0=(()=>{class t{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o)){const a=tE(0,o.type),u=a.length>0?mI([a],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o,u)}return this.cachedInjectors.get(o)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=pt({token:t,providedIn:"environment",factory:()=>new t(kt(To))})}return t})();function _I(t){t.getStandaloneInjector=i=>i.get(X0).getOrCreateStandaloneInjector(t)}function ab(){return this._results[Symbol.iterator]()}class Fg{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new us)}constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=Fg.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=ab)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,o){return this._results.reduce(i,o)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,o){const a=this;a.dirty=!1;const u=function jr(t){return t.flat(Number.POSITIVE_INFINITY)}(i);(this._changesDetected=!function Su(t,i,o){if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++){let u=t[a],h=i[a];if(o&&(u=o(u),h=o(h)),h!==u)return!1}return!0}(a._results,u,o))&&(a._results=u,a.length=u.length,a.last=u[this.length-1],a.first=u[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function NI(t,i,o,a=!0){const u=i[Fe];if(function Lh(t,i,o,a){const u=An+a,h=o.length;a>0&&(o[u-1][br]=i),a<h-An?(i[br]=o[u],am(o,An+a,i)):(o.push(i),i[br]=null),i[Ht]=o;const m=i[to];null!==m&&o!==m&&function vm(t,i){const o=t[Ti];i[vn]!==i[Ht][Ht][vn]&&(t[ai]=!0),null===o?t[Ti]=[i]:o.push(i)}(m,i);const y=i[hr];null!==y&&y.insertView(t),i[mt]|=128}(u,i,t,o),a){const h=Im(o,t),m=i[et],y=hp(m,t[Tr]);null!==y&&function ra(t,i,o,a,u,h){a[sn]=u,a[tr]=i,Vu(t,a,o,1,u,h)}(u,t[tr],m,i,y,h)}}let Lg=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=gS}return t})();const cb=Lg,pS=class extends cb{constructor(i,o,a){super(),this._declarationLView=i,this._declarationTContainer=o,this.elementRef=a}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(i,o){return this.createEmbeddedViewImpl(i,o)}createEmbeddedViewImpl(i,o,a){const u=function RI(t,i,o,a){const u=i.tView,y=At(t,u,o,4096&t[mt]?4096:16,null,i,null,null,null,a?.injector??null,a?.hydrationInfo??null);y[to]=t[i.index];const T=t[hr];return null!==T&&(y[hr]=T.createEmbeddedView(u)),C_(u,y,o),y}(this._declarationLView,this._declarationTContainer,i,{injector:o,hydrationInfo:a});return new ha(u)}};function gS(){return Xd(yn(),Ce())}function Xd(t,i){return 4&t.type?new pS(i,t,Zu(t,i)):null}let Mv=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=fb}return t})();function fb(){return pb(yn(),Ce())}const vS=Mv,xI=class extends vS{constructor(i,o,a){super(),this._lContainer=i,this._hostTNode=o,this._hostLView=a}get element(){return Zu(this._hostTNode,this._hostLView)}get injector(){return new Zt(this._hostTNode,this._hostLView)}get parentInjector(){const i=is(this._hostTNode,this._hostLView);if(Vr(i)){const o=zo(i,this._hostLView),a=an(i);return new Zt(o[Fe].data[a+8],o)}return new Zt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const o=kI(this._lContainer);return null!==o&&o[i]||null}get length(){return this._lContainer.length-An}createEmbeddedView(i,o,a){let u,h;"number"==typeof a?u=a:null!=a&&(u=a.index,h=a.injector);const y=i.createEmbeddedViewImpl(o||{},h,null);return this.insertImpl(y,u,false),y}createComponent(i,o,a,u,h){const m=i&&!function yr(t){return"function"==typeof t}(i);let y;if(m)y=o;else{const Oe=o||{};y=Oe.index,a=Oe.injector,u=Oe.projectableNodes,h=Oe.environmentInjector||Oe.ngModuleRef}const C=m?i:new pa(wt(i)),T=a||this.parentInjector;if(!h&&null==C.ngModule){const Ge=(m?T:this.parentInjector).get(To,null);Ge&&(h=Ge)}wt(C.componentType??{});const q=C.create(T,u,null,h);return this.insertImpl(q.hostView,y,false),q}insert(i,o){return this.insertImpl(i,o,!1)}insertImpl(i,o,a){const u=i._lView;if(function Ts(t){return zn(t[Ht])}(u)){const C=this.indexOf(i);if(-1!==C)this.detach(C);else{const T=u[Ht],A=new xI(T,T[tr],T[Ht]);A.detach(A.indexOf(i))}}const m=this._adjustIndex(o),y=this._lContainer;return NI(y,u,m,!a),i.attachToViewContainerRef(),am(FI(y),m,i),i}move(i,o){return this.insert(i,o)}indexOf(i){const o=kI(this._lContainer);return null!==o?o.indexOf(i):-1}remove(i){const o=this._adjustIndex(i,-1),a=cp(this._lContainer,o);a&&(_o(FI(this._lContainer),o),by(a[Fe],a))}detach(i){const o=this._adjustIndex(i,-1),a=cp(this._lContainer,o);return a&&null!=_o(FI(this._lContainer),o)?new ha(a):null}_adjustIndex(i,o=0){return i??this.length+o}};function kI(t){return t[8]}function FI(t){return t[8]||(t[8]=[])}function pb(t,i){let o;const a=i[t.index];return zn(a)?o=a:(o=VE(a,i,null,t),i[t.index]=o,Fp(i,o)),mb(o,i,t,a),new xI(o,t,i)}let mb=function _b(t,i,o,a){if(t[Tr])return;let u;u=8&o.type?Ut(a):function gb(t,i){const o=t[et],a=o.createComment(""),u=pr(i,t);return Lu(o,hp(o,u),a,function VD(t,i){return t.nextSibling(i)}(o,u),!1),a}(i,o),t[Tr]=u};class LI{constructor(i){this.queryList=i,this.matches=null}clone(){return new LI(this.queryList)}setDirty(){this.queryList.setDirty()}}class Rv{constructor(i=[]){this.queries=i}createEmbeddedView(i){const o=i.queries;if(null!==o){const a=null!==i.contentQueries?i.contentQueries[0]:o.length,u=[];for(let h=0;h<a;h++){const m=o.getByIndex(h);u.push(this.queries[m.indexInDeclarationView].clone())}return new Rv(u)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let o=0;o<this.queries.length;o++)null!==WI(i,o).matches&&this.queries[o].setDirty()}}class VI{constructor(i,o,a=null){this.predicate=i,this.flags=o,this.read=a}}class Bg{constructor(i=[]){this.queries=i}elementStart(i,o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(i,o)}elementEnd(i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(i)}embeddedTView(i){let o=null;for(let a=0;a<this.length;a++){const u=null!==o?o.length:0,h=this.getByIndex(a).embeddedTView(i,u);h&&(h.indexInDeclarationView=a,null!==o?o.push(h):o=[h])}return null!==o?new Bg(o):null}template(i,o){for(let a=0;a<this.queries.length;a++)this.queries[a].template(i,o)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class jg{constructor(i,o=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(i,o){this.isApplyingToNode(o)&&this.matchTNode(i,o)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,o){this.elementStart(i,o)}embeddedTView(i,o){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,o),new jg(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let a=i.parent;for(;null!==a&&8&a.type&&a.index!==o;)a=a.parent;return o===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(i,o){const a=this.metadata.predicate;if(Array.isArray(a))for(let u=0;u<a.length;u++){const h=a[u];this.matchTNodeWithReadOption(i,o,UI(o,h)),this.matchTNodeWithReadOption(i,o,Xa(o,i,h,!1,!1))}else a===Lg?4&o.type&&this.matchTNodeWithReadOption(i,o,-1):this.matchTNodeWithReadOption(i,o,Xa(o,i,a,!1,!1))}matchTNodeWithReadOption(i,o,a){if(null!==a){const u=this.metadata.read;if(null!==u)if(u===_d||u===Mv||u===Lg&&4&o.type)this.addMatch(o.index,-2);else{const h=Xa(o,i,u,!1,!1);null!==h&&this.addMatch(o.index,h)}else this.addMatch(o.index,a)}}addMatch(i,o){null===this.matches?this.matches=[i,o]:this.matches.push(i,o)}}function UI(t,i){const o=t.localNames;if(null!==o)for(let a=0;a<o.length;a+=2)if(o[a]===i)return o[a+1];return null}function jI(t,i,o,a){return-1===o?function BI(t,i){return 11&t.type?Zu(t,i):4&t.type?Xd(t,i):null}(i,t):-2===o?function HI(t,i,o){return o===_d?Zu(i,t):o===Lg?Xd(i,t):o===Mv?pb(i,t):void 0}(t,i,a):Br(t,t[Fe],o,i)}function Nv(t,i,o,a){const u=i[hr].queries[a];if(null===u.matches){const h=t.data,m=o.matches,y=[];for(let C=0;C<m.length;C+=2){const T=m[C];y.push(T<0?null:jI(i,h[T],m[C+1],o.metadata.read))}u.matches=y}return u.matches}function Hg(t,i,o,a){const u=t.queries.getByIndex(o),h=u.matches;if(null!==h){const m=Nv(t,i,u,o);for(let y=0;y<h.length;y+=2){const C=h[y];if(C>0)a.push(m[y/2]);else{const T=h[y+1],A=i[-C];for(let x=An;x<A.length;x++){const G=A[x];G[to]===G[Ht]&&Hg(G[Fe],G,T,a)}if(null!==A[Ti]){const x=A[Ti];for(let G=0;G<x.length;G++){const q=x[G];Hg(q[Fe],q,T,a)}}}}}return a}function vb(t){const i=Ce(),o=_t(),a=Dh();Za(a+1);const u=WI(o,a);if(t.dirty&&function lo(t){return 4==(4&t[mt])}(i)===(2==(2&u.metadata.flags))){if(null===u.matches)t.reset([]);else{const h=u.crossesNgTemplate?Hg(o,i,a,[]):Nv(o,i,u,a);t.reset(h,cE),t.notifyOnChanges()}return!0}return!1}function $I(t,i,o,a){const u=_t();if(u.firstCreatePass){const h=yn();(function xv(t,i,o){null===t.queries&&(t.queries=new Bg),t.queries.track(new jg(i,o))})(u,new VI(i,o,a),h.index),function Rf(t,i){const o=t.contentQueries||(t.contentQueries=[]);i!==(o.length?o[o.length-1]:-1)&&o.push(t.queries.length-1,i)}(u,t),2==(2&o)&&(u.staticContentQueries=!0)}!function Pv(t,i,o){const a=new Fg(4==(4&o));(function wd(t,i,o,a){const u=Lp(i);u.push(o),t.firstCreatePass&&UE(t).push(a,u.length-1)})(t,i,a,a.destroy),null===i[hr]&&(i[hr]=new Rv),i[hr].queries.push(new LI(a))}(u,Ce(),o)}function Ov(){return function GI(t,i){return t[hr].queries[i].queryList}(Ce(),Dh())}function WI(t,i){return t.queries.getByIndex(i)}function kv(t){return!!cr(t)}const xb=new qe("Application Initializer");let Wg=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((o,a)=>{this.resolve=o,this.reject=a}),this.appInits=ht(xb,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const o=[];for(const u of this.appInits){const h=u();if(uc(h))o.push(h);else if(dC(h)){const m=new Promise((y,C)=>{h.subscribe({complete:y,error:C})});o.push(m)}}const a=()=>{this.done=!0,this.resolve()};Promise.all(o).then(()=>{a()}).catch(u=>{this.reject(u)}),0===o.length&&a(),this.initialized=!0}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=pt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),aD=(()=>{class t{log(o){console.log(o)}warn(o){console.warn(o)}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=pt({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const mc=new qe("LocaleId",{providedIn:"root",factory:()=>ht(mc,nt.Optional|nt.SkipSelf)||function Yv(){return typeof $localize<"u"&&$localize.locale||Zd}()}),kb=new qe("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let Fb=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ne.X(!1)}add(){this.hasPendingTasks.next(!0);const o=this.taskId++;return this.pendingTasks.add(o),o}remove(o){this.pendingTasks.delete(o),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=pt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class SS{constructor(i,o){this.ngModuleFactory=i,this.componentFactories=o}}let AS=(()=>{class t{compileModuleSync(o){return new Yd(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const a=this.compileModuleSync(o),h=Ao(cr(o).declarations).reduce((m,y)=>{const C=wt(y);return C&&m.push(new pa(C)),m},[]);return new SS(a,h)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=pt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const pD=new qe(""),qg=new qe("");let Qg,Yg=(()=>{class t{constructor(o,a,u){this._ngZone=o,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Qg||(function Ub(t){Qg=t}(u),u.addToWindow(a)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Dn.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(o)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,a,u){let h=-1;a&&a>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==h),o(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:o,timeoutId:h,updateCb:u})}whenStable(o,a,u){if(u&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,a,u),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,a,u){return[]}static#e=this.\u0275fac=function(a){return new(a||t)(kt(Dn),kt(gD),kt(qg))};static#t=this.\u0275prov=pt({token:t,factory:t.\u0275fac})}return t})(),gD=(()=>{class t{constructor(){this._applications=new Map}registerApplication(o,a){this._applications.set(o,a)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,a=!0){return Qg?.findTestabilityInTree(this,o,a)??null}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=pt({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),Sl=null;const ty=new qe("AllowMultipleToken"),ny=new qe("PlatformDestroyListeners"),mD=new qe("appBootstrapListener");class ry{constructor(i,o){this.name=i,this.token=o}}function $b(t,i,o=[]){const a=`Platform: ${i}`,u=new qe(a);return(h=[])=>{let m=Xg();if(!m||m.injector.get(ty,!1)){const y=[...o,...h,{provide:u,useValue:!0}];t?t(y):function Hb(t){if(Sl&&!Sl.get(ty,!1))throw new te(400,!1);(function jb(){!function Ba(t){Xl=t}(()=>{throw new te(600,!1)})})(),Sl=t;const i=t.get(iy);(function Jg(t){t.get(Um,null)?.forEach(o=>o())})(t)}(function sh(t=[],i){return Hs.create({name:i,providers:[{provide:km,useValue:"platform"},{provide:ny,useValue:new Set([()=>Sl=null])},...t]})}(y,a))}return function Gb(t){const i=Xg();if(!i)throw new te(401,!1);return i}()}}function Xg(){return Sl?.get(iy)??null}let iy=(()=>{class t{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,a){const u=function VS(t="zone.js",i){return"noop"===t?new Iw:"zone.js"===t?new Dn(i):t}(a?.ngZone,function sy(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:a?.ngZoneEventCoalescing,runCoalescing:a?.ngZoneRunCoalescing}));return u.run(()=>{const h=function pI(t,i,o){return new Mg(t,i,o)}(o.moduleType,this.injector,function ly(t){return[{provide:Dn,useFactory:t},{provide:hd,multi:!0,useFactory:()=>{const i=ht(CD,{optional:!0});return()=>i.initialize()}},{provide:zb,useFactory:Zb},{provide:r_,useFactory:CE}]}(()=>u)),m=h.injector.get(la,null);return u.runOutsideAngular(()=>{const y=u.onError.subscribe({next:C=>{m.handleError(C)}});h.onDestroy(()=>{ay(this._modules,h),y.unsubscribe()})}),function ED(t,i,o){try{const a=o();return uc(a)?a.catch(u=>{throw i.runOutsideAngular(()=>t.handleError(u)),u}):a}catch(a){throw i.runOutsideAngular(()=>t.handleError(a)),a}}(m,u,()=>{const y=h.injector.get(Wg);return y.runInitializers(),y.donePromise.then(()=>(function GC(t){We(t,"Expected localeId to be defined"),"string"==typeof t&&($C=t.toLowerCase().replace(/_/g,"-"))}(h.injector.get(mc,Zd)||Zd),this._moduleDoBootstrap(h),h))})})}bootstrapModule(o,a=[]){const u=oy({},a);return function Bb(t,i,o){const a=new Yd(o);return Promise.resolve(a)}(0,0,o).then(h=>this.bootstrapModuleFactory(h,u))}_moduleDoBootstrap(o){const a=o.injector.get(Lf);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(u=>a.bootstrap(u));else{if(!o.instance.ngDoBootstrap)throw new te(-403,!1);o.instance.ngDoBootstrap(a)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new te(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const o=this._injector.get(ny,null);o&&(o.forEach(a=>a()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(a){return new(a||t)(kt(Hs))};static#t=this.\u0275prov=pt({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function oy(t,i){return Array.isArray(i)?i.reduce(oy,t):{...t,...i}}let Lf=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ht(zb),this.zoneIsStable=ht(r_),this.componentTypes=[],this.components=[],this.isStable=ht(Fb).hasPendingTasks.pipe((0,Se.w)(o=>o?(0,ue.of)(!1):this.zoneIsStable),(0,le.x)(),(0,de.B)()),this._injector=ht(To)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(o,a){const u=o instanceof aE;if(!this._injector.get(Wg).done)throw!u&&Wi(o),new te(405,!1);let m;m=u?o:this._injector.get(Zh).resolveComponentFactory(o),this.componentTypes.push(m.componentType);const y=function FS(t){return t.isBoundToModule}(m)?void 0:this._injector.get(Tl),T=m.create(Hs.NULL,[],a||m.selector,y),A=T.location.nativeElement,x=T.injector.get(pD,null);return x?.registerApplication(A),T.onDestroy(()=>{this.detachView(T.hostView),ay(this.components,T),x?.unregisterApplication(A)}),this._loadComponent(T),T}tick(){if(this._runningTick)throw new te(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1}}attachView(o){const a=o;this._views.push(a),a.attachToAppRef(this)}detachView(o){const a=o;ay(this._views,a),a.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const a=this._injector.get(mD,[]);a.push(...this._bootstrapListeners),a.forEach(u=>u(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>ay(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new te(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=pt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ay(t,i){const o=t.indexOf(i);o>-1&&t.splice(o,1)}const zb=new qe("",{providedIn:"root",factory:()=>ht(la).handleError.bind(void 0)});function Zb(){const t=ht(Dn),i=ht(la);return o=>t.runOutsideAngular(()=>i.handleError(o))}let CD=(()=>{class t{constructor(){this.zone=ht(Dn),this.applicationRef=ht(Lf)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=pt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Kb(){return!1}let ID=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=Qb}return t})();function Qb(t){return function DD(t,i,o){if(Zn(t)&&!o){const a=Sr(t.index,i);return new ha(a,a)}return 47&t.type?new ha(i[vn],i):null}(yn(),Ce(),16==(16&t))}class bD{constructor(){}supports(i){return Wp(i)}create(i){return new py(i)}}const zS=(t,i)=>i;class py{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||zS}forEachItem(i){let o;for(o=this._itHead;null!==o;o=o._next)i(o)}forEachOperation(i){let o=this._itHead,a=this._removalsHead,u=0,h=null;for(;o||a;){const m=!a||o&&o.currentIndex<Al(a,u,h)?o:a,y=Al(m,u,h),C=m.currentIndex;if(m===a)u--,a=a._nextRemoved;else if(o=o._next,null==m.previousIndex)u++;else{h||(h=[]);const T=y-u,A=C-u;if(T!=A){for(let G=0;G<T;G++){const q=G<h.length?h[G]:h[G]=0,ge=q+G;A<=ge&&ge<T&&(h[G]=q+1)}h[m.previousIndex]=A-T}}y!==C&&i(m,y,C)}}forEachPreviousItem(i){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachMovedItem(i){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}forEachIdentityChange(i){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)i(o)}diff(i){if(null==i&&(i=[]),!Wp(i))throw new te(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let u,h,m,o=this._itHead,a=!1;if(Array.isArray(i)){this.length=i.length;for(let y=0;y<this.length;y++)h=i[y],m=this._trackByFn(y,h),null!==o&&Object.is(o.trackById,m)?(a&&(o=this._verifyReinsertion(o,h,m,y)),Object.is(o.item,h)||this._addIdentityChange(o,h)):(o=this._mismatch(o,h,m,y),a=!0),o=o._next}else u=0,function Vw(t,i){if(Array.isArray(t))for(let o=0;o<t.length;o++)i(t[o]);else{const o=t[Symbol.iterator]();let a;for(;!(a=o.next()).done;)i(a.value)}}(i,y=>{m=this._trackByFn(u,y),null!==o&&Object.is(o.trackById,m)?(a&&(o=this._verifyReinsertion(o,y,m,u)),Object.is(o.item,y)||this._addIdentityChange(o,y)):(o=this._mismatch(o,y,m,u),a=!0),o=o._next,u++}),this.length=u;return this._truncate(o),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,o,a,u){let h;return null===i?h=this._itTail:(h=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._reinsertAfter(i,h,u)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(a,u))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._moveAfter(i,h,u)):i=this._addAfter(new sT(o,a),h,u),i}_verifyReinsertion(i,o,a,u){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==h?i=this._reinsertAfter(h,i._prev,u):i.currentIndex!=u&&(i.currentIndex=u,this._addToMoves(i,u)),i}_truncate(i){for(;null!==i;){const o=i._next;this._addToRemovals(this._unlink(i)),i=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,o,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const u=i._prevRemoved,h=i._nextRemoved;return null===u?this._removalsHead=h:u._nextRemoved=h,null===h?this._removalsTail=u:h._prevRemoved=u,this._insertAfter(i,o,a),this._addToMoves(i,a),i}_moveAfter(i,o,a){return this._unlink(i),this._insertAfter(i,o,a),this._addToMoves(i,a),i}_addAfter(i,o,a){return this._insertAfter(i,o,a),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,o,a){const u=null===o?this._itHead:o._next;return i._next=u,i._prev=o,null===u?this._itTail=i:u._prev=i,null===o?this._itHead=i:o._next=i,null===this._linkedRecords&&(this._linkedRecords=new gy),this._linkedRecords.put(i),i.currentIndex=a,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const o=i._prev,a=i._next;return null===o?this._itHead=a:o._next=a,null===a?this._itTail=o:a._prev=o,i}_addToMoves(i,o){return i.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new gy),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,o){return i.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class sT{constructor(i,o){this.item=i,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class TD{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,o){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===o||o<=a.currentIndex)&&Object.is(a.trackById,i))return a;return null}remove(i){const o=i._prevDup,a=i._nextDup;return null===o?this._head=a:o._nextDup=a,null===a?this._tail=o:a._prevDup=o,null===this._head}}class gy{constructor(){this.map=new Map}put(i){const o=i.trackById;let a=this.map.get(o);a||(a=new TD,this.map.set(o,a)),a.add(i)}get(i,o){const u=this.map.get(i);return u?u.get(i,o):null}remove(i){const o=i.trackById;return this.map.get(o).remove(i)&&this.map.delete(o),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Al(t,i,o){const a=t.previousIndex;if(null===a)return a;let u=0;return o&&a<o.length&&(u=o[a]),a+i+u}class SD{constructor(){}supports(i){return i instanceof Map||zp(i)}create(){return new AD}}class AD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let o;for(o=this._mapHead;null!==o;o=o._next)i(o)}forEachPreviousItem(i){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)i(o)}forEachChangedItem(i){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}diff(i){if(i){if(!(i instanceof Map||zp(i)))throw new te(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(i,(a,u)=>{if(o&&o.key===u)this._maybeAddToChanges(o,a),this._appendAfter=o,o=o._next;else{const h=this._getOrCreateRecordForKey(u,a);o=this._insertBeforeOrAppend(o,h)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let a=o;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,o){if(i){const a=i._prev;return o._next=i,o._prev=a,i._prev=o,a&&(a._next=o),i===this._mapHead&&(this._mapHead=o),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(i,o){if(this._records.has(i)){const u=this._records.get(i);this._maybeAddToChanges(u,o);const h=u._prev,m=u._next;return h&&(h._next=m),m&&(m._prev=h),u._next=null,u._prev=null,u}const a=new oT(i);return this._records.set(i,a),a.currentValue=o,this._addToAdditions(a),a}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,o){Object.is(o,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=o,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,o){i instanceof Map?i.forEach(o):Object.keys(i).forEach(a=>o(i[a],a))}}class oT{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function my(){return new _y([new bD])}let _y=(()=>{class t{static#e=this.\u0275prov=pt({token:t,providedIn:"root",factory:my});constructor(o){this.factories=o}static create(o,a){if(null!=a){const u=a.factories.slice();o=o.concat(u)}return new t(o)}static extend(o){return{provide:t,useFactory:a=>t.create(o,a||my()),deps:[[t,new Qc,new Yc]]}}find(o){const a=this.factories.find(u=>u.supports(o));if(null!=a)return a;throw new te(901,!1)}}return t})();function nm(){return new rm([new SD])}let rm=(()=>{class t{static#e=this.\u0275prov=pt({token:t,providedIn:"root",factory:nm});constructor(o){this.factories=o}static create(o,a){if(a){const u=a.factories.slice();o=o.concat(u)}return new t(o)}static extend(o){return{provide:t,useFactory:a=>t.create(o,a||nm()),deps:[[t,new Qc,new Yc]]}}find(o){const a=this.factories.find(u=>u.supports(o));if(a)return a;throw new te(901,!1)}}return t})();const uT=$b(null,"core",[]);let RD=(()=>{class t{constructor(o){}static#e=this.\u0275fac=function(a){return new(a||t)(kt(Lf))};static#t=this.\u0275mod=Ra({type:t});static#n=this.\u0275inj=Yt({})}return t})();function r(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function we(t){const i=wt(t);if(!i)return null;const o=new pa(i);return{get selector(){return o.selector},get type(){return o.componentType},get inputs(){return o.inputs},get outputs(){return o.outputs},get ngContentSelectors(){return o.ngContentSelectors},get isStandalone(){return i.standalone},get isSignal(){return i.signals}}}},3106:(Qe,ve,O)=>{O.d(ve,{Z:()=>Be});var p=O(9058),Q=O(4537),P=O(534),X=O(7879);class ne{constructor(Le,Re){this._delegate=Le,this.firebase=Re,(0,P._addComponent)(Le,new Q.wA("app-compat",()=>this,"PUBLIC")),this.container=Le.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Le){this._delegate.automaticDataCollectionEnabled=Le}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Le=>{this._delegate.checkDestroyed(),Le()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,P.deleteApp)(this._delegate)))}_getService(Le,Re=P._DEFAULT_ENTRY_NAME){var rt;this._delegate.checkDestroyed();const Je=this._delegate.container.getProvider(Le);return!Je.isInitialized()&&"EXPLICIT"===(null===(rt=Je.getComponent())||void 0===rt?void 0:rt.instantiationMode)&&Je.initialize(),Je.getImmediate({identifier:Re})}_removeServiceInstance(Le,Re=P._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Le).clearInstance(Re)}_addComponent(Le){(0,P._addComponent)(this._delegate,Le)}_addOrOverwriteComponent(Le){(0,P._addOrOverwriteComponent)(this._delegate,Le)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const de=new p.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),F=function le(){const Te=function Se(Te){const Le={},Re={__esModule:!0,initializeApp:function te(Me,Ue={}){const ie=P.initializeApp(Me,Ue);if((0,p.r3)(Le,ie.name))return Le[ie.name];const ot=new Te(ie,Re);return Le[ie.name]=ot,ot},app:Je,registerVersion:P.registerVersion,setLogLevel:P.setLogLevel,onLog:P.onLog,apps:null,SDK_VERSION:P.SDK_VERSION,INTERNAL:{registerComponent:function ee(Me){const Ue=Me.name,ie=Ue.replace("-compat","");if(P._registerComponent(Me)&&"PUBLIC"===Me.type){const ot=(Ct=Je())=>{if("function"!=typeof Ct[ie])throw de.create("invalid-app-argument",{appName:Ue});return Ct[ie]()};void 0!==Me.serviceProps&&(0,p.ZB)(ot,Me.serviceProps),Re[ie]=ot,Te.prototype[ie]=function(...Ct){return this._getService.bind(this,Ue).apply(this,Me.multipleInstances?Ct:[])}}return"PUBLIC"===Me.type?Re[ie]:null},removeApp:function rt(Me){delete Le[Me]},useAsService:function ye(Me,Ue){return"serverAuth"===Ue?null:Ue},modularAPIs:P}};function Je(Me){if(!(0,p.r3)(Le,Me=Me||P._DEFAULT_ENTRY_NAME))throw de.create("no-app",{appName:Me});return Le[Me]}return Re.default=Re,Object.defineProperty(Re,"apps",{get:function he(){return Object.keys(Le).map(Me=>Le[Me])}}),Je.App=Te,Re}(ne);return Te.INTERNAL=Object.assign(Object.assign({},Te.INTERNAL),{createFirebaseNamespace:le,extendNamespace:function Le(Re){(0,p.ZB)(Te,Re)},createSubscribe:p.ne,ErrorFactory:p.LL,deepExtend:p.ZB}),Te}(),H=new X.Yd("@firebase/app-compat");if((0,p.jU)()&&void 0!==self.firebase){H.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Te=self.firebase.SDK_VERSION;Te&&Te.indexOf("LITE")>=0&&H.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Be=F;!function Ie(Te){(0,P.registerVersion)("@firebase/app-compat","0.2.13",Te)}()},534:(Qe,ve,O)=>{O.r(ve),O.d(ve,{FirebaseError:()=>X.ZR,SDK_VERSION:()=>ii,_DEFAULT_ENTRY_NAME:()=>nt,_addComponent:()=>en,_addOrOverwriteComponent:()=>or,_apps:()=>ct,_clearComponents:()=>qe,_components:()=>Gt,_getProvider:()=>xn,_registerComponent:()=>Vt,_removeServiceInstance:()=>Qs,deleteApp:()=>Wr,getApp:()=>Xn,getApps:()=>$i,initializeApp:()=>Js,onLog:()=>Ci,registerVersion:()=>Sn,setLogLevel:()=>rn});var p=O(5861),Q=O(4537),P=O(7879),X=O(9058);const ne=(ce,J)=>J.some(Ae=>ce instanceof Ae);let ue,de;const F=new WeakMap,H=new WeakMap,Y=new WeakMap,Ne=new WeakMap,Ie=new WeakMap;let Le={get(ce,J,Ae){if(ce instanceof IDBTransaction){if("done"===J)return H.get(ce);if("objectStoreNames"===J)return ce.objectStoreNames||Y.get(ce);if("store"===J)return Ae.objectStoreNames[1]?void 0:Ae.objectStore(Ae.objectStoreNames[0])}return te(ce[J])},set:(ce,J,Ae)=>(ce[J]=Ae,!0),has:(ce,J)=>ce instanceof IDBTransaction&&("done"===J||"store"===J)||J in ce};function Je(ce){return"function"==typeof ce?function rt(ce){return ce!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function le(){return de||(de=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ce)?function(...J){return ce.apply(he(this),J),te(F.get(this))}:function(...J){return te(ce.apply(he(this),J))}:function(J,...Ae){const Ke=ce.call(he(this),J,...Ae);return Y.set(Ke,J.sort?J.sort():[J]),te(Ke)}}(ce):(ce instanceof IDBTransaction&&function Te(ce){if(H.has(ce))return;const J=new Promise((Ae,Ke)=>{const Xe=()=>{ce.removeEventListener("complete",He),ce.removeEventListener("error",Rt),ce.removeEventListener("abort",Rt)},He=()=>{Ae(),Xe()},Rt=()=>{Ke(ce.error||new DOMException("AbortError","AbortError")),Xe()};ce.addEventListener("complete",He),ce.addEventListener("error",Rt),ce.addEventListener("abort",Rt)});H.set(ce,J)}(ce),ne(ce,function Se(){return ue||(ue=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ce,Le):ce)}function te(ce){if(ce instanceof IDBRequest)return function Be(ce){const J=new Promise((Ae,Ke)=>{const Xe=()=>{ce.removeEventListener("success",He),ce.removeEventListener("error",Rt)},He=()=>{Ae(te(ce.result)),Xe()},Rt=()=>{Ke(ce.error),Xe()};ce.addEventListener("success",He),ce.addEventListener("error",Rt)});return J.then(Ae=>{Ae instanceof IDBCursor&&F.set(Ae,ce)}).catch(()=>{}),Ie.set(J,ce),J}(ce);if(Ne.has(ce))return Ne.get(ce);const J=Je(ce);return J!==ce&&(Ne.set(ce,J),Ie.set(J,ce)),J}const he=ce=>Ie.get(ce),Me=["get","getKey","getAll","getAllKeys","count"],Ue=["put","add","delete","clear"],ie=new Map;function ot(ce,J){if(!(ce instanceof IDBDatabase)||J in ce||"string"!=typeof J)return;if(ie.get(J))return ie.get(J);const Ae=J.replace(/FromIndex$/,""),Ke=J!==Ae,Xe=Ue.includes(Ae);if(!(Ae in(Ke?IDBIndex:IDBObjectStore).prototype)||!Xe&&!Me.includes(Ae))return;const He=function(){var Rt=(0,p.Z)(function*(gn,...ln){const si=this.transaction(gn,Xe?"readwrite":"readonly");let ur=si.store;return Ke&&(ur=ur.index(ln.shift())),(yield Promise.all([ur[Ae](...ln),Xe&&si.done]))[0]});return function(ln){return Rt.apply(this,arguments)}}();return ie.set(J,He),He}!function Re(ce){Le=ce(Le)}(ce=>({...ce,get:(J,Ae,Ke)=>ot(J,Ae)||ce.get(J,Ae,Ke),has:(J,Ae)=>!!ot(J,Ae)||ce.has(J,Ae)}));class Ct{constructor(J){this.container=J}getPlatformInfoString(){return this.container.getProviders().map(Ae=>{if(function Pn(ce){const J=ce.getComponent();return"VERSION"===J?.type}(Ae)){const Ke=Ae.getImmediate();return`${Ke.library}/${Ke.version}`}return null}).filter(Ae=>Ae).join(" ")}}const sr="@firebase/app",fn=new P.Yd("@firebase/app"),nt="[DEFAULT]",It={[sr]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ct=new Map,Gt=new Map;function en(ce,J){try{ce.container.addComponent(J)}catch(Ae){fn.debug(`Component ${J.name} failed to register with FirebaseApp ${ce.name}`,Ae)}}function or(ce,J){ce.container.addOrOverwriteComponent(J)}function Vt(ce){const J=ce.name;if(Gt.has(J))return fn.debug(`There were multiple attempts to register component ${J}.`),!1;Gt.set(J,ce);for(const Ae of ct.values())en(Ae,ce);return!0}function xn(ce,J){const Ae=ce.container.getProvider("heartbeat").getImmediate({optional:!0});return Ae&&Ae.triggerHeartbeat(),ce.container.getProvider(J)}function Qs(ce,J,Ae=nt){xn(ce,J).clearInstance(Ae)}function qe(){Gt.clear()}const vt=new X.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Ei{constructor(J,Ae,Ke){this._isDeleted=!1,this._options=Object.assign({},J),this._config=Object.assign({},Ae),this._name=Ae.name,this._automaticDataCollectionEnabled=Ae.automaticDataCollectionEnabled,this._container=Ke,this.container.addComponent(new Q.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(J){this.checkDestroyed(),this._automaticDataCollectionEnabled=J}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(J){this._isDeleted=J}checkDestroyed(){if(this.isDeleted)throw vt.create("app-deleted",{appName:this._name})}}const ii="9.23.0";function Js(ce,J={}){let Ae=ce;"object"!=typeof J&&(J={name:J});const Ke=Object.assign({name:nt,automaticDataCollectionEnabled:!1},J),Xe=Ke.name;if("string"!=typeof Xe||!Xe)throw vt.create("bad-app-name",{appName:String(Xe)});if(Ae||(Ae=(0,X.aH)()),!Ae)throw vt.create("no-options");const He=ct.get(Xe);if(He){if((0,X.vZ)(Ae,He.options)&&(0,X.vZ)(Ke,He.config))return He;throw vt.create("duplicate-app",{appName:Xe})}const Rt=new Q.H0(Xe);for(const ln of Gt.values())Rt.addComponent(ln);const gn=new Ei(Ae,Ke,Rt);return ct.set(Xe,gn),gn}function Xn(ce=nt){const J=ct.get(ce);if(!J&&ce===nt&&(0,X.aH)())return Js();if(!J)throw vt.create("no-app",{appName:ce});return J}function $i(){return Array.from(ct.values())}function Wr(ce){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,p.Z)(function*(ce){const J=ce.name;ct.has(J)&&(ct.delete(J),yield Promise.all(ce.container.getProviders().map(Ae=>Ae.delete())),ce.isDeleted=!0)})).apply(this,arguments)}function Sn(ce,J,Ae){var Ke;let Xe=null!==(Ke=It[ce])&&void 0!==Ke?Ke:ce;Ae&&(Xe+=`-${Ae}`);const He=Xe.match(/\s|\//),Rt=J.match(/\s|\//);if(He||Rt){const gn=[`Unable to register library "${Xe}" with version "${J}":`];return He&&gn.push(`library name "${Xe}" contains illegal characters (whitespace or "/")`),He&&Rt&&gn.push("and"),Rt&&gn.push(`version name "${J}" contains illegal characters (whitespace or "/")`),void fn.warn(gn.join(" "))}Vt(new Q.wA(`${Xe}-version`,()=>({library:Xe,version:J}),"VERSION"))}function Ci(ce,J){if(null!==ce&&"function"!=typeof ce)throw vt.create("invalid-log-argument");(0,P.Am)(ce,J)}function rn(ce){(0,P.Ub)(ce)}const zr="firebase-heartbeat-database",er=1,U="firebase-heartbeat-store";let L=null;function W(){return L||(L=function ee(ce,J,{blocked:Ae,upgrade:Ke,blocking:Xe,terminated:He}={}){const Rt=indexedDB.open(ce,J),gn=te(Rt);return Ke&&Rt.addEventListener("upgradeneeded",ln=>{Ke(te(Rt.result),ln.oldVersion,ln.newVersion,te(Rt.transaction),ln)}),Ae&&Rt.addEventListener("blocked",ln=>Ae(ln.oldVersion,ln.newVersion,ln)),gn.then(ln=>{He&&ln.addEventListener("close",()=>He()),Xe&&ln.addEventListener("versionchange",si=>Xe(si.oldVersion,si.newVersion,si))}).catch(()=>{}),gn}(zr,er,{upgrade:(ce,J)=>{0===J&&ce.createObjectStore(U)}}).catch(ce=>{throw vt.create("idb-open",{originalErrorMessage:ce.message})})),L}function re(){return(re=(0,p.Z)(function*(ce){try{return yield(yield W()).transaction(U).objectStore(U).get(Mt(ce))}catch(J){if(J instanceof X.ZR)fn.warn(J.message);else{const Ae=vt.create("idb-get",{originalErrorMessage:J?.message});fn.warn(Ae.message)}}})).apply(this,arguments)}function ze(ce,J){return it.apply(this,arguments)}function it(){return(it=(0,p.Z)(function*(ce,J){try{const Ke=(yield W()).transaction(U,"readwrite");yield Ke.objectStore(U).put(J,Mt(ce)),yield Ke.done}catch(Ae){if(Ae instanceof X.ZR)fn.warn(Ae.message);else{const Ke=vt.create("idb-set",{originalErrorMessage:Ae?.message});fn.warn(Ke.message)}}})).apply(this,arguments)}function Mt(ce){return`${ce.name}!${ce.options.appId}`}class ht{constructor(J){this.container=J,this._heartbeatsCache=null;const Ae=this.container.getProvider("app").getImmediate();this._storage=new lr(Ae),this._heartbeatsCachePromise=this._storage.read().then(Ke=>(this._heartbeatsCache=Ke,Ke))}triggerHeartbeat(){var J=this;return(0,p.Z)(function*(){const Ke=J.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Xe=Tt();if(null===J._heartbeatsCache&&(J._heartbeatsCache=yield J._heartbeatsCachePromise),J._heartbeatsCache.lastSentHeartbeatDate!==Xe&&!J._heartbeatsCache.heartbeats.some(He=>He.date===Xe))return J._heartbeatsCache.heartbeats.push({date:Xe,agent:Ke}),J._heartbeatsCache.heartbeats=J._heartbeatsCache.heartbeats.filter(He=>{const Rt=new Date(He.date).valueOf();return Date.now()-Rt<=2592e6}),J._storage.overwrite(J._heartbeatsCache)})()}getHeartbeatsHeader(){var J=this;return(0,p.Z)(function*(){if(null===J._heartbeatsCache&&(yield J._heartbeatsCachePromise),null===J._heartbeatsCache||0===J._heartbeatsCache.heartbeats.length)return"";const Ae=Tt(),{heartbeatsToSend:Ke,unsentEntries:Xe}=function kn(ce,J=1024){const Ae=[];let Ke=ce.slice();for(const Xe of ce){const He=Ae.find(Rt=>Rt.agent===Xe.agent);if(He){if(He.dates.push(Xe.date),Ii(Ae)>J){He.dates.pop();break}}else if(Ae.push({agent:Xe.agent,dates:[Xe.date]}),Ii(Ae)>J){Ae.pop();break}Ke=Ke.slice(1)}return{heartbeatsToSend:Ae,unsentEntries:Ke}}(J._heartbeatsCache.heartbeats),He=(0,X.L)(JSON.stringify({version:2,heartbeats:Ke}));return J._heartbeatsCache.lastSentHeartbeatDate=Ae,Xe.length>0?(J._heartbeatsCache.heartbeats=Xe,yield J._storage.overwrite(J._heartbeatsCache)):(J._heartbeatsCache.heartbeats=[],J._storage.overwrite(J._heartbeatsCache)),He})()}}function Tt(){return(new Date).toISOString().substring(0,10)}class lr{constructor(J){this.app=J,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,p.Z)(function*(){return!!(0,X.hl)()&&(0,X.eu)().then(()=>!0).catch(()=>!1)})()}read(){var J=this;return(0,p.Z)(function*(){return(yield J._canUseIndexedDBPromise)&&(yield function _e(ce){return re.apply(this,arguments)}(J.app))||{heartbeats:[]}})()}overwrite(J){var Ae=this;return(0,p.Z)(function*(){var Ke;if(yield Ae._canUseIndexedDBPromise){const He=yield Ae.read();return ze(Ae.app,{lastSentHeartbeatDate:null!==(Ke=J.lastSentHeartbeatDate)&&void 0!==Ke?Ke:He.lastSentHeartbeatDate,heartbeats:J.heartbeats})}})()}add(J){var Ae=this;return(0,p.Z)(function*(){var Ke;if(yield Ae._canUseIndexedDBPromise){const He=yield Ae.read();return ze(Ae.app,{lastSentHeartbeatDate:null!==(Ke=J.lastSentHeartbeatDate)&&void 0!==Ke?Ke:He.lastSentHeartbeatDate,heartbeats:[...He.heartbeats,...J.heartbeats]})}})()}}function Ii(ce){return(0,X.L)(JSON.stringify({version:2,heartbeats:ce})).length}!function Po(ce){Vt(new Q.wA("platform-logger",J=>new Ct(J),"PRIVATE")),Vt(new Q.wA("heartbeat",J=>new ht(J),"PRIVATE")),Sn(sr,"0.9.13",ce),Sn(sr,"0.9.13","esm2017"),Sn("fire-js","")}("")},4537:(Qe,ve,O)=>{O.d(ve,{H0:()=>Se,wA:()=>P,zt:()=>ne});var p=O(5861),Q=O(9058);class P{constructor(F,H,Y){this.name=F,this.instanceFactory=H,this.type=Y,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(F){return this.instantiationMode=F,this}setMultipleInstances(F){return this.multipleInstances=F,this}setServiceProps(F){return this.serviceProps=F,this}setInstanceCreatedCallback(F){return this.onInstanceCreated=F,this}}const X="[DEFAULT]";class ne{constructor(F,H){this.name=F,this.container=H,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(F){const H=this.normalizeInstanceIdentifier(F);if(!this.instancesDeferred.has(H)){const Y=new Q.BH;if(this.instancesDeferred.set(H,Y),this.isInitialized(H)||this.shouldAutoInitialize())try{const Ne=this.getOrInitializeService({instanceIdentifier:H});Ne&&Y.resolve(Ne)}catch{}}return this.instancesDeferred.get(H).promise}getImmediate(F){var H;const Y=this.normalizeInstanceIdentifier(F?.identifier),Ne=null!==(H=F?.optional)&&void 0!==H&&H;if(!this.isInitialized(Y)&&!this.shouldAutoInitialize()){if(Ne)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Y})}catch(Ie){if(Ne)return null;throw Ie}}getComponent(){return this.component}setComponent(F){if(F.name!==this.name)throw Error(`Mismatching Component ${F.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=F,this.shouldAutoInitialize()){if(function de(le){return"EAGER"===le.instantiationMode}(F))try{this.getOrInitializeService({instanceIdentifier:X})}catch{}for(const[H,Y]of this.instancesDeferred.entries()){const Ne=this.normalizeInstanceIdentifier(H);try{const Ie=this.getOrInitializeService({instanceIdentifier:Ne});Y.resolve(Ie)}catch{}}}}clearInstance(F=X){this.instancesDeferred.delete(F),this.instancesOptions.delete(F),this.instances.delete(F)}delete(){var F=this;return(0,p.Z)(function*(){const H=Array.from(F.instances.values());yield Promise.all([...H.filter(Y=>"INTERNAL"in Y).map(Y=>Y.INTERNAL.delete()),...H.filter(Y=>"_delete"in Y).map(Y=>Y._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(F=X){return this.instances.has(F)}getOptions(F=X){return this.instancesOptions.get(F)||{}}initialize(F={}){const{options:H={}}=F,Y=this.normalizeInstanceIdentifier(F.instanceIdentifier);if(this.isInitialized(Y))throw Error(`${this.name}(${Y}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ne=this.getOrInitializeService({instanceIdentifier:Y,options:H});for(const[Ie,Be]of this.instancesDeferred.entries())Y===this.normalizeInstanceIdentifier(Ie)&&Be.resolve(Ne);return Ne}onInit(F,H){var Y;const Ne=this.normalizeInstanceIdentifier(H),Ie=null!==(Y=this.onInitCallbacks.get(Ne))&&void 0!==Y?Y:new Set;Ie.add(F),this.onInitCallbacks.set(Ne,Ie);const Be=this.instances.get(Ne);return Be&&F(Be,Ne),()=>{Ie.delete(F)}}invokeOnInitCallbacks(F,H){const Y=this.onInitCallbacks.get(H);if(Y)for(const Ne of Y)try{Ne(F,H)}catch{}}getOrInitializeService({instanceIdentifier:F,options:H={}}){let Y=this.instances.get(F);if(!Y&&this.component&&(Y=this.component.instanceFactory(this.container,{instanceIdentifier:(le=F,le===X?void 0:le),options:H}),this.instances.set(F,Y),this.instancesOptions.set(F,H),this.invokeOnInitCallbacks(Y,F),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,F,Y)}catch{}var le;return Y||null}normalizeInstanceIdentifier(F=X){return this.component?this.component.multipleInstances?F:X:F}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Se{constructor(F){this.name=F,this.providers=new Map}addComponent(F){const H=this.getProvider(F.name);if(H.isComponentSet())throw new Error(`Component ${F.name} has already been registered with ${this.name}`);H.setComponent(F)}addOrOverwriteComponent(F){this.getProvider(F.name).isComponentSet()&&this.providers.delete(F.name),this.addComponent(F)}getProvider(F){if(this.providers.has(F))return this.providers.get(F);const H=new ne(F,this);return this.providers.set(F,H),H}getProviders(){return Array.from(this.providers.values())}}},7879:(Qe,ve,O)=>{O.d(ve,{Am:()=>le,Ub:()=>Se,Yd:()=>de,in:()=>Q});const p=[];var Q=function(F){return F[F.DEBUG=0]="DEBUG",F[F.VERBOSE=1]="VERBOSE",F[F.INFO=2]="INFO",F[F.WARN=3]="WARN",F[F.ERROR=4]="ERROR",F[F.SILENT=5]="SILENT",F}(Q||{});const P={debug:Q.DEBUG,verbose:Q.VERBOSE,info:Q.INFO,warn:Q.WARN,error:Q.ERROR,silent:Q.SILENT},X=Q.INFO,ne={[Q.DEBUG]:"log",[Q.VERBOSE]:"log",[Q.INFO]:"info",[Q.WARN]:"warn",[Q.ERROR]:"error"},ue=(F,H,...Y)=>{if(H<F.logLevel)return;const Ne=(new Date).toISOString(),Ie=ne[H];if(!Ie)throw new Error(`Attempted to log a message with an invalid logType (value: ${H})`);console[Ie](`[${Ne}]  ${F.name}:`,...Y)};class de{constructor(H){this.name=H,this._logLevel=X,this._logHandler=ue,this._userLogHandler=null,p.push(this)}get logLevel(){return this._logLevel}set logLevel(H){if(!(H in Q))throw new TypeError(`Invalid value "${H}" assigned to \`logLevel\``);this._logLevel=H}setLogLevel(H){this._logLevel="string"==typeof H?P[H]:H}get logHandler(){return this._logHandler}set logHandler(H){if("function"!=typeof H)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=H}get userLogHandler(){return this._userLogHandler}set userLogHandler(H){this._userLogHandler=H}debug(...H){this._userLogHandler&&this._userLogHandler(this,Q.DEBUG,...H),this._logHandler(this,Q.DEBUG,...H)}log(...H){this._userLogHandler&&this._userLogHandler(this,Q.VERBOSE,...H),this._logHandler(this,Q.VERBOSE,...H)}info(...H){this._userLogHandler&&this._userLogHandler(this,Q.INFO,...H),this._logHandler(this,Q.INFO,...H)}warn(...H){this._userLogHandler&&this._userLogHandler(this,Q.WARN,...H),this._logHandler(this,Q.WARN,...H)}error(...H){this._userLogHandler&&this._userLogHandler(this,Q.ERROR,...H),this._logHandler(this,Q.ERROR,...H)}}function Se(F){p.forEach(H=>{H.setLogLevel(F)})}function le(F,H){for(const Y of p){let Ne=null;H&&H.level&&(Ne=P[H.level]),Y.userLogHandler=null===F?null:(Ie,Be,...Te)=>{const Le=Te.map(Re=>{if(null==Re)return null;if("string"==typeof Re)return Re;if("number"==typeof Re||"boolean"==typeof Re)return Re.toString();if(Re instanceof Error)return Re.message;try{return JSON.stringify(Re)}catch{return null}}).filter(Re=>Re).join(" ");Be>=(Ne??Ie.logLevel)&&F({level:Q[Be].toLowerCase(),message:Le,args:Te,type:Ie.name})}}}},3182:(Qe,ve,O)=>{O.d(ve,{C6:()=>p.getApps,Mq:()=>p.getApp});var p=O(534);(0,p.registerVersion)("firebase","9.23.0","app")},7142:(Qe,ve,O)=>{O.d(ve,{Z:()=>p.Z});var p=O(3106);p.Z.registerVersion("firebase","9.23.0","app-compat")},5967:(Qe,ve,O)=>{O.r(ve);var p=O(5861),Q=O(3106),P=O(9058),X=O(534),ne=O(7582),ue=O(7879),de=O(4537);const le={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const Be=function Ne(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Te=function Ie(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Le=new P.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),rt=new ue.Yd("@firebase/auth");function te(_,...c){rt.logLevel<=ue.in.ERROR&&rt.error(`Auth (${X.SDK_VERSION}): ${_}`,...c)}function he(_,...c){throw Ue(_,...c)}function ee(_,...c){return Ue(_,...c)}function ye(_,c,f){const v=Object.assign(Object.assign({},Te()),{[c]:f});return new P.LL("auth","Firebase",v).create(c,{appName:_.name})}function Me(_,c,f){if(!(c instanceof f))throw f.name!==c.constructor.name&&he(_,"argument-error"),ye(_,"argument-error",`Type of ${c.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ue(_,...c){if("string"!=typeof _){const f=c[0],v=[...c.slice(1)];return v[0]&&(v[0].appName=_.name),_._errorFactory.create(f,...v)}return Le.create(_,...c)}function ie(_,c,...f){if(!_)throw Ue(c,...f)}function ot(_){const c="INTERNAL ASSERTION FAILED: "+_;throw te(c),new Error(c)}function Ct(_,c){_||ot(c)}function Pn(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function sr(){return"http:"===yi()||"https:"===yi()}function yi(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class Bi{constructor(c,f){this.shortDelay=c,this.longDelay=f,Ct(f>c,"Short delay should be less than long delay!"),this.isMobile=(0,P.uI)()||(0,P.b$)()}get(){return function fn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(sr()||(0,P.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function se(_,c){Ct(_.emulator,"Emulator should always be set here");const{url:f}=_.emulator;return c?`${f}${c.startsWith("/")?c.slice(1):c}`:f}class ae{static initialize(c,f,v){this.fetchImpl=c,f&&(this.headersImpl=f),v&&(this.responseImpl=v)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ot("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ot("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ot("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const fe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},pe=new Bi(3e4,6e4);function me(_,c){return _.tenantId&&!c.tenantId?Object.assign(Object.assign({},c),{tenantId:_.tenantId}):c}function Ee(_,c,f,v){return We.apply(this,arguments)}function We(){return(We=(0,p.Z)(function*(_,c,f,v,b={}){return ke(_,b,(0,p.Z)(function*(){let M={},B={};v&&("GET"===c?B=v:M={body:JSON.stringify(v)});const z=(0,P.xO)(Object.assign({key:_.config.apiKey},B)).slice(1),De=yield _._getAdditionalHeaders();return De["Content-Type"]="application/json",_.languageCode&&(De["X-Firebase-Locale"]=_.languageCode),ae.fetch()(pt(_,_.config.apiHost,f,z),Object.assign({method:c,headers:De,referrerPolicy:"no-referrer"},M))}))})).apply(this,arguments)}function ke(_,c,f){return nn.apply(this,arguments)}function nn(){return(nn=(0,p.Z)(function*(_,c,f){_._canInitEmulator=!1;const v=Object.assign(Object.assign({},fe),c);try{const b=new qt(_),M=yield Promise.race([f(),b.promise]);b.clearNetworkTimeout();const B=yield M.json();if("needConfirmation"in B)throw Yt(_,"account-exists-with-different-credential",B);if(M.ok&&!("errorMessage"in B))return B;{const z=M.ok?B.errorMessage:B.error.message,[De,Pe]=z.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===De)throw Yt(_,"credential-already-in-use",B);if("EMAIL_EXISTS"===De)throw Yt(_,"email-already-in-use",B);if("USER_DISABLED"===De)throw Yt(_,"user-disabled",B);const $e=v[De]||De.toLowerCase().replace(/[_\s]+/g,"-");if(Pe)throw ye(_,$e,Pe);he(_,$e)}}catch(b){if(b instanceof P.ZR)throw b;he(_,"network-request-failed",{message:String(b)})}})).apply(this,arguments)}function tt(_,c,f,v){return xt.apply(this,arguments)}function xt(){return(xt=(0,p.Z)(function*(_,c,f,v,b={}){const M=yield Ee(_,c,f,v,b);return"mfaPendingCredential"in M&&he(_,"multi-factor-auth-required",{_serverResponse:M}),M})).apply(this,arguments)}function pt(_,c,f,v){const b=`${c}${f}?${v}`;return _.config.emulator?se(_.config,b):`${_.config.apiScheme}://${b}`}class qt{constructor(c){this.auth=c,this.timer=null,this.promise=new Promise((f,v)=>{this.timer=setTimeout(()=>v(ee(this.auth,"network-request-failed")),pe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Yt(_,c,f){const v={appName:_.name};f.email&&(v.email=f.email),f.phoneNumber&&(v.phoneNumber=f.phoneNumber);const b=ee(_,c,v);return b.customData._tokenResponse=f,b}function Bt(){return(Bt=(0,p.Z)(function*(_,c){return Ee(_,"POST","/v1/accounts:delete",c)})).apply(this,arguments)}function Ir(){return(Ir=(0,p.Z)(function*(_,c){return Ee(_,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function Dr(){return(Dr=(0,p.Z)(function*(_,c){return Ee(_,"POST","/v1/accounts:lookup",c)})).apply(this,arguments)}function wr(_){if(_)try{const c=new Date(Number(_));if(!isNaN(c.getTime()))return c.toUTCString()}catch{}}function nt(){return(nt=(0,p.Z)(function*(_,c=!1){const f=(0,P.m9)(_),v=yield f.getIdToken(c),b=ct(v);ie(b&&b.exp&&b.auth_time&&b.iat,f.auth,"internal-error");const M="object"==typeof b.firebase?b.firebase:void 0,B=M?.sign_in_provider;return{claims:b,token:v,authTime:wr(It(b.auth_time)),issuedAtTime:wr(It(b.iat)),expirationTime:wr(It(b.exp)),signInProvider:B||null,signInSecondFactor:M?.sign_in_second_factor||null}})).apply(this,arguments)}function It(_){return 1e3*Number(_)}function ct(_){const[c,f,v]=_.split(".");if(void 0===c||void 0===f||void 0===v)return te("JWT malformed, contained fewer than 3 sections"),null;try{const b=(0,P.tV)(f);return b?JSON.parse(b):(te("Failed to decode base64 JWT payload"),null)}catch(b){return te("Caught error parsing JWT payload as JSON",b?.toString()),null}}function en(_,c){return or.apply(this,arguments)}function or(){return(or=(0,p.Z)(function*(_,c,f=!1){if(f)return c;try{return yield c}catch(v){throw v instanceof P.ZR&&function Vt({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}(v)&&_.auth.currentUser===_&&(yield _.auth.signOut()),v}})).apply(this,arguments)}class xn{constructor(c){this.user=c,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(c){var f;if(c){const v=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),v}{this.errorBackoff=3e4;const b=(null!==(f=this.user.stsTokenManager.expirationTime)&&void 0!==f?f:0)-Date.now()-3e5;return Math.max(0,b)}}schedule(c=!1){var f=this;if(!this.isRunning)return;const v=this.getInterval(c);this.timerId=setTimeout((0,p.Z)(function*(){yield f.iteration()}),v)}iteration(){var c=this;return(0,p.Z)(function*(){try{yield c.user.getIdToken(!0)}catch(f){return void("auth/network-request-failed"===f?.code&&c.schedule(!0))}c.schedule()})()}}class Qs{constructor(c,f){this.createdAt=c,this.lastLoginAt=f,this._initializeTime()}_initializeTime(){this.lastSignInTime=wr(this.lastLoginAt),this.creationTime=wr(this.createdAt)}_copy(c){this.createdAt=c.createdAt,this.lastLoginAt=c.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function qe(_){return ar.apply(this,arguments)}function ar(){return ar=(0,p.Z)(function*(_){var c;const f=_.auth,v=yield _.getIdToken(),b=yield en(_,function ji(_,c){return Dr.apply(this,arguments)}(f,{idToken:v}));ie(b?.users.length,f,"internal-error");const M=b.users[0];_._notifyReloadListener(M);const B=null!==(c=M.providerUserInfo)&&void 0!==c&&c.length?function Js(_){return _.map(c=>{var{providerId:f}=c,v=(0,ne._T)(c,["providerId"]);return{providerId:f,uid:v.rawId||"",displayName:v.displayName||null,email:v.email||null,phoneNumber:v.phoneNumber||null,photoURL:v.photoUrl||null}})}(M.providerUserInfo):[],z=function ii(_,c){return[..._.filter(v=>!c.some(b=>b.providerId===v.providerId)),...c]}(_.providerData,B),$e=!!_.isAnonymous&&!(_.email&&M.passwordHash||z?.length),Ze={uid:M.localId,displayName:M.displayName||null,photoURL:M.photoUrl||null,email:M.email||null,emailVerified:M.emailVerified||!1,phoneNumber:M.phoneNumber||null,tenantId:M.tenantId||null,providerData:z,metadata:new Qs(M.createdAt,M.lastLoginAt),isAnonymous:$e};Object.assign(_,Ze)}),ar.apply(this,arguments)}function Ei(){return(Ei=(0,p.Z)(function*(_){const c=(0,P.m9)(_);yield qe(c),yield c.auth._persistUserIfCurrent(c),c.auth._notifyListenersIfCurrent(c)})).apply(this,arguments)}function $i(){return($i=(0,p.Z)(function*(_,c){const f=yield ke(_,{},(0,p.Z)(function*(){const v=(0,P.xO)({grant_type:"refresh_token",refresh_token:c}).slice(1),{tokenApiHost:b,apiKey:M}=_.config,B=pt(_,b,"/v1/token",`key=${M}`),z=yield _._getAdditionalHeaders();return z["Content-Type"]="application/x-www-form-urlencoded",ae.fetch()(B,{method:"POST",headers:z,body:v})}));return{accessToken:f.access_token,expiresIn:f.expires_in,refreshToken:f.refresh_token}})).apply(this,arguments)}class Wr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(c){ie(c.idToken,"internal-error"),ie(typeof c.idToken<"u","internal-error"),ie(typeof c.refreshToken<"u","internal-error");const f="expiresIn"in c&&typeof c.expiresIn<"u"?Number(c.expiresIn):function Gt(_){const c=ct(_);return ie(c,"internal-error"),ie(typeof c.exp<"u","internal-error"),ie(typeof c.iat<"u","internal-error"),Number(c.exp)-Number(c.iat)}(c.idToken);this.updateTokensAndExpiration(c.idToken,c.refreshToken,f)}getToken(c,f=!1){var v=this;return(0,p.Z)(function*(){return ie(!v.accessToken||v.refreshToken,c,"user-token-expired"),f||!v.accessToken||v.isExpired?v.refreshToken?(yield v.refresh(c,v.refreshToken),v.accessToken):null:v.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(c,f){var v=this;return(0,p.Z)(function*(){const{accessToken:b,refreshToken:M,expiresIn:B}=yield function Xn(_,c){return $i.apply(this,arguments)}(c,f);v.updateTokensAndExpiration(b,M,Number(B))})()}updateTokensAndExpiration(c,f,v){this.refreshToken=f||null,this.accessToken=c||null,this.expirationTime=Date.now()+1e3*v}static fromJSON(c,f){const{refreshToken:v,accessToken:b,expirationTime:M}=f,B=new Wr;return v&&(ie("string"==typeof v,"internal-error",{appName:c}),B.refreshToken=v),b&&(ie("string"==typeof b,"internal-error",{appName:c}),B.accessToken=b),M&&(ie("number"==typeof M,"internal-error",{appName:c}),B.expirationTime=M),B}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(c){this.accessToken=c.accessToken,this.refreshToken=c.refreshToken,this.expirationTime=c.expirationTime}_clone(){return Object.assign(new Wr,this.toJSON())}_performRefresh(){return ot("not implemented")}}function Tn(_,c){ie("string"==typeof _||typeof _>"u","internal-error",{appName:c})}class Sn{constructor(c){var{uid:f,auth:v,stsTokenManager:b}=c,M=(0,ne._T)(c,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new xn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=f,this.auth=v,this.stsTokenManager=b,this.accessToken=b.accessToken,this.displayName=M.displayName||null,this.email=M.email||null,this.emailVerified=M.emailVerified||!1,this.phoneNumber=M.phoneNumber||null,this.photoURL=M.photoURL||null,this.isAnonymous=M.isAnonymous||!1,this.tenantId=M.tenantId||null,this.providerData=M.providerData?[...M.providerData]:[],this.metadata=new Qs(M.createdAt||void 0,M.lastLoginAt||void 0)}getIdToken(c){var f=this;return(0,p.Z)(function*(){const v=yield en(f,f.stsTokenManager.getToken(f.auth,c));return ie(v,f.auth,"internal-error"),f.accessToken!==v&&(f.accessToken=v,yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)),v})()}getIdTokenResult(c){return function Oo(_){return nt.apply(this,arguments)}(this,c)}reload(){return function vt(_){return Ei.apply(this,arguments)}(this)}_assign(c){this!==c&&(ie(this.uid===c.uid,this.auth,"internal-error"),this.displayName=c.displayName,this.photoURL=c.photoURL,this.email=c.email,this.emailVerified=c.emailVerified,this.phoneNumber=c.phoneNumber,this.isAnonymous=c.isAnonymous,this.tenantId=c.tenantId,this.providerData=c.providerData.map(f=>Object.assign({},f)),this.metadata._copy(c.metadata),this.stsTokenManager._assign(c.stsTokenManager))}_clone(c){const f=new Sn(Object.assign(Object.assign({},this),{auth:c,stsTokenManager:this.stsTokenManager._clone()}));return f.metadata._copy(this.metadata),f}_onReload(c){ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=c,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(c){this.reloadListener?this.reloadListener(c):this.reloadUserInfo=c}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(c,f=!1){var v=this;return(0,p.Z)(function*(){let b=!1;c.idToken&&c.idToken!==v.stsTokenManager.accessToken&&(v.stsTokenManager.updateFromServerResponse(c),b=!0),f&&(yield qe(v)),yield v.auth._persistUserIfCurrent(v),b&&v.auth._notifyListenersIfCurrent(v)})()}delete(){var c=this;return(0,p.Z)(function*(){const f=yield c.getIdToken();return yield en(c,function bn(_,c){return Bt.apply(this,arguments)}(c.auth,{idToken:f})),c.stsTokenManager.clearRefreshToken(),c.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(c=>Object.assign({},c)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(c,f){var v,b,M,B,z,De,Pe,$e;const Ze=null!==(v=f.displayName)&&void 0!==v?v:void 0,cn=null!==(b=f.email)&&void 0!==b?b:void 0,ei=null!==(M=f.phoneNumber)&&void 0!==M?M:void 0,Do=null!==(B=f.photoURL)&&void 0!==B?B:void 0,Fh=null!==(z=f.tenantId)&&void 0!==z?z:void 0,wo=null!==(De=f._redirectEventId)&&void 0!==De?De:void 0,ls=null!==(Pe=f.createdAt)&&void 0!==Pe?Pe:void 0,na=null!==($e=f.lastLoginAt)&&void 0!==$e?$e:void 0,{uid:ku,emailVerified:Fu,isAnonymous:ll,providerData:ra,stsTokenManager:up}=f;ie(ku&&up,c,"internal-error");const _m=Wr.fromJSON(this.name,up);ie("string"==typeof ku,c,"internal-error"),Tn(Ze,c.name),Tn(cn,c.name),ie("boolean"==typeof Fu,c,"internal-error"),ie("boolean"==typeof ll,c,"internal-error"),Tn(ei,c.name),Tn(Do,c.name),Tn(Fh,c.name),Tn(wo,c.name),Tn(ls,c.name),Tn(na,c.name);const Lh=new Sn({uid:ku,auth:c,email:cn,emailVerified:Fu,displayName:Ze,isAnonymous:ll,photoURL:Do,phoneNumber:ei,tenantId:Fh,stsTokenManager:_m,createdAt:ls,lastLoginAt:na});return ra&&Array.isArray(ra)&&(Lh.providerData=ra.map(vm=>Object.assign({},vm))),wo&&(Lh._redirectEventId=wo),Lh}static _fromIdTokenResponse(c,f,v=!1){return(0,p.Z)(function*(){const b=new Wr;b.updateFromServerResponse(f);const M=new Sn({uid:f.localId,auth:c,stsTokenManager:b,isAnonymous:v});return yield qe(M),M})()}}const Ci=new Map;function rn(_){Ct(_ instanceof Function,"Expected a class definition");let c=Ci.get(_);return c?(Ct(c instanceof _,"Instance stored in cache mismatched with class"),c):(c=new _,Ci.set(_,c),c)}const er=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,p.Z)(function*(){return!0})()}_set(f,v){var b=this;return(0,p.Z)(function*(){b.storage[f]=v})()}_get(f){var v=this;return(0,p.Z)(function*(){const b=v.storage[f];return void 0===b?null:b})()}_remove(f){var v=this;return(0,p.Z)(function*(){delete v.storage[f]})()}_addListener(f,v){}_removeListener(f,v){}}return _.type="NONE",_})();function U(_,c,f){return`firebase:${_}:${c}:${f}`}class L{constructor(c,f,v){this.persistence=c,this.auth=f,this.userKey=v;const{config:b,name:M}=this.auth;this.fullUserKey=U(this.userKey,b.apiKey,M),this.fullPersistenceKey=U("persistence",b.apiKey,M),this.boundEventHandler=f._onStorageEvent.bind(f),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(c){return this.persistence._set(this.fullUserKey,c.toJSON())}getCurrentUser(){var c=this;return(0,p.Z)(function*(){const f=yield c.persistence._get(c.fullUserKey);return f?Sn._fromJSON(c.auth,f):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(c){var f=this;return(0,p.Z)(function*(){if(f.persistence===c)return;const v=yield f.getCurrentUser();return yield f.removeCurrentUser(),f.persistence=c,v?f.setCurrentUser(v):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(c,f,v="authUser"){return(0,p.Z)(function*(){if(!f.length)return new L(rn(er),c,v);const b=(yield Promise.all(f.map(function(){var Pe=(0,p.Z)(function*($e){if(yield $e._isAvailable())return $e});return function($e){return Pe.apply(this,arguments)}}()))).filter(Pe=>Pe);let M=b[0]||rn(er);const B=U(v,c.config.apiKey,c.name);let z=null;for(const Pe of f)try{const $e=yield Pe._get(B);if($e){const Ze=Sn._fromJSON(c,$e);Pe!==M&&(z=Ze),M=Pe;break}}catch{}const De=b.filter(Pe=>Pe._shouldAllowMigration);return M._shouldAllowMigration&&De.length?(M=De[0],z&&(yield M._set(B,z.toJSON())),yield Promise.all(f.map(function(){var Pe=(0,p.Z)(function*($e){if($e!==M)try{yield $e._remove(B)}catch{}});return function($e){return Pe.apply(this,arguments)}}())),new L(M,c,v)):new L(M,c,v)})()}}function W(_){const c=_.toLowerCase();if(c.includes("opera/")||c.includes("opr/")||c.includes("opios/"))return"Opera";if(it(c))return"IEMobile";if(c.includes("msie")||c.includes("trident/"))return"IE";if(c.includes("edge/"))return"Edge";if(_e(c))return"Firefox";if(c.includes("silk/"))return"Silk";if(kt(c))return"Blackberry";if(pn(c))return"Webos";if(re(c))return"Safari";if((c.includes("chrome/")||ze(c))&&!c.includes("edge/"))return"Chrome";if(Mt(c))return"Android";{const v=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===v?.length)return v[1]}return"Other"}function _e(_=(0,P.z$)()){return/firefox\//i.test(_)}function re(_=(0,P.z$)()){const c=_.toLowerCase();return c.includes("safari/")&&!c.includes("chrome/")&&!c.includes("crios/")&&!c.includes("android")}function ze(_=(0,P.z$)()){return/crios\//i.test(_)}function it(_=(0,P.z$)()){return/iemobile/i.test(_)}function Mt(_=(0,P.z$)()){return/android/i.test(_)}function kt(_=(0,P.z$)()){return/blackberry/i.test(_)}function pn(_=(0,P.z$)()){return/webos/i.test(_)}function ht(_=(0,P.z$)()){return/iphone|ipad|ipod/i.test(_)||/macintosh/i.test(_)&&/mobile/i.test(_)}function Ii(_=(0,P.z$)()){return ht(_)||Mt(_)||pn(_)||kt(_)||/windows phone/i.test(_)||it(_)}function ce(_,c=[]){let f;switch(_){case"Browser":f=W((0,P.z$)());break;case"Worker":f=`${W((0,P.z$)())}-${_}`;break;default:f=_}const v=c.length?c.join(","):"FirebaseCore-web";return`${f}/JsCore/${X.SDK_VERSION}/${v}`}function Ae(){return(Ae=(0,p.Z)(function*(_){return(yield Ee(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ke(_,c){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,p.Z)(function*(_,c){return Ee(_,"GET","/v2/recaptchaConfig",me(_,c))})).apply(this,arguments)}function He(_){return void 0!==_&&void 0!==_.getResponse}function Rt(_){return void 0!==_&&void 0!==_.enterprise}class gn{constructor(c){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===c.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=c.recaptchaKey.split("/")[3],this.emailPasswordEnabled=c.recaptchaEnforcementState.some(f=>"EMAIL_PASSWORD_PROVIDER"===f.provider&&"OFF"!==f.enforcementState)}}function si(_){return new Promise((c,f)=>{const v=document.createElement("script");v.setAttribute("src",_),v.onload=c,v.onerror=b=>{const M=ee("internal-error");M.customData=b,f(M)},v.type="text/javascript",v.charset="UTF-8",function ln(){var _,c;return null!==(c=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==c?c:document}().appendChild(v)})}function ur(_){return`__${_}${Math.floor(1e6*Math.random())}`}class wa{constructor(c){this.type="recaptcha-enterprise",this.auth=un(c)}verify(c="verify",f=!1){var v=this;return(0,p.Z)(function*(){function M(){return M=(0,p.Z)(function*(z){if(!f){if(null==z.tenantId&&null!=z._agentRecaptchaConfig)return z._agentRecaptchaConfig.siteKey;if(null!=z.tenantId&&void 0!==z._tenantRecaptchaConfigs[z.tenantId])return z._tenantRecaptchaConfigs[z.tenantId].siteKey}return new Promise(function(){var De=(0,p.Z)(function*(Pe,$e){Ke(z,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Ze=>{if(void 0!==Ze.recaptchaKey){const cn=new gn(Ze);return null==z.tenantId?z._agentRecaptchaConfig=cn:z._tenantRecaptchaConfigs[z.tenantId]=cn,Pe(cn.siteKey)}$e(new Error("recaptcha Enterprise site key undefined"))}).catch(Ze=>{$e(Ze)})});return function(Pe,$e){return De.apply(this,arguments)}}())}),M.apply(this,arguments)}function B(z,De,Pe){const $e=window.grecaptcha;Rt($e)?$e.enterprise.ready(()=>{$e.enterprise.execute(z,{action:c}).then(Ze=>{De(Ze)}).catch(()=>{De("NO_RECAPTCHA")})}):Pe(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((z,De)=>{(function b(z){return M.apply(this,arguments)})(v.auth).then(Pe=>{if(!f&&Rt(window.grecaptcha))B(Pe,z,De);else{if(typeof window>"u")return void De(new Error("RecaptchaVerifier is only supported in browser"));si("https://www.google.com/recaptcha/enterprise.js?render="+Pe).then(()=>{B(Pe,z,De)}).catch($e=>{De($e)})}}).catch(Pe=>{De(Pe)})})})()}}function Pr(_,c,f){return ba.apply(this,arguments)}function ba(){return(ba=(0,p.Z)(function*(_,c,f,v=!1){const b=new wa(_);let M;try{M=yield b.verify(f)}catch{M=yield b.verify(f,!0)}const B=Object.assign({},c);return Object.assign(B,v?{captchaResp:M}:{captchaResponse:M}),Object.assign(B,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(B,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),B})).apply(this,arguments)}class Gi{constructor(c){this.auth=c,this.queue=[]}pushCallback(c,f){const v=M=>new Promise((B,z)=>{try{B(c(M))}catch(De){z(De)}});v.onAbort=f,this.queue.push(v);const b=this.queue.length-1;return()=>{this.queue[b]=()=>Promise.resolve()}}runMiddleware(c){var f=this;return(0,p.Z)(function*(){if(f.auth.currentUser===c)return;const v=[];try{for(const b of f.queue)yield b(c),b.onAbort&&v.push(b.onAbort)}catch(b){v.reverse();for(const M of v)try{M()}catch{}throw f.auth._errorFactory.create("login-blocked",{originalMessage:b?.message})}})()}}class Rl{constructor(c,f,v,b){this.app=c,this.heartbeatServiceProvider=f,this.appCheckServiceProvider=v,this.config=b,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ta(this),this.idTokenSubscription=new Ta(this),this.beforeStateQueue=new Gi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Le,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=c.name,this.clientVersion=b.sdkClientVersion}_initializeWithPersistence(c,f){var v=this;return f&&(this._popupRedirectResolver=rn(f)),this._initializationPromise=this.queue((0,p.Z)(function*(){var b,M;if(!v._deleted&&(v.persistenceManager=yield L.create(v,c),!v._deleted)){if(null!==(b=v._popupRedirectResolver)&&void 0!==b&&b._shouldInitProactively)try{yield v._popupRedirectResolver._initialize(v)}catch{}yield v.initializeCurrentUser(f),v.lastNotifiedUid=(null===(M=v.currentUser)||void 0===M?void 0:M.uid)||null,!v._deleted&&(v._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var c=this;return(0,p.Z)(function*(){if(c._deleted)return;const f=yield c.assertedPersistence.getCurrentUser();if(c.currentUser||f){if(c.currentUser&&f&&c.currentUser.uid===f.uid)return c._currentUser._assign(f),void(yield c.currentUser.getIdToken());yield c._updateCurrentUser(f,!0)}})()}initializeCurrentUser(c){var f=this;return(0,p.Z)(function*(){var v;const b=yield f.assertedPersistence.getCurrentUser();let M=b,B=!1;if(c&&f.config.authDomain){yield f.getOrInitRedirectPersistenceManager();const z=null===(v=f.redirectUser)||void 0===v?void 0:v._redirectEventId,De=M?._redirectEventId,Pe=yield f.tryRedirectSignIn(c);(!z||z===De)&&Pe?.user&&(M=Pe.user,B=!0)}if(!M)return f.directlySetCurrentUser(null);if(!M._redirectEventId){if(B)try{yield f.beforeStateQueue.runMiddleware(M)}catch(z){M=b,f._popupRedirectResolver._overrideRedirectResult(f,()=>Promise.reject(z))}return M?f.reloadAndSetCurrentUserOrClear(M):f.directlySetCurrentUser(null)}return ie(f._popupRedirectResolver,f,"argument-error"),yield f.getOrInitRedirectPersistenceManager(),f.redirectUser&&f.redirectUser._redirectEventId===M._redirectEventId?f.directlySetCurrentUser(M):f.reloadAndSetCurrentUserOrClear(M)})()}tryRedirectSignIn(c){var f=this;return(0,p.Z)(function*(){let v=null;try{v=yield f._popupRedirectResolver._completeRedirectFn(f,c,!0)}catch{yield f._setRedirectUser(null)}return v})()}reloadAndSetCurrentUserOrClear(c){var f=this;return(0,p.Z)(function*(){try{yield qe(c)}catch(v){if("auth/network-request-failed"!==v?.code)return f.directlySetCurrentUser(null)}return f.directlySetCurrentUser(c)})()}useDeviceLanguage(){this.languageCode=function ms(){if(typeof navigator>"u")return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var c=this;return(0,p.Z)(function*(){c._deleted=!0})()}updateCurrentUser(c){var f=this;return(0,p.Z)(function*(){const v=c?(0,P.m9)(c):null;return v&&ie(v.auth.config.apiKey===f.config.apiKey,f,"invalid-user-token"),f._updateCurrentUser(v&&v._clone(f))})()}_updateCurrentUser(c,f=!1){var v=this;return(0,p.Z)(function*(){if(!v._deleted)return c&&ie(v.tenantId===c.tenantId,v,"tenant-id-mismatch"),f||(yield v.beforeStateQueue.runMiddleware(c)),v.queue((0,p.Z)(function*(){yield v.directlySetCurrentUser(c),v.notifyAuthListeners()}))})()}signOut(){var c=this;return(0,p.Z)(function*(){return yield c.beforeStateQueue.runMiddleware(null),(c.redirectPersistenceManager||c._popupRedirectResolver)&&(yield c._setRedirectUser(null)),c._updateCurrentUser(null,!0)})()}setPersistence(c){var f=this;return this.queue((0,p.Z)(function*(){yield f.assertedPersistence.setPersistence(rn(c))}))}initializeRecaptchaConfig(){var c=this;return(0,p.Z)(function*(){const f=yield Ke(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),v=new gn(f);null==c.tenantId?c._agentRecaptchaConfig=v:c._tenantRecaptchaConfigs[c.tenantId]=v,v.emailPasswordEnabled&&new wa(c).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(c){this._errorFactory=new P.LL("auth","Firebase",c())}onAuthStateChanged(c,f,v){return this.registerStateListener(this.authStateSubscription,c,f,v)}beforeAuthStateChanged(c,f){return this.beforeStateQueue.pushCallback(c,f)}onIdTokenChanged(c,f,v){return this.registerStateListener(this.idTokenSubscription,c,f,v)}toJSON(){var c;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(c=this._currentUser)||void 0===c?void 0:c.toJSON()}}_setRedirectUser(c,f){var v=this;return(0,p.Z)(function*(){const b=yield v.getOrInitRedirectPersistenceManager(f);return null===c?b.removeCurrentUser():b.setCurrentUser(c)})()}getOrInitRedirectPersistenceManager(c){var f=this;return(0,p.Z)(function*(){if(!f.redirectPersistenceManager){const v=c&&rn(c)||f._popupRedirectResolver;ie(v,f,"argument-error"),f.redirectPersistenceManager=yield L.create(f,[rn(v._redirectPersistence)],"redirectUser"),f.redirectUser=yield f.redirectPersistenceManager.getCurrentUser()}return f.redirectPersistenceManager})()}_redirectUserForId(c){var f=this;return(0,p.Z)(function*(){var v,b;return f._isInitialized&&(yield f.queue((0,p.Z)(function*(){}))),(null===(v=f._currentUser)||void 0===v?void 0:v._redirectEventId)===c?f._currentUser:(null===(b=f.redirectUser)||void 0===b?void 0:b._redirectEventId)===c?f.redirectUser:null})()}_persistUserIfCurrent(c){var f=this;return(0,p.Z)(function*(){if(c===f.currentUser)return f.queue((0,p.Z)(function*(){return f.directlySetCurrentUser(c)}))})()}_notifyListenersIfCurrent(c){c===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var c,f;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const v=null!==(f=null===(c=this.currentUser)||void 0===c?void 0:c.uid)&&void 0!==f?f:null;this.lastNotifiedUid!==v&&(this.lastNotifiedUid=v,this.authStateSubscription.next(this.currentUser))}registerStateListener(c,f,v,b){if(this._deleted)return()=>{};const M="function"==typeof f?f:f.next.bind(f),B=this._isInitialized?Promise.resolve():this._initializationPromise;return ie(B,this,"internal-error"),B.then(()=>M(this.currentUser)),"function"==typeof f?c.addObserver(f,v,b):c.addObserver(f)}directlySetCurrentUser(c){var f=this;return(0,p.Z)(function*(){f.currentUser&&f.currentUser!==c&&f._currentUser._stopProactiveRefresh(),c&&f.isProactiveRefreshEnabled&&c._startProactiveRefresh(),f.currentUser=c,c?yield f.assertedPersistence.setCurrentUser(c):yield f.assertedPersistence.removeCurrentUser()})()}queue(c){return this.operations=this.operations.then(c,c),this.operations}get assertedPersistence(){return ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(c){!c||this.frameworks.includes(c)||(this.frameworks.push(c),this.frameworks.sort(),this.clientVersion=ce(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var c=this;return(0,p.Z)(function*(){var f;const v={"X-Client-Version":c.clientVersion};c.app.options.appId&&(v["X-Firebase-gmpid"]=c.app.options.appId);const b=yield null===(f=c.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===f?void 0:f.getHeartbeatsHeader();b&&(v["X-Firebase-Client"]=b);const M=yield c._getAppCheckToken();return M&&(v["X-Firebase-AppCheck"]=M),v})()}_getAppCheckToken(){var c=this;return(0,p.Z)(function*(){var f;const v=yield null===(f=c.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===f?void 0:f.getToken();return v?.error&&function Je(_,...c){rt.logLevel<=ue.in.WARN&&rt.warn(`Auth (${X.SDK_VERSION}): ${_}`,...c)}(`Error while retrieving App Check token: ${v.error}`),v?.token})()}}function un(_){return(0,P.m9)(_)}class Ta{constructor(c){this.auth=c,this.observer=null,this.addObserver=(0,P.ne)(f=>this.observer=f)}get next(){return ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Gn(_){const c=_.indexOf(":");return c<0?"":_.substr(0,c+1)}function Nl(_){if(!_)return null;const c=Number(_);return isNaN(c)?null:c}class _s{constructor(c,f){this.providerId=c,this.signInMethod=f}toJSON(){return ot("not implemented")}_getIdTokenResponse(c){return ot("not implemented")}_linkToIdToken(c,f){return ot("not implemented")}_getReauthenticationResolver(c){return ot("not implemented")}}function ch(_,c){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,p.Z)(function*(_,c){return Ee(_,"POST","/v1/accounts:resetPassword",me(_,c))})).apply(this,arguments)}function Ol(_,c){return Ec.apply(this,arguments)}function Ec(){return(Ec=(0,p.Z)(function*(_,c){return Ee(_,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function Pl(){return(Pl=(0,p.Z)(function*(_,c){return Ee(_,"POST","/v1/accounts:update",me(_,c))})).apply(this,arguments)}function Fn(_,c){return xl.apply(this,arguments)}function xl(){return(xl=(0,p.Z)(function*(_,c){return tt(_,"POST","/v1/accounts:signInWithPassword",me(_,c))})).apply(this,arguments)}function Ma(_,c){return kl.apply(this,arguments)}function kl(){return(kl=(0,p.Z)(function*(_,c){return Ee(_,"POST","/v1/accounts:sendOobCode",me(_,c))})).apply(this,arguments)}function Fl(){return(Fl=(0,p.Z)(function*(_,c){return Ma(_,c)})).apply(this,arguments)}function Xs(_,c){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,p.Z)(function*(_,c){return Ma(_,c)})).apply(this,arguments)}function Na(_,c){return wt.apply(this,arguments)}function wt(){return(wt=(0,p.Z)(function*(_,c){return Ma(_,c)})).apply(this,arguments)}function Vn(){return(Vn=(0,p.Z)(function*(_,c){return Ma(_,c)})).apply(this,arguments)}function cr(){return(cr=(0,p.Z)(function*(_,c){return tt(_,"POST","/v1/accounts:signInWithEmailLink",me(_,c))})).apply(this,arguments)}function Vl(){return(Vl=(0,p.Z)(function*(_,c){return tt(_,"POST","/v1/accounts:signInWithEmailLink",me(_,c))})).apply(this,arguments)}class vs extends _s{constructor(c,f,v,b=null){super("password",v),this._email=c,this._password=f,this._tenantId=b}static _fromEmailAndPassword(c,f){return new vs(c,f,"password")}static _fromEmailAndCode(c,f,v=null){return new vs(c,f,"emailLink",v)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(c){const f="string"==typeof c?JSON.parse(c):c;if(f?.email&&f?.password){if("password"===f.signInMethod)return this._fromEmailAndPassword(f.email,f.password);if("emailLink"===f.signInMethod)return this._fromEmailAndCode(f.email,f.password,f.tenantId)}return null}_getIdTokenResponse(c){var f=this;return(0,p.Z)(function*(){var v;switch(f.signInMethod){case"password":const b={returnSecureToken:!0,email:f._email,password:f._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(v=c._getRecaptchaConfig())&&void 0!==v&&v.emailPasswordEnabled){const M=yield Pr(c,b,"signInWithPassword");return Fn(c,M)}return Fn(c,b).catch(function(){var M=(0,p.Z)(function*(B){if("auth/missing-recaptcha-token"===B.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const z=yield Pr(c,b,"signInWithPassword");return Fn(c,z)}return Promise.reject(B)});return function(B){return M.apply(this,arguments)}}());case"emailLink":return function Wi(_,c){return cr.apply(this,arguments)}(c,{email:f._email,oobCode:f._password});default:he(c,"internal-error")}})()}_linkToIdToken(c,f){var v=this;return(0,p.Z)(function*(){switch(v.signInMethod){case"password":return Ol(c,{idToken:f,returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function dh(_,c){return Vl.apply(this,arguments)}(c,{idToken:f,email:v._email,oobCode:v._password});default:he(c,"internal-error")}})()}_getReauthenticationResolver(c){return this._getIdTokenResponse(c)}}function kr(_,c){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,p.Z)(function*(_,c){return tt(_,"POST","/v1/accounts:signInWithIdp",me(_,c))})).apply(this,arguments)}class Fe extends _s{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(c){const f=new Fe(c.providerId,c.signInMethod);return c.idToken||c.accessToken?(c.idToken&&(f.idToken=c.idToken),c.accessToken&&(f.accessToken=c.accessToken),c.nonce&&!c.pendingToken&&(f.nonce=c.nonce),c.pendingToken&&(f.pendingToken=c.pendingToken)):c.oauthToken&&c.oauthTokenSecret?(f.accessToken=c.oauthToken,f.secret=c.oauthTokenSecret):he("argument-error"),f}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(c){const f="string"==typeof c?JSON.parse(c):c,{providerId:v,signInMethod:b}=f,M=(0,ne._T)(f,["providerId","signInMethod"]);if(!v||!b)return null;const B=new Fe(v,b);return B.idToken=M.idToken||void 0,B.accessToken=M.accessToken||void 0,B.secret=M.secret,B.nonce=M.nonce,B.pendingToken=M.pendingToken||null,B}_getIdTokenResponse(c){return kr(c,this.buildRequest())}_linkToIdToken(c,f){const v=this.buildRequest();return v.idToken=f,kr(c,v)}_getReauthenticationResolver(c){const f=this.buildRequest();return f.autoCreate=!1,kr(c,f)}buildRequest(){const c={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)c.pendingToken=this.pendingToken;else{const f={};this.idToken&&(f.id_token=this.idToken),this.accessToken&&(f.access_token=this.accessToken),this.secret&&(f.oauth_token_secret=this.secret),f.providerId=this.providerId,this.nonce&&!this.pendingToken&&(f.nonce=this.nonce),c.postBody=(0,P.xO)(f)}return c}}function Ht(){return(Ht=(0,p.Z)(function*(_,c){return Ee(_,"POST","/v1/accounts:sendVerificationCode",me(_,c))})).apply(this,arguments)}function eo(){return(eo=(0,p.Z)(function*(_,c){return tt(_,"POST","/v1/accounts:signInWithPhoneNumber",me(_,c))})).apply(this,arguments)}function zi(){return(zi=(0,p.Z)(function*(_,c){const f=yield tt(_,"POST","/v1/accounts:signInWithPhoneNumber",me(_,c));if(f.temporaryProof)throw Yt(_,"account-exists-with-different-credential",f);return f})).apply(this,arguments)}const on={USER_NOT_FOUND:"user-not-found"};function Zr(){return(Zr=(0,p.Z)(function*(_,c){return tt(_,"POST","/v1/accounts:signInWithPhoneNumber",me(_,Object.assign(Object.assign({},c),{operation:"REAUTH"})),on)})).apply(this,arguments)}class et extends _s{constructor(c){super("phone","phone"),this.params=c}static _fromVerification(c,f){return new et({verificationId:c,verificationCode:f})}static _fromTokenResponse(c,f){return new et({phoneNumber:c,temporaryProof:f})}_getIdTokenResponse(c){return function br(_,c){return eo.apply(this,arguments)}(c,this._makeVerificationRequest())}_linkToIdToken(c,f){return function tr(_,c){return zi.apply(this,arguments)}(c,Object.assign({idToken:f},this._makeVerificationRequest()))}_getReauthenticationResolver(c){return function Zi(_,c){return Zr.apply(this,arguments)}(c,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:c,phoneNumber:f,verificationId:v,verificationCode:b}=this.params;return c&&f?{temporaryProof:c,phoneNumber:f}:{sessionInfo:v,code:b}}toJSON(){const c={providerId:this.providerId};return this.params.phoneNumber&&(c.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(c.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(c.verificationCode=this.params.verificationCode),this.params.verificationId&&(c.verificationId=this.params.verificationId),c}static fromJSON(c){"string"==typeof c&&(c=JSON.parse(c));const{verificationId:f,verificationCode:v,phoneNumber:b,temporaryProof:M}=c;return v||f||b||M?new et({verificationId:f,verificationCode:v,phoneNumber:b,temporaryProof:M}):null}}class wi{constructor(c){var f,v,b,M,B,z;const De=(0,P.zd)((0,P.pd)(c)),Pe=null!==(f=De.apiKey)&&void 0!==f?f:null,$e=null!==(v=De.oobCode)&&void 0!==v?v:null,Ze=function Oa(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(b=De.mode)&&void 0!==b?b:null);ie(Pe&&$e&&Ze,"argument-error"),this.apiKey=Pe,this.operation=Ze,this.code=$e,this.continueUrl=null!==(M=De.continueUrl)&&void 0!==M?M:null,this.languageCode=null!==(B=De.languageCode)&&void 0!==B?B:null,this.tenantId=null!==(z=De.tenantId)&&void 0!==z?z:null}static parseLink(c){const f=function Pa(_){const c=(0,P.zd)((0,P.pd)(_)).link,f=c?(0,P.zd)((0,P.pd)(c)).deep_link_id:null,v=(0,P.zd)((0,P.pd)(_)).deep_link_id;return(v?(0,P.zd)((0,P.pd)(v)).link:null)||v||f||c||_}(c);try{return new wi(f)}catch{return null}}}let to=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(f,v){return vs._fromEmailAndPassword(f,v)}static credentialWithLink(f,v){const b=wi.parseLink(v);return ie(b,"argument-error"),vs._fromEmailAndCode(f,b.code,b.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class dr{constructor(c){this.providerId=c,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(c){this.defaultLanguageCode=c}setCustomParameters(c){return this.customParameters=c,this}getCustomParameters(){return this.customParameters}}class hr extends dr{constructor(){super(...arguments),this.scopes=[]}addScope(c){return this.scopes.includes(c)||this.scopes.push(c),this}getScopes(){return[...this.scopes]}}class Fr extends hr{static credentialFromJSON(c){const f="string"==typeof c?JSON.parse(c):c;return ie("providerId"in f&&"signInMethod"in f,"argument-error"),Fe._fromParams(f)}credential(c){return this._credential(Object.assign(Object.assign({},c),{nonce:c.rawNonce}))}_credential(c){return ie(c.idToken||c.accessToken,"argument-error"),Fe._fromParams(Object.assign(Object.assign({},c),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(c){return Fr.oauthCredentialFromTaggedObject(c)}static credentialFromError(c){return Fr.oauthCredentialFromTaggedObject(c.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{oauthIdToken:f,oauthAccessToken:v,oauthTokenSecret:b,pendingToken:M,nonce:B,providerId:z}=c;if(!v&&!b&&!f&&!M||!z)return null;try{return new Fr(z)._credential({idToken:f,accessToken:v,nonce:B,pendingToken:M})}catch{return null}}}let Cc=(()=>{class _ extends hr{constructor(){super("facebook.com")}static credential(f){return Fe._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return _.credentialFromTaggedObject(f)}static credentialFromError(f){return _.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return _.credential(f.oauthAccessToken)}catch{return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),Kr=(()=>{class _ extends hr{constructor(){super("google.com"),this.addScope("profile")}static credential(f,v){return Fe._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:f,accessToken:v})}static credentialFromResult(f){return _.credentialFromTaggedObject(f)}static credentialFromError(f){return _.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:v,oauthAccessToken:b}=f;if(!v&&!b)return null;try{return _.credential(v,b)}catch{return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),bi=(()=>{class _ extends hr{constructor(){super("github.com")}static credential(f){return Fe._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return _.credentialFromTaggedObject(f)}static credentialFromError(f){return _.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return _.credential(f.oauthAccessToken)}catch{return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class oi extends _s{constructor(c,f){super(c,c),this.pendingToken=f}_getIdTokenResponse(c){return kr(c,this.buildRequest())}_linkToIdToken(c,f){const v=this.buildRequest();return v.idToken=f,kr(c,v)}_getReauthenticationResolver(c){const f=this.buildRequest();return f.autoCreate=!1,kr(c,f)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(c){const f="string"==typeof c?JSON.parse(c):c,{providerId:v,signInMethod:b,pendingToken:M}=f;return v&&b&&M&&v===b?new oi(v,M):null}static _create(c,f){return new oi(c,f)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Bl extends dr{constructor(c){ie(c.startsWith("saml."),"argument-error"),super(c)}static credentialFromResult(c){return Bl.samlCredentialFromTaggedObject(c)}static credentialFromError(c){return Bl.samlCredentialFromTaggedObject(c.customData||{})}static credentialFromJSON(c){const f=oi.fromJSON(c);return ie(f,"argument-error"),f}static samlCredentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{pendingToken:f,providerId:v}=c;if(!f||!v)return null;try{return oi._create(v,f)}catch{return null}}}let xo=(()=>{class _ extends hr{constructor(){super("twitter.com")}static credential(f,v){return Fe._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:f,oauthTokenSecret:v})}static credentialFromResult(f){return _.credentialFromTaggedObject(f)}static credentialFromError(f){return _.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthAccessToken:v,oauthTokenSecret:b}=f;if(!v||!b)return null;try{return _.credential(v,b)}catch{return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function ai(_,c){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,p.Z)(function*(_,c){return tt(_,"POST","/v1/accounts:signUp",me(_,c))})).apply(this,arguments)}class Wn{constructor(c){this.user=c.user,this.providerId=c.providerId,this._tokenResponse=c._tokenResponse,this.operationType=c.operationType}static _fromIdTokenResponse(c,f,v,b=!1){return(0,p.Z)(function*(){const M=yield Sn._fromIdTokenResponse(c,v,b),B=Ti(v);return new Wn({user:M,providerId:B,_tokenResponse:v,operationType:f})})()}static _forOperation(c,f,v){return(0,p.Z)(function*(){yield c._updateTokensIfNecessary(v,!0);const b=Ti(v);return new Wn({user:c,providerId:b,_tokenResponse:v,operationType:f})})()}}function Ti(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function An(){return(An=(0,p.Z)(function*(_){var c;const f=un(_);if(yield f._initializationPromise,null!==(c=f.currentUser)&&void 0!==c&&c.isAnonymous)return new Wn({user:f.currentUser,providerId:null,operationType:"signIn"});const v=yield ai(f,{returnSecureToken:!0}),b=yield Wn._fromIdTokenResponse(f,"signIn",v,!0);return yield f._updateCurrentUser(b.user),b})).apply(this,arguments)}class xa extends P.ZR{constructor(c,f,v,b){var M;super(f.code,f.message),this.operationType=v,this.user=b,Object.setPrototypeOf(this,xa.prototype),this.customData={appName:c.name,tenantId:null!==(M=c.tenantId)&&void 0!==M?M:void 0,_serverResponse:f.customData._serverResponse,operationType:v}}static _fromErrorAndOperation(c,f,v,b){return new xa(c,f,v,b)}}function nr(_,c,f,v){return("reauthenticate"===c?f._getReauthenticationResolver(_):f._getIdTokenResponse(_)).catch(M=>{throw"auth/multi-factor-auth-required"===M.code?xa._fromErrorAndOperation(_,M,c,v):M})}function zn(_){return new Set(_.map(({providerId:c})=>c).filter(c=>!!c))}function Zn(){return Zn=(0,p.Z)(function*(_,c){const f=(0,P.m9)(_);yield qi(!0,f,c);const{providerUserInfo:v}=yield function $n(_,c){return Ir.apply(this,arguments)}(f.auth,{idToken:yield f.getIdToken(),deleteProvider:[c]}),b=zn(v||[]);return f.providerData=f.providerData.filter(M=>b.has(M.providerId)),b.has("phone")||(f.phoneNumber=null),yield f.auth._persistUserIfCurrent(f),f}),Zn.apply(this,arguments)}function ys(_,c){return fr.apply(this,arguments)}function fr(){return(fr=(0,p.Z)(function*(_,c,f=!1){const v=yield en(_,c._linkToIdToken(_.auth,yield _.getIdToken()),f);return Wn._forOperation(_,"link",v)})).apply(this,arguments)}function qi(_,c,f){return Hl.apply(this,arguments)}function Hl(){return(Hl=(0,p.Z)(function*(_,c,f){yield qe(c);const b=!1===_?"provider-already-linked":"no-such-provider";ie(zn(c.providerData).has(f)===_,c.auth,b)})).apply(this,arguments)}function hh(_,c){return $l.apply(this,arguments)}function $l(){return($l=(0,p.Z)(function*(_,c,f=!1){const{auth:v}=_,b="reauthenticate";try{const M=yield en(_,nr(v,b,c,_),f);ie(M.idToken,v,"internal-error");const B=ct(M.idToken);ie(B,v,"internal-error");const{sub:z}=B;return ie(_.uid===z,v,"user-mismatch"),Wn._forOperation(_,b,M)}catch(M){throw"auth/user-not-found"===M?.code&&he(v,"user-mismatch"),M}})).apply(this,arguments)}function Gl(_,c){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,p.Z)(function*(_,c,f=!1){const v="signIn",b=yield nr(_,v,c),M=yield Wn._fromIdTokenResponse(_,v,b);return f||(yield _._updateCurrentUser(M.user)),M})).apply(this,arguments)}function zl(_,c){return Ic.apply(this,arguments)}function Ic(){return(Ic=(0,p.Z)(function*(_,c){return Gl(un(_),c)})).apply(this,arguments)}function Uf(_,c){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,p.Z)(function*(_,c){const f=(0,P.m9)(_);return yield qi(!1,f,c.providerId),ys(f,c)})).apply(this,arguments)}function Bf(_,c){return fh.apply(this,arguments)}function fh(){return(fh=(0,p.Z)(function*(_,c){return hh((0,P.m9)(_),c)})).apply(this,arguments)}function ph(){return(ph=(0,p.Z)(function*(_,c){return tt(_,"POST","/v1/accounts:signInWithCustomToken",me(_,c))})).apply(this,arguments)}function Si(){return Si=(0,p.Z)(function*(_,c){const f=un(_),v=yield function sm(_,c){return ph.apply(this,arguments)}(f,{token:c,returnSecureToken:!0}),b=yield Wn._fromIdTokenResponse(f,"signIn",v);return yield f._updateCurrentUser(b.user),b}),Si.apply(this,arguments)}class Zl{constructor(c,f){this.factorId=c,this.uid=f.mfaEnrollmentId,this.enrollmentTime=new Date(f.enrolledAt).toUTCString(),this.displayName=f.displayName}static _fromServerResponse(c,f){return"phoneInfo"in f?ka._fromServerResponse(c,f):"totpInfo"in f?Kl._fromServerResponse(c,f):he(c,"internal-error")}}class ka extends Zl{constructor(c){super("phone",c),this.phoneNumber=c.phoneInfo}static _fromServerResponse(c,f){return new ka(f)}}class Kl extends Zl{constructor(c){super("totp",c)}static _fromServerResponse(c,f){return new Kl(f)}}function Es(_,c,f){var v;ie((null===(v=f.url)||void 0===v?void 0:v.length)>0,_,"invalid-continue-uri"),ie(typeof f.dynamicLinkDomain>"u"||f.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),c.continueUrl=f.url,c.dynamicLinkDomain=f.dynamicLinkDomain,c.canHandleCodeInApp=f.handleCodeInApp,f.iOS&&(ie(f.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),c.iOSBundleId=f.iOS.bundleId),f.android&&(ie(f.android.packageName.length>0,_,"missing-android-pkg-name"),c.androidInstallApp=f.android.installApp,c.androidMinimumVersionCode=f.android.minimumVersion,c.androidPackageName=f.android.packageName)}function Fo(){return Fo=(0,p.Z)(function*(_,c,f){var v;const b=un(_),M={requestType:"PASSWORD_RESET",email:c,clientType:"CLIENT_TYPE_WEB"};if(null!==(v=b._getRecaptchaConfig())&&void 0!==v&&v.emailPasswordEnabled){const B=yield Pr(b,M,"getOobCode",!0);f&&Es(b,B,f),yield Xs(b,B)}else f&&Es(b,M,f),yield Xs(b,M).catch(function(){var B=(0,p.Z)(function*(z){if("auth/missing-recaptcha-token"!==z.code)return Promise.reject(z);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const De=yield Pr(b,M,"getOobCode",!0);f&&Es(b,De,f),yield Xs(b,De)}});return function(z){return B.apply(this,arguments)}}())}),Fo.apply(this,arguments)}function Ai(){return(Ai=(0,p.Z)(function*(_,c,f){yield ch((0,P.m9)(_),{oobCode:c,newPassword:f})})).apply(this,arguments)}function Lr(){return Lr=(0,p.Z)(function*(_,c){yield function xr(_,c){return Pl.apply(this,arguments)}((0,P.m9)(_),{oobCode:c})}),Lr.apply(this,arguments)}function wc(_,c){return mn.apply(this,arguments)}function mn(){return(mn=(0,p.Z)(function*(_,c){const f=(0,P.m9)(_),v=yield ch(f,{oobCode:c}),b=v.requestType;switch(ie(b,f,"internal-error"),b){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ie(v.newEmail,f,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ie(v.mfaInfo,f,"internal-error");default:ie(v.email,f,"internal-error")}let M=null;return v.mfaInfo&&(M=Zl._fromServerResponse(un(f),v.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.newEmail:v.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.email:v.newEmail)||null,multiFactorInfo:M},operation:b}})).apply(this,arguments)}function Un(){return(Un=(0,p.Z)(function*(_,c){const{data:f}=yield wc((0,P.m9)(_),c);return f.email})).apply(this,arguments)}function Lo(){return Lo=(0,p.Z)(function*(_,c,f){var v;const b=un(_),M={returnSecureToken:!0,email:c,password:f,clientType:"CLIENT_TYPE_WEB"};let B;if(null!==(v=b._getRecaptchaConfig())&&void 0!==v&&v.emailPasswordEnabled){const Pe=yield Pr(b,M,"signUpPassword");B=ai(b,Pe)}else B=ai(b,M).catch(function(){var Pe=(0,p.Z)(function*($e){if("auth/missing-recaptcha-token"===$e.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Ze=yield Pr(b,M,"signUpPassword");return ai(b,Ze)}return Promise.reject($e)});return function($e){return Pe.apply(this,arguments)}}());const z=yield B.catch(Pe=>Promise.reject(Pe)),De=yield Wn._fromIdTokenResponse(b,"signIn",z);return yield b._updateCurrentUser(De.user),De}),Lo.apply(this,arguments)}function ro(){return ro=(0,p.Z)(function*(_,c,f){var v;const b=un(_),M={requestType:"EMAIL_SIGNIN",email:c,clientType:"CLIENT_TYPE_WEB"};function B(z,De){ie(De.handleCodeInApp,b,"argument-error"),De&&Es(b,z,De)}if(null!==(v=b._getRecaptchaConfig())&&void 0!==v&&v.emailPasswordEnabled){const z=yield Pr(b,M,"getOobCode",!0);B(z,f),yield Na(b,z)}else B(M,f),yield Na(b,M).catch(function(){var z=(0,p.Z)(function*(De){if("auth/missing-recaptcha-token"!==De.code)return Promise.reject(De);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Pe=yield Pr(b,M,"getOobCode",!0);B(Pe,f),yield Na(b,Pe)}});return function(De){return z.apply(this,arguments)}}())}),ro.apply(this,arguments)}function Fa(){return(Fa=(0,p.Z)(function*(_,c,f){const v=(0,P.m9)(_),b=to.credentialWithLink(c,f||Pn());return ie(b._tenantId===(v.tenantId||null),v,"tenant-id-mismatch"),zl(v,b)})).apply(this,arguments)}function Ql(){return(Ql=(0,p.Z)(function*(_,c){return Ee(_,"POST","/v1/accounts:createAuthUri",me(_,c))})).apply(this,arguments)}function io(){return io=(0,p.Z)(function*(_,c){const v={identifier:c,continueUri:sr()?Pn():"http://localhost"},{signinMethods:b}=yield function Yl(_,c){return Ql.apply(this,arguments)}((0,P.m9)(_),v);return b||[]}),io.apply(this,arguments)}function Mi(){return Mi=(0,p.Z)(function*(_,c){const f=(0,P.m9)(_),b={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};c&&Es(f.auth,b,c);const{email:M}=yield function Ra(_,c){return Fl.apply(this,arguments)}(f.auth,b);M!==_.email&&(yield _.reload())}),Mi.apply(this,arguments)}function Va(){return Va=(0,p.Z)(function*(_,c,f){const v=(0,P.m9)(_),M={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:c};f&&Es(v.auth,M,f);const{email:B}=yield function Ln(_,c){return Vn.apply(this,arguments)}(v.auth,M);B!==_.email&&(yield _.reload())}),Va.apply(this,arguments)}function mh(){return(mh=(0,p.Z)(function*(_,c){return Ee(_,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function Ua(){return Ua=(0,p.Z)(function*(_,{displayName:c,photoURL:f}){if(void 0===c&&void 0===f)return;const v=(0,P.m9)(_),M={idToken:yield v.getIdToken(),displayName:c,photoUrl:f,returnSecureToken:!0},B=yield en(v,function Hf(_,c){return mh.apply(this,arguments)}(v.auth,M));v.displayName=B.displayName||null,v.photoURL=B.photoUrl||null;const z=v.providerData.find(({providerId:De})=>"password"===De);z&&(z.displayName=v.displayName,z.photoURL=v.photoURL),yield v._updateTokensIfNecessary(B)}),Ua.apply(this,arguments)}function eu(_,c,f){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,p.Z)(function*(_,c,f){const{auth:v}=_,M={idToken:yield _.getIdToken(),returnSecureToken:!0};c&&(M.email=c),f&&(M.password=f);const B=yield en(_,Ol(v,M));yield _._updateTokensIfNecessary(B,!0)})).apply(this,arguments)}class so{constructor(c,f,v={}){this.isNewUser=c,this.providerId=f,this.profile=v}}class ja extends so{constructor(c,f,v,b){super(c,f,v),this.username=b}}class Tc extends so{constructor(c,f){super(c,"facebook.com",f)}}class Sc extends ja{constructor(c,f){super(c,"github.com",f,"string"==typeof f?.login?f?.login:null)}}class Uo extends so{constructor(c,f){super(c,"google.com",f)}}class Bo extends ja{constructor(c,f,v){super(c,"twitter.com",f,v)}}function _h(_){const{user:c,_tokenResponse:f}=_;return c.isAnonymous&&!f?{providerId:null,isNewUser:!1,profile:null}:function tu(_){var c,f;if(!_)return null;const{providerId:v}=_,b=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},M=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!v&&_?.idToken){const B=null===(f=null===(c=ct(_.idToken))||void 0===c?void 0:c.firebase)||void 0===f?void 0:f.sign_in_provider;if(B)return new so(M,"anonymous"!==B&&"custom"!==B?B:null)}if(!v)return null;switch(v){case"facebook.com":return new Tc(M,b);case"github.com":return new Sc(M,b);case"google.com":return new Uo(M,b);case"twitter.com":return new Bo(M,b,_.screenName||null);case"custom":case"anonymous":return new so(M,null);default:return new so(M,v,b)}}(f)}class Ri{constructor(c,f,v){this.type=c,this.credential=f,this.auth=v}static _fromIdtoken(c,f){return new Ri("enroll",c,f)}static _fromMfaPendingCredential(c){return new Ri("signin",c)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(c){var f,v;if(c?.multiFactorSession){if(null!==(f=c.multiFactorSession)&&void 0!==f&&f.pendingCredential)return Ri._fromMfaPendingCredential(c.multiFactorSession.pendingCredential);if(null!==(v=c.multiFactorSession)&&void 0!==v&&v.idToken)return Ri._fromIdtoken(c.multiFactorSession.idToken)}return null}}class Ds{constructor(c,f,v){this.session=c,this.hints=f,this.signInResolver=v}static _fromError(c,f){const v=un(c),b=f.customData._serverResponse,M=(b.mfaInfo||[]).map(z=>Zl._fromServerResponse(v,z));ie(b.mfaPendingCredential,v,"internal-error");const B=Ri._fromMfaPendingCredential(b.mfaPendingCredential);return new Ds(B,M,function(){var z=(0,p.Z)(function*(De){const Pe=yield De._process(v,B);delete b.mfaInfo,delete b.mfaPendingCredential;const $e=Object.assign(Object.assign({},b),{idToken:Pe.idToken,refreshToken:Pe.refreshToken});switch(f.operationType){case"signIn":const Ze=yield Wn._fromIdTokenResponse(v,f.operationType,$e);return yield v._updateCurrentUser(Ze.user),Ze;case"reauthenticate":return ie(f.user,v,"internal-error"),Wn._forOperation(f.user,f.operationType,$e);default:he(v,"internal-error")}});return function(De){return z.apply(this,arguments)}}())}resolveSignIn(c){var f=this;return(0,p.Z)(function*(){return f.signInResolver(c)})()}}class ws{constructor(c){this.user=c,this.enrolledFactors=[],c._onReload(f=>{f.mfaInfo&&(this.enrolledFactors=f.mfaInfo.map(v=>Zl._fromServerResponse(c.auth,v)))})}static _fromUser(c){return new ws(c)}getSession(){var c=this;return(0,p.Z)(function*(){return Ri._fromIdtoken(yield c.user.getIdToken(),c.user.auth)})()}enroll(c,f){var v=this;return(0,p.Z)(function*(){const b=c,M=yield v.getSession(),B=yield en(v.user,b._process(v.user.auth,M,f));return yield v.user._updateTokensIfNecessary(B),v.user.reload()})()}unenroll(c){var f=this;return(0,p.Z)(function*(){const v="string"==typeof c?c:c.uid,b=yield f.user.getIdToken();try{const M=yield en(f.user,function Pc(_,c){return Ee(_,"POST","/v2/accounts/mfaEnrollment:withdraw",me(_,c))}(f.user.auth,{idToken:b,mfaEnrollmentId:v}));f.enrolledFactors=f.enrolledFactors.filter(({uid:B})=>B!==v),yield f.user._updateTokensIfNecessary(M),yield f.user.reload()}catch(M){throw M}})()}}const Ut=new WeakMap,bs="__sak";class pr{constructor(c,f){this.storageRetriever=c,this.type=f}_isAvailable(){try{return this.storage?(this.storage.setItem(bs,"1"),this.storage.removeItem(bs),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(c,f){return this.storage.setItem(c,JSON.stringify(f)),Promise.resolve()}_get(c){const f=this.storage.getItem(c);return Promise.resolve(f?JSON.parse(f):null)}_remove(c){return this.storage.removeItem(c),Promise.resolve()}get storage(){return this.storageRetriever()}}const lo=(()=>{class _ extends pr{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(f,v)=>this.onStorageEvent(f,v),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function xc(){const _=(0,P.z$)();return re(_)||ht(_)}()&&function Po(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Ii(),this._shouldAllowMigration=!0}forAllChangedKeys(f){for(const v of Object.keys(this.listeners)){const b=this.storage.getItem(v),M=this.localCache[v];b!==M&&f(v,M,b)}}onStorageEvent(f,v=!1){if(!f.key)return void this.forAllChangedKeys((z,De,Pe)=>{this.notifyListeners(z,Pe)});const b=f.key;if(v?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const z=this.storage.getItem(b);if(f.newValue!==z)null!==f.newValue?this.storage.setItem(b,f.newValue):this.storage.removeItem(b);else if(this.localCache[b]===f.newValue&&!v)return}const M=()=>{const z=this.storage.getItem(b);!v&&this.localCache[b]===z||this.notifyListeners(b,z)},B=this.storage.getItem(b);!function lr(){return(0,P.w1)()&&10===document.documentMode}()||B===f.newValue||f.newValue===f.oldValue?M():setTimeout(M,10)}notifyListeners(f,v){this.localCache[f]=v;const b=this.listeners[f];if(b)for(const M of Array.from(b))M(v&&JSON.parse(v))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((f,v,b)=>{this.onStorageEvent(new StorageEvent("storage",{key:f,oldValue:v,newValue:b}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(f,v){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[f]||(this.listeners[f]=new Set,this.localCache[f]=this.storage.getItem(f)),this.listeners[f].add(v)}_removeListener(f,v){this.listeners[f]&&(this.listeners[f].delete(v),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(f,v){var b=()=>super._set,M=this;return(0,p.Z)(function*(){yield b().call(M,f,v),M.localCache[f]=JSON.stringify(v)})()}_get(f){var v=()=>super._get,b=this;return(0,p.Z)(function*(){const M=yield v().call(b,f);return b.localCache[f]=JSON.stringify(M),M})()}_remove(f){var v=()=>super._remove,b=this;return(0,p.Z)(function*(){yield v().call(b,f),delete b.localCache[f]})()}}return _.type="LOCAL",_})(),Ts=(()=>{class _ extends pr{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(f,v){}_removeListener(f,v){}}return _.type="SESSION",_})();let $a=(()=>{class _{constructor(f){this.eventTarget=f,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(f){const v=this.receivers.find(M=>M.isListeningto(f));if(v)return v;const b=new _(f);return this.receivers.push(b),b}isListeningto(f){return this.eventTarget===f}handleEvent(f){var v=this;return(0,p.Z)(function*(){const b=f,{eventId:M,eventType:B,data:z}=b.data,De=v.handlersMap[B];if(!De?.size)return;b.ports[0].postMessage({status:"ack",eventId:M,eventType:B});const Pe=Array.from(De).map(function(){var Ze=(0,p.Z)(function*(cn){return cn(b.origin,z)});return function(cn){return Ze.apply(this,arguments)}}()),$e=yield function Ss(_){return Promise.all(_.map(function(){var c=(0,p.Z)(function*(f){try{return{fulfilled:!0,value:yield f}}catch(v){return{fulfilled:!1,reason:v}}});return function(f){return c.apply(this,arguments)}}()))}(Pe);b.ports[0].postMessage({status:"done",eventId:M,eventType:B,response:$e})})()}_subscribe(f,v){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[f]||(this.handlersMap[f]=new Set),this.handlersMap[f].add(v)}_unsubscribe(f,v){this.handlersMap[f]&&v&&this.handlersMap[f].delete(v),(!v||0===this.handlersMap[f].size)&&delete this.handlersMap[f],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function au(_="",c=10){let f="";for(let v=0;v<c;v++)f+=Math.floor(10*Math.random());return _+f}class Zf{constructor(c){this.target=c,this.handlers=new Set}removeMessageHandler(c){c.messageChannel&&(c.messageChannel.port1.removeEventListener("message",c.onMessage),c.messageChannel.port1.close()),this.handlers.delete(c)}_send(c,f,v=50){var b=this;return(0,p.Z)(function*(){const M=typeof MessageChannel<"u"?new MessageChannel:null;if(!M)throw new Error("connection_unavailable");let B,z;return new Promise((De,Pe)=>{const $e=au("",20);M.port1.start();const Ze=setTimeout(()=>{Pe(new Error("unsupported_event"))},v);z={messageChannel:M,onMessage(cn){const ei=cn;if(ei.data.eventId===$e)switch(ei.data.status){case"ack":clearTimeout(Ze),B=setTimeout(()=>{Pe(new Error("timeout"))},3e3);break;case"done":clearTimeout(B),De(ei.data.response);break;default:clearTimeout(Ze),clearTimeout(B),Pe(new Error("invalid_response"))}}},b.handlers.add(z),M.port1.addEventListener("message",z.onMessage),b.target.postMessage({eventType:c,eventId:$e,data:f},[M.port2])}).finally(()=>{z&&b.removeMessageHandler(z)})})()}}function zt(){return window}function lu(){return typeof zt().WorkerGlobalScope<"u"&&"function"==typeof zt().importScripts}function Ga(){return(Ga=(0,p.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const kc="firebaseLocalStorageDb",uo="firebaseLocalStorage",Yi="fbase_key";class Wa{constructor(c){this.request=c}toPromise(){return new Promise((c,f)=>{this.request.addEventListener("success",()=>{c(this.request.result)}),this.request.addEventListener("error",()=>{f(this.request.error)})})}}function za(_,c){return _.transaction([uo],c?"readwrite":"readonly").objectStore(uo)}function cu(){const _=indexedDB.open(kc,1);return new Promise((c,f)=>{_.addEventListener("error",()=>{f(_.error)}),_.addEventListener("upgradeneeded",()=>{const v=_.result;try{v.createObjectStore(uo,{keyPath:Yi})}catch(b){f(b)}}),_.addEventListener("success",(0,p.Z)(function*(){const v=_.result;v.objectStoreNames.contains(uo)?c(v):(v.close(),yield function Kf(){const _=indexedDB.deleteDatabase(kc);return new Wa(_).toPromise()}(),c(yield cu()))}))})}function jo(_,c,f){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,p.Z)(function*(_,c,f){const v=za(_,!0).put({[Yi]:c,value:f});return new Wa(v).toPromise()})).apply(this,arguments)}function du(){return(du=(0,p.Z)(function*(_,c){const f=za(_,!1).get(c),v=yield new Wa(f).toPromise();return void 0===v?null:v.value})).apply(this,arguments)}function Fc(_,c){const f=za(_,!0).delete(c);return new Wa(f).toPromise()}const gr=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var f=this;return(0,p.Z)(function*(){return f.db||(f.db=yield cu()),f.db})()}_withRetries(f){var v=this;return(0,p.Z)(function*(){let b=0;for(;;)try{const M=yield v._openDb();return yield f(M)}catch(M){if(b++>3)throw M;v.db&&(v.db.close(),v.db=void 0)}})()}initializeServiceWorkerMessaging(){var f=this;return(0,p.Z)(function*(){return lu()?f.initializeReceiver():f.initializeSender()})()}initializeReceiver(){var f=this;return(0,p.Z)(function*(){f.receiver=$a._getInstance(function Rn(){return lu()?self:null}()),f.receiver._subscribe("keyChanged",function(){var v=(0,p.Z)(function*(b,M){return{keyProcessed:(yield f._poll()).includes(M.key)}});return function(b,M){return v.apply(this,arguments)}}()),f.receiver._subscribe("ping",function(){var v=(0,p.Z)(function*(b,M){return["keyChanged"]});return function(b,M){return v.apply(this,arguments)}}())})()}initializeSender(){var f=this;return(0,p.Z)(function*(){var v,b;if(f.activeServiceWorker=yield function lt(){return Ga.apply(this,arguments)}(),!f.activeServiceWorker)return;f.sender=new Zf(f.activeServiceWorker);const M=yield f.sender._send("ping",{},800);M&&null!==(v=M[0])&&void 0!==v&&v.fulfilled&&null!==(b=M[0])&&void 0!==b&&b.value.includes("keyChanged")&&(f.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(f){var v=this;return(0,p.Z)(function*(){if(v.sender&&v.activeServiceWorker&&function uu(){var _;return(null===(_=navigator?.serviceWorker)||void 0===_?void 0:_.controller)||null}()===v.activeServiceWorker)try{yield v.sender._send("keyChanged",{key:f},v.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,p.Z)(function*(){try{if(!indexedDB)return!1;const f=yield cu();return yield jo(f,bs,"1"),yield Fc(f,bs),!0}catch{}return!1})()}_withPendingWrite(f){var v=this;return(0,p.Z)(function*(){v.pendingWrites++;try{yield f()}finally{v.pendingWrites--}})()}_set(f,v){var b=this;return(0,p.Z)(function*(){return b._withPendingWrite((0,p.Z)(function*(){return yield b._withRetries(M=>jo(M,f,v)),b.localCache[f]=v,b.notifyServiceWorker(f)}))})()}_get(f){var v=this;return(0,p.Z)(function*(){const b=yield v._withRetries(M=>function _t(_,c){return du.apply(this,arguments)}(M,f));return v.localCache[f]=b,b})()}_remove(f){var v=this;return(0,p.Z)(function*(){return v._withPendingWrite((0,p.Z)(function*(){return yield v._withRetries(b=>Fc(b,f)),delete v.localCache[f],v.notifyServiceWorker(f)}))})()}_poll(){var f=this;return(0,p.Z)(function*(){const v=yield f._withRetries(B=>{const z=za(B,!1).getAll();return new Wa(z).toPromise()});if(!v)return[];if(0!==f.pendingWrites)return[];const b=[],M=new Set;for(const{fbase_key:B,value:z}of v)M.add(B),JSON.stringify(f.localCache[B])!==JSON.stringify(z)&&(f.notifyListeners(B,z),b.push(B));for(const B of Object.keys(f.localCache))f.localCache[B]&&!M.has(B)&&(f.notifyListeners(B,null),b.push(B));return b})()}notifyListeners(f,v){this.localCache[f]=v;const b=this.listeners[f];if(b)for(const M of Array.from(b))M(v)}startPolling(){var f=this;this.stopPolling(),this.pollTimer=setInterval((0,p.Z)(function*(){return f._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(f,v){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[f]||(this.listeners[f]=new Set,this._get(f)),this.listeners[f].add(v)}_removeListener(f,v){this.listeners[f]&&(this.listeners[f].delete(v),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})(),En=1e12;class Ni{constructor(c){this.auth=c,this.counter=En,this._widgets=new Map}render(c,f){const v=this.counter;return this._widgets.set(v,new mu(c,this.auth.name,f||{})),this.counter++,v}reset(c){var f;const v=c||En;null===(f=this._widgets.get(v))||void 0===f||f.delete(),this._widgets.delete(v)}getResponse(c){var f;return(null===(f=this._widgets.get(c||En))||void 0===f?void 0:f.getResponse())||""}execute(c){var f=this;return(0,p.Z)(function*(){var v;return null===(v=f._widgets.get(c||En))||void 0===v||v.execute(),""})()}}class mu{constructor(c,f,v){this.params=v,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const b="string"==typeof c?document.getElementById(c):c;ie(b,"argument-error",{appName:f}),this.container=b,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ho(_){const c=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let v=0;v<_;v++)c.push(f.charAt(Math.floor(62*Math.random())));return c.join("")}(50);const{callback:c,"expired-callback":f}=this.params;if(c)try{c(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,f)try{f()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const di=ur("rcb"),Ih=new Bi(3e4,6e4);class Yf{constructor(){var c;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(c=zt().grecaptcha)||void 0===c||!c.render)}load(c,f=""){return ie(function Lc(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(f),c,"argument-error"),this.shouldResolveImmediately(f)&&He(zt().grecaptcha)?Promise.resolve(zt().grecaptcha):new Promise((v,b)=>{const M=zt().setTimeout(()=>{b(ee(c,"network-request-failed"))},Ih.get());zt()[di]=()=>{zt().clearTimeout(M),delete zt()[di];const z=zt().grecaptcha;if(!z||!He(z))return void b(ee(c,"internal-error"));const De=z.render;z.render=(Pe,$e)=>{const Ze=De(Pe,$e);return this.counter++,Ze},this.hostLanguage=f,v(z)},si(`https://www.google.com/recaptcha/api.js??${(0,P.xO)({onload:di,render:"explicit",hl:f})}`).catch(()=>{clearTimeout(M),b(ee(c,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(c){var f;return!(null===(f=zt().grecaptcha)||void 0===f||!f.render)&&(c===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Vc{load(c){return(0,p.Z)(function*(){return new Ni(c)})()}clearedOneInstance(){}}const Go="recaptcha",Dh={theme:"light",type:"image"};class Za{constructor(c,f=Object.assign({},Dh),v){this.parameters=f,this.type=Go,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=un(v),this.isInvisible="invisible"===this.parameters.size,ie(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const b="string"==typeof c?document.getElementById(c):c;ie(b,this.auth,"argument-error"),this.container=b,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Vc:new Yf,this.validateStartingState()}verify(){var c=this;return(0,p.Z)(function*(){c.assertNotDestroyed();const f=yield c.render(),v=c.getAssertedRecaptcha();return v.getResponse(f)||new Promise(M=>{const B=z=>{z&&(c.tokenChangeListeners.delete(B),M(z))};c.tokenChangeListeners.add(B),c.isInvisible&&v.execute(f)})})()}render(){try{this.assertNotDestroyed()}catch(c){return Promise.reject(c)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(c=>{throw this.renderPromise=null,c})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(c=>{this.container.removeChild(c)})}validateStartingState(){ie(!this.parameters.sitekey,this.auth,"argument-error"),ie(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ie(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(c){return f=>{if(this.tokenChangeListeners.forEach(v=>v(f)),"function"==typeof c)c(f);else if("string"==typeof c){const v=zt()[c];"function"==typeof v&&v(f)}}}assertNotDestroyed(){ie(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var c=this;return(0,p.Z)(function*(){if(yield c.init(),!c.widgetId){let f=c.container;if(!c.isInvisible){const v=document.createElement("div");f.appendChild(v),f=v}c.widgetId=c.getAssertedRecaptcha().render(f,c.parameters)}return c.widgetId})()}init(){var c=this;return(0,p.Z)(function*(){ie(sr()&&!lu(),c.auth,"internal-error"),yield function Qf(){let _=null;return new Promise(c=>{"complete"!==document.readyState?(_=()=>c(),window.addEventListener("load",_)):c()}).catch(c=>{throw _&&window.removeEventListener("load",_),c})}(),c.recaptcha=yield c._recaptchaLoader.load(c.auth,c.auth.languageCode||void 0);const f=yield function J(_){return Ae.apply(this,arguments)}(c.auth);ie(f,c.auth,"internal-error"),c.parameters.sitekey=f})()}getAssertedRecaptcha(){return ie(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class mr{constructor(c,f){this.verificationId=c,this.onConfirmation=f}confirm(c){const f=et._fromVerification(this.verificationId,c);return this.onConfirmation(f)}}function co(){return(co=(0,p.Z)(function*(_,c,f){const v=un(_),b=yield Wo(v,c,(0,P.m9)(f));return new mr(b,M=>zl(v,M))})).apply(this,arguments)}function st(){return(st=(0,p.Z)(function*(_,c,f){const v=(0,P.m9)(_);yield qi(!1,v,"phone");const b=yield Wo(v.auth,c,(0,P.m9)(f));return new mr(b,M=>Uf(v,M))})).apply(this,arguments)}function ho(){return(ho=(0,p.Z)(function*(_,c,f){const v=(0,P.m9)(_),b=yield Wo(v.auth,c,(0,P.m9)(f));return new mr(b,M=>Bf(v,M))})).apply(this,arguments)}function Wo(_,c,f){return _u.apply(this,arguments)}function _u(){return _u=(0,p.Z)(function*(_,c,f){var v;const b=yield f.verify();try{let M;if(ie("string"==typeof b,_,"argument-error"),ie(f.type===Go,_,"argument-error"),M="string"==typeof c?{phoneNumber:c}:c,"session"in M){const B=M.session;if("phoneNumber"in M)return ie("enroll"===B.type,_,"internal-error"),(yield function iu(_,c){return Ee(_,"POST","/v2/accounts/mfaEnrollment:start",me(_,c))}(_,{idToken:B.credential,phoneEnrollmentInfo:{phoneNumber:M.phoneNumber,recaptchaToken:b}})).phoneSessionInfo.sessionInfo;{ie("signin"===B.type,_,"internal-error");const z=(null===(v=M.multiFactorHint)||void 0===v?void 0:v.uid)||M.multiFactorUid;return ie(z,_,"missing-multi-factor-info"),(yield function pu(_,c){return Ee(_,"POST","/v2/accounts/mfaSignIn:start",me(_,c))}(_,{mfaPendingCredential:B.credential,mfaEnrollmentId:z,phoneSignInInfo:{recaptchaToken:b}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:B}=yield function mt(_,c){return Ht.apply(this,arguments)}(_,{phoneNumber:M.phoneNumber,recaptchaToken:b});return B}}finally{f._reset()}}),_u.apply(this,arguments)}function hi(){return(hi=(0,p.Z)(function*(_,c){yield ys((0,P.m9)(_),c)})).apply(this,arguments)}let jt=(()=>{class _{constructor(f){this.providerId=_.PROVIDER_ID,this.auth=un(f)}verifyPhoneNumber(f,v){return Wo(this.auth,f,(0,P.m9)(v))}static credential(f,v){return et._fromVerification(f,v)}static credentialFromResult(f){return _.credentialFromTaggedObject(f)}static credentialFromError(f){return _.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{phoneNumber:v,temporaryProof:b}=f;return v&&b?et._fromTokenResponse(v,b):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function qr(_,c){return c?rn(c):(ie(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class dt extends _s{constructor(c){super("custom","custom"),this.params=c}_getIdTokenResponse(c){return kr(c,this._buildIdpRequest())}_linkToIdToken(c,f){return kr(c,this._buildIdpRequest(f))}_getReauthenticationResolver(c){return kr(c,this._buildIdpRequest())}_buildIdpRequest(c){const f={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return c&&(f.idToken=c),f}}function Uc(_){return Gl(_.auth,new dt(_),_.bypassAuthState)}function Bc(_){const{auth:c,user:f}=_;return ie(f,c,"internal-error"),hh(f,new dt(_),_.bypassAuthState)}function fo(_){return fi.apply(this,arguments)}function fi(){return(fi=(0,p.Z)(function*(_){const{auth:c,user:f}=_;return ie(f,c,"internal-error"),ys(f,new dt(_),_.bypassAuthState)})).apply(this,arguments)}class Ms{constructor(c,f,v,b,M=!1){this.auth=c,this.resolver=v,this.user=b,this.bypassAuthState=M,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(f)?f:[f]}execute(){var c=this;return new Promise(function(){var f=(0,p.Z)(function*(v,b){c.pendingPromise={resolve:v,reject:b};try{c.eventManager=yield c.resolver._initialize(c.auth),yield c.onExecution(),c.eventManager.registerConsumer(c)}catch(M){c.reject(M)}});return function(v,b){return f.apply(this,arguments)}}())}onAuthEvent(c){var f=this;return(0,p.Z)(function*(){const{urlResponse:v,sessionId:b,postBody:M,tenantId:B,error:z,type:De}=c;if(z)return void f.reject(z);const Pe={auth:f.auth,requestUri:v,sessionId:b,tenantId:B||void 0,postBody:M||void 0,user:f.user,bypassAuthState:f.bypassAuthState};try{f.resolve(yield f.getIdpTask(De)(Pe))}catch($e){f.reject($e)}})()}onError(c){this.reject(c)}getIdpTask(c){switch(c){case"signInViaPopup":case"signInViaRedirect":return Uc;case"linkViaPopup":case"linkViaRedirect":return fo;case"reauthViaPopup":case"reauthViaRedirect":return Bc;default:he(this.auth,"internal-error")}}resolve(c){Ct(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(c),this.unregisterAndCleanUp()}reject(c){Ct(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(c),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Lt=new Bi(2e3,1e4);function Rs(){return(Rs=(0,p.Z)(function*(_,c,f){const v=un(_);Me(_,c,dr);const b=qr(v,f);return new Qi(v,"signInViaPopup",c,b).executeNotNull()})).apply(this,arguments)}function Ns(){return(Ns=(0,p.Z)(function*(_,c,f){const v=(0,P.m9)(_);Me(v.auth,c,dr);const b=qr(v.auth,f);return new Qi(v.auth,"reauthViaPopup",c,b,v).executeNotNull()})).apply(this,arguments)}function Os(){return(Os=(0,p.Z)(function*(_,c,f){const v=(0,P.m9)(_);Me(v.auth,c,dr);const b=qr(v.auth,f);return new Qi(v.auth,"linkViaPopup",c,b,v).executeNotNull()})).apply(this,arguments)}let Qi=(()=>{class _ extends Ms{constructor(f,v,b,M,B){super(f,v,M,B),this.provider=b,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var f=this;return(0,p.Z)(function*(){const v=yield f.execute();return ie(v,f.auth,"internal-error"),v})()}onExecution(){var f=this;return(0,p.Z)(function*(){Ct(1===f.filter.length,"Popup operations only handle one event");const v=au();f.authWindow=yield f.resolver._openPopup(f.auth,f.provider,f.filter[0],v),f.authWindow.associatedEvent=v,f.resolver._originValidation(f.auth).catch(b=>{f.reject(b)}),f.resolver._isIframeWebStorageSupported(f.auth,b=>{b||f.reject(ee(f.auth,"web-storage-unsupported"))}),f.pollUserCancellation()})()}get eventId(){var f;return(null===(f=this.authWindow)||void 0===f?void 0:f.associatedEvent)||null}cancel(){this.reject(ee(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const f=()=>{var v,b;this.pollId=null!==(b=null===(v=this.authWindow)||void 0===v?void 0:v.window)&&void 0!==b&&b.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ee(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(f,Lt.get())};f()}}return _.currentPopupAction=null,_})();const yu="pendingRedirect",Yr=new Map;class Ji extends Ms{constructor(c,f,v=!1){super(c,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],f,void 0,v),this.eventId=null}execute(){var c=()=>super.execute,f=this;return(0,p.Z)(function*(){let v=Yr.get(f.auth._key());if(!v){try{const M=(yield function qa(_,c){return wh.apply(this,arguments)}(f.resolver,f.auth))?yield c().call(f):null;v=()=>Promise.resolve(M)}catch(b){v=()=>Promise.reject(b)}Yr.set(f.auth._key(),v)}return f.bypassAuthState||Yr.set(f.auth._key(),()=>Promise.resolve(null)),v()})()}onAuthEvent(c){var f=()=>super.onAuthEvent,v=this;return(0,p.Z)(function*(){if("signInViaRedirect"===c.type)return f().call(v,c);if("unknown"!==c.type){if(c.eventId){const b=yield v.auth._redirectUserForId(c.eventId);if(b)return v.user=b,f().call(v,c);v.resolve(null)}}else v.resolve(null)})()}onExecution(){return(0,p.Z)(function*(){})()}cleanUp(){}}function wh(){return(wh=(0,p.Z)(function*(_,c){const f=Eu(c),v=$c(_);if(!(yield v._isAvailable()))return!1;const b="true"===(yield v._get(f));return yield v._remove(f),b})).apply(this,arguments)}function Xi(_,c){return es.apply(this,arguments)}function es(){return(es=(0,p.Z)(function*(_,c){return $c(_)._set(Eu(c),"true")})).apply(this,arguments)}function qn(_,c){Yr.set(_._key(),c)}function $c(_){return rn(_._redirectPersistence)}function Eu(_){return U(yu,_.config.apiKey,_.name)}function Vr(_,c,f){return function an(_,c,f){return ts.apply(this,arguments)}(_,c,f)}function ts(){return(ts=(0,p.Z)(function*(_,c,f){const v=un(_);Me(_,c,dr),yield v._initializationPromise;const b=qr(v,f);return yield Xi(b,v),b._openRedirect(v,c,"signInViaRedirect")})).apply(this,arguments)}function zo(_,c,f){return function Qr(_,c,f){return _n.apply(this,arguments)}(_,c,f)}function _n(){return(_n=(0,p.Z)(function*(_,c,f){const v=(0,P.m9)(_);Me(v.auth,c,dr),yield v.auth._initializationPromise;const b=qr(v.auth,f);yield Xi(b,v.auth);const M=yield po(v);return b._openRedirect(v.auth,c,"reauthViaRedirect",M)})).apply(this,arguments)}function Cu(_,c,f){return function Gc(_,c,f){return Ya.apply(this,arguments)}(_,c,f)}function Ya(){return(Ya=(0,p.Z)(function*(_,c,f){const v=(0,P.m9)(_);Me(v.auth,c,dr),yield v.auth._initializationPromise;const b=qr(v.auth,f);yield qi(!1,v,c.providerId),yield Xi(b,v.auth);const M=yield po(v);return b._openRedirect(v.auth,c,"linkViaRedirect",M)})).apply(this,arguments)}function Yn(){return(Yn=(0,p.Z)(function*(_,c){return yield un(_)._initializationPromise,In(_,c,!1)})).apply(this,arguments)}function In(_,c){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,p.Z)(function*(_,c,f=!1){const v=un(_),b=qr(v,c),B=yield new Ji(v,b,f).execute();return B&&!f&&(delete B.user._redirectEventId,yield v._persistUserIfCurrent(B.user),yield v._setRedirectUser(null,c)),B})).apply(this,arguments)}function po(_){return rs.apply(this,arguments)}function rs(){return(rs=(0,p.Z)(function*(_){const c=au(`${_.uid}:::`);return _._redirectEventId=c,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),c})).apply(this,arguments)}class go{constructor(c){this.auth=c,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(c){this.consumers.add(c),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,c)&&(this.sendToConsumer(this.queuedRedirectEvent,c),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(c){this.consumers.delete(c)}onEvent(c){if(this.hasEventBeenHandled(c))return!1;let f=!1;return this.consumers.forEach(v=>{this.isEventForConsumer(c,v)&&(f=!0,this.sendToConsumer(c,v),this.saveEventToCache(c))}),this.hasHandledPotentialRedirect||!function Zo(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ps(_);default:return!1}}(c)||(this.hasHandledPotentialRedirect=!0,f||(this.queuedRedirectEvent=c,f=!0)),f}sendToConsumer(c,f){var v;if(c.error&&!Ps(c)){const b=(null===(v=c.error.code)||void 0===v?void 0:v.split("auth/")[1])||"internal-error";f.onError(ee(this.auth,b))}else f.onAuthEvent(c)}isEventForConsumer(c,f){const v=null===f.eventId||!!c.eventId&&c.eventId===f.eventId;return f.filter.includes(c.type)&&v}hasEventBeenHandled(c){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Qa(c))}saveEventToCache(c){this.cachedEventUids.add(Qa(c)),this.lastProcessedEventTime=Date.now()}}function Qa(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(c=>c).join("-")}function Ps({type:_,error:c}){return"unknown"===_&&"auth/no-auth-event"===c?.code}function Wc(_){return gt.apply(this,arguments)}function gt(){return(gt=(0,p.Z)(function*(_,c={}){return Ee(_,"GET","/v1/projects",c)})).apply(this,arguments)}const Ja=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Xa=/^https?/;function ss(){return(ss=(0,p.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:c}=yield Wc(_);for(const f of c)try{if(Iu(f))return}catch{}he(_,"unauthorized-domain")})).apply(this,arguments)}function Iu(_){const c=Pn(),{protocol:f,hostname:v}=new URL(c);if(_.startsWith("chrome-extension://")){const B=new URL(_);return""===B.hostname&&""===v?"chrome-extension:"===f&&_.replace("chrome-extension://","")===c.replace("chrome-extension://",""):"chrome-extension:"===f&&B.hostname===v}if(!Xa.test(f))return!1;if(Ja.test(_))return v===_;const b=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+b+"|"+b+")$","i").test(v)}const Jr=new Bi(3e4,6e4);function xs(){const _=zt().___jsl;if(_?.H)for(const c of Object.keys(_.H))if(_.H[c].r=_.H[c].r||[],_.H[c].L=_.H[c].L||[],_.H[c].r=[..._.H[c].L],_.CP)for(let f=0;f<_.CP.length;f++)_.CP[f]=null}let Zt=null;const zc=new Bi(5e3,15e3),Du="__/auth/iframe",Zc="emulator/auth/iframe",wu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mo(_){const c=_.config;ie(c.authDomain,_,"auth-domain-config-required");const f=c.emulator?se(c,Zc):`https://${_.config.authDomain}/${Du}`,v={apiKey:c.apiKey,appName:_.name,v:X.SDK_VERSION},b=bu.get(_.config.apiHost);b&&(v.eid=b);const M=_._getFrameworks();return M.length&&(v.fw=M.join(",")),`${f}?${(0,P.xO)(v).slice(1)}`}function D(){return D=(0,p.Z)(function*(_){const c=yield function ks(_){return Zt=Zt||function os(_){return new Promise((c,f)=>{var v,b,M;function B(){xs(),gapi.load("gapi.iframes",{callback:()=>{c(gapi.iframes.getContext())},ontimeout:()=>{xs(),f(ee(_,"network-request-failed"))},timeout:Jr.get()})}if(null!==(b=null===(v=zt().gapi)||void 0===v?void 0:v.iframes)&&void 0!==b&&b.Iframe)c(gapi.iframes.getContext());else{if(null===(M=zt().gapi)||void 0===M||!M.load){const z=ur("iframefcb");return zt()[z]=()=>{gapi.load?B():f(ee(_,"network-request-failed"))},si(`https://apis.google.com/js/api.js?onload=${z}`).catch(De=>f(De))}B()}}).catch(c=>{throw Zt=null,c})}(_),Zt}(_),f=zt().gapi;return ie(f,_,"internal-error"),c.open({where:document.body,url:mo(_),messageHandlersFilter:f.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wu,dontclear:!0},v=>new Promise(function(){var b=(0,p.Z)(function*(M,B){yield v.restyle({setHideOnLeave:!1});const z=ee(_,"network-request-failed"),De=zt().setTimeout(()=>{B(z)},zc.get());function Pe(){zt().clearTimeout(De),M(v)}v.ping(Pe).then(Pe,()=>{B(z)})});return function(M,B){return b.apply(this,arguments)}}()))}),D.apply(this,arguments)}const S={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class je{constructor(c){this.window=c,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const ft="__/auth/handler",ut="emulator/auth/handler",rr=encodeURIComponent("fac");function Kt(_,c,f,v,b,M){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,p.Z)(function*(_,c,f,v,b,M){ie(_.config.authDomain,_,"auth-domain-config-required"),ie(_.config.apiKey,_,"invalid-api-key");const B={apiKey:_.config.apiKey,appName:_.name,authType:f,redirectUrl:v,v:X.SDK_VERSION,eventId:b};if(c instanceof dr){c.setDefaultLanguage(_.languageCode),B.providerId=c.providerId||"",(0,P.xb)(c.getCustomParameters())||(B.customParameters=JSON.stringify(c.getCustomParameters()));for(const[$e,Ze]of Object.entries(M||{}))B[$e]=Ze}if(c instanceof hr){const $e=c.getScopes().filter(Ze=>""!==Ze);$e.length>0&&(B.scopes=$e.join(","))}_.tenantId&&(B.tid=_.tenantId);const z=B;for(const $e of Object.keys(z))void 0===z[$e]&&delete z[$e];const De=yield _._getAppCheckToken(),Pe=De?`#${rr}=${encodeURIComponent(De)}`:"";return`${function Tu({config:_}){return _.emulator?se(_,ut):`https://${_.authDomain}/${ft}`}(_)}?${(0,P.xO)(z).slice(1)}${Pe}`})).apply(this,arguments)}const Wt="webStorageSupport",yr=class vr{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ts,this._completeRedirectFn=In,this._overrideRedirectResult=qn}_openPopup(c,f,v,b){var M=this;return(0,p.Z)(function*(){var B;Ct(null===(B=M.eventManagers[c._key()])||void 0===B?void 0:B.manager,"_initialize() not called before _openPopup()");const z=yield Kt(c,f,v,Pn(),b);return function xe(_,c,f,v=500,b=600){const M=Math.max((window.screen.availHeight-b)/2,0).toString(),B=Math.max((window.screen.availWidth-v)/2,0).toString();let z="";const De=Object.assign(Object.assign({},S),{width:v.toString(),height:b.toString(),top:M,left:B}),Pe=(0,P.z$)().toLowerCase();f&&(z=ze(Pe)?"_blank":f),_e(Pe)&&(c=c||"http://localhost",De.scrollbars="yes");const $e=Object.entries(De).reduce((cn,[ei,Do])=>`${cn}${ei}=${Do},`,"");if(function kn(_=(0,P.z$)()){var c;return ht(_)&&!(null===(c=window.navigator)||void 0===c||!c.standalone)}(Pe)&&"_self"!==z)return function Ye(_,c){const f=document.createElement("a");f.href=_,f.target=c;const v=document.createEvent("MouseEvent");v.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),f.dispatchEvent(v)}(c||"",z),new je(null);const Ze=window.open(c||"",z,$e);ie(Ze,_,"popup-blocked");try{Ze.focus()}catch{}return new je(Ze)}(c,z,au())})()}_openRedirect(c,f,v,b){var M=this;return(0,p.Z)(function*(){return yield M._originValidation(c),function yh(_){zt().location.href=_}(yield Kt(c,f,v,Pn(),b)),new Promise(()=>{})})()}_initialize(c){const f=c._key();if(this.eventManagers[f]){const{manager:b,promise:M}=this.eventManagers[f];return b?Promise.resolve(b):(Ct(M,"If manager is not set, promise should be"),M)}const v=this.initAndGetManager(c);return this.eventManagers[f]={promise:v},v.catch(()=>{delete this.eventManagers[f]}),v}initAndGetManager(c){var f=this;return(0,p.Z)(function*(){const v=yield function E(_){return D.apply(this,arguments)}(c),b=new go(c);return v.register("authEvent",M=>(ie(M?.authEvent,c,"invalid-auth-event"),{status:b.onEvent(M.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),f.eventManagers[c._key()]={manager:b},f.iframes[c._key()]=v,b})()}_isIframeWebStorageSupported(c,f){this.iframes[c._key()].send(Wt,{type:Wt},b=>{var M;const B=null===(M=b?.[0])||void 0===M?void 0:M[Wt];void 0!==B&&f(!!B),he(c,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(c){const f=c._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function Br(_){return ss.apply(this,arguments)}(c)),this.originValidationPromises[f]}get _shouldInitProactively(){return Ii()||re()||ht()}};class Su{constructor(c){this.factorId=c}_process(c,f,v){switch(f.type){case"enroll":return this._finalizeEnroll(c,f.credential,v);case"signin":return this._finalizeSignIn(c,f.credential);default:return ot("unexpected MultiFactorSessionType")}}}class jr extends Su{constructor(c){super("phone"),this.credential=c}static _fromCredential(c){return new jr(c)}_finalizeEnroll(c,f,v){return function su(_,c){return Ee(_,"POST","/v2/accounts/mfaEnrollment:finalize",me(_,c))}(c,{idToken:f,displayName:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(c,f){return function gu(_,c){return Ee(_,"POST","/v2/accounts/mfaSignIn:finalize",me(_,c))}(c,{mfaPendingCredential:f,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let el=(()=>{class _{constructor(){}static assertion(f){return jr._fromCredential(f)}}return _.FACTOR_ID="phone",_})();var lm="@firebase/auth";class yy{constructor(c){this.auth=c,this.internalListeners=new Map}getUid(){var c;return this.assertAuthConfigured(),(null===(c=this.auth.currentUser)||void 0===c?void 0:c.uid)||null}getToken(c){var f=this;return(0,p.Z)(function*(){return f.assertAuthConfigured(),yield f.auth._initializationPromise,f.auth.currentUser?{accessToken:yield f.auth.currentUser.getIdToken(c)}:null})()}addAuthTokenListener(c){if(this.assertAuthConfigured(),this.internalListeners.has(c))return;const f=this.auth.onIdTokenChanged(v=>{c(v?.stsTokenManager.accessToken||null)});this.internalListeners.set(c,f),this.updateProactiveRefresh()}removeAuthTokenListener(c){this.assertAuthConfigured();const f=this.internalListeners.get(c);f&&(this.internalListeners.delete(c),f(),this.updateProactiveRefresh())}assertAuthConfigured(){ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function vo(){return window}(0,P.Pz)("authIdTokenMaxAge"),function bh(_){(0,X._registerComponent)(new de.wA("auth",(c,{options:f})=>{const v=c.getProvider("app").getImmediate(),b=c.getProvider("heartbeat"),M=c.getProvider("app-check-internal"),{apiKey:B,authDomain:z}=v.options;ie(B&&!B.includes(":"),"invalid-api-key",{appName:v.name});const De={apiKey:B,authDomain:z,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ce(_)},Pe=new Rl(v,b,M,De);return function uh(_,c){const f=c?.persistence||[],v=(Array.isArray(f)?f:[f]).map(rn);c?.errorMap&&_._updateErrorMap(c.errorMap),_._initializeWithPersistence(v,c?.popupRedirectResolver)}(Pe,f),Pe},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((c,f,v)=>{c.getProvider("auth-internal").initialize()})),(0,X._registerComponent)(new de.wA("auth-internal",c=>{const f=un(c.getProvider("auth").getImmediate());return new yy(f)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,X.registerVersion)(lm,"0.23.2",function Xr(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,X.registerVersion)(lm,"0.23.2","esm2017")}("Browser");function Yo(){return Yo=(0,p.Z)(function*(_,c,f){var v;const{BuildInfo:b}=vo();Ct(c.sessionId,"AuthEvent did not contain a session ID");const M=yield function cm(_){return Jc.apply(this,arguments)}(c.sessionId),B={};return ht()?B.ibi=b.packageName:Mt()?B.apn=b.packageName:he(_,"operation-not-supported-in-this-environment"),b.displayName&&(B.appDisplayName=b.displayName),B.sessionId=M,Kt(_,f,c.type,void 0,null!==(v=c.eventId)&&void 0!==v?v:void 0,B)}),Yo.apply(this,arguments)}function Qo(){return(Qo=(0,p.Z)(function*(_){const{BuildInfo:c}=vo(),f={};ht()?f.iosBundleId=c.packageName:Mt()?f.androidPackageName=c.packageName:he(_,"operation-not-supported-in-this-environment"),yield Wc(_,f)})).apply(this,arguments)}function nl(){return(nl=(0,p.Z)(function*(_,c,f){const{cordova:v}=vo();let b=()=>{};try{yield new Promise((M,B)=>{let z=null;function De(){var Ze;M();const cn=null===(Ze=v.plugins.browsertab)||void 0===Ze?void 0:Ze.close;"function"==typeof cn&&cn(),"function"==typeof f?.close&&f.close()}function Pe(){z||(z=window.setTimeout(()=>{B(ee(_,"redirect-cancelled-by-user"))},2e3))}function $e(){"visible"===document?.visibilityState&&Pe()}c.addPassiveListener(De),document.addEventListener("resume",Pe,!1),Mt()&&document.addEventListener("visibilitychange",$e,!1),b=()=>{c.removePassiveListener(De),document.removeEventListener("resume",Pe,!1),document.removeEventListener("visibilitychange",$e,!1),z&&window.clearTimeout(z)}})}finally{b()}})).apply(this,arguments)}function Jc(){return(Jc=(0,p.Z)(function*(_){const c=function Xc(_){if(Ct(/[0-9a-zA-Z]+/.test(_),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(_);const c=new ArrayBuffer(_.length),f=new Uint8Array(c);for(let v=0;v<_.length;v++)f[v]=_.charCodeAt(v);return f}(_),f=yield crypto.subtle.digest("SHA-256",c);return Array.from(new Uint8Array(f)).map(b=>b.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class tp extends go{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(c=>{this.resolveInialized=c})}addPassiveListener(c){this.passiveListeners.add(c)}removePassiveListener(c){this.passiveListeners.delete(c)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(c){return this.resolveInialized(),this.passiveListeners.forEach(f=>f(c)),super.onEvent(c)}initialized(){var c=this;return(0,p.Z)(function*(){yield c.initPromise})()}}function Eo(_){return Co.apply(this,arguments)}function Co(){return(Co=(0,p.Z)(function*(_){const c=yield Jo()._get(as(_));return c&&(yield Jo()._remove(as(_))),c})).apply(this,arguments)}function Fs(){const _=[];for(let f=0;f<20;f++){const v=Math.floor(62*Math.random());_.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(v))}return _.join("")}function Jo(){return rn(lo)}function as(_){return U("authEvent",_.config.apiKey,_.name)}function Xo(_){if(!_?.includes("?"))return{};const[c,...f]=_.split("?");return(0,P.zd)(f.join("?"))}const rp=class td{constructor(){this._redirectPersistence=Ts,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=In,this._overrideRedirectResult=qn}_initialize(c){var f=this;return(0,p.Z)(function*(){const v=c._key();let b=f.eventManagers.get(v);return b||(b=new tp(c),f.eventManagers.set(v,b),f.attachCallbackListeners(c,b)),b})()}_openPopup(c){he(c,"operation-not-supported-in-this-environment")}_openRedirect(c,f,v,b){var M=this;return(0,p.Z)(function*(){!function Qc(_){var c,f,v,b,M,B,z,De,Pe,$e;const Ze=vo();ie("function"==typeof(null===(c=Ze?.universalLinks)||void 0===c?void 0:c.subscribe),_,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ie(typeof(null===(f=Ze?.BuildInfo)||void 0===f?void 0:f.packageName)<"u",_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ie("function"==typeof(null===(M=null===(b=null===(v=Ze?.cordova)||void 0===v?void 0:v.plugins)||void 0===b?void 0:b.browsertab)||void 0===M?void 0:M.openUrl),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ie("function"==typeof(null===(De=null===(z=null===(B=Ze?.cordova)||void 0===B?void 0:B.plugins)||void 0===z?void 0:z.browsertab)||void 0===De?void 0:De.isAvailable),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ie("function"==typeof(null===($e=null===(Pe=Ze?.cordova)||void 0===Pe?void 0:Pe.InAppBrowser)||void 0===$e?void 0:$e.open),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(c);const B=yield M._initialize(c);yield B.initialized(),B.resetRedirect(),function Hc(){Yr.clear()}(),yield M._originValidation(c);const z=function Sh(_,c,f=null){return{type:c,eventId:f,urlResponse:null,sessionId:Fs(),postBody:null,tenantId:_.tenantId,error:ee(_,"no-auth-event")}}(c,v,b);yield function dm(_,c){return Jo()._set(as(_),c)}(c,z);const De=yield function qc(_,c,f){return Yo.apply(this,arguments)}(c,z,f),Pe=yield function ep(_){const{cordova:c}=vo();return new Promise(f=>{c.plugins.browsertab.isAvailable(v=>{let b=null;v?c.plugins.browsertab.openUrl(_):b=c.InAppBrowser.open(_,function Tt(_=(0,P.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}()?"_blank":"_system","location=yes"),f(b)})})}(De);return function Yc(_,c,f){return nl.apply(this,arguments)}(c,B,Pe)})()}_isIframeWebStorageSupported(c,f){throw new Error("Method not implemented.")}_originValidation(c){const f=c._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function Au(_){return Qo.apply(this,arguments)}(c)),this.originValidationPromises[f]}attachCallbackListeners(c,f){const{universalLinks:v,handleOpenURL:b,BuildInfo:M}=vo(),B=setTimeout((0,p.Z)(function*(){yield Eo(c),f.onEvent(ip())}),500),z=function(){var $e=(0,p.Z)(function*(Ze){clearTimeout(B);const cn=yield Eo(c);let ei=null;cn&&Ze?.url&&(ei=function Mu(_,c){var f,v;const b=function rl(_){const c=Xo(_),f=c.link?decodeURIComponent(c.link):void 0,v=Xo(f).link,b=c.deep_link_id?decodeURIComponent(c.deep_link_id):void 0;return Xo(b).link||b||v||f||_}(c);if(b.includes("/__/auth/callback")){const M=Xo(b),B=M.firebaseError?function ed(_){try{return JSON.parse(_)}catch{return null}}(decodeURIComponent(M.firebaseError)):null,z=null===(v=null===(f=B?.code)||void 0===f?void 0:f.split("auth/"))||void 0===v?void 0:v[1],De=z?ee(z):null;return De?{type:_.type,eventId:_.eventId,tenantId:_.tenantId,error:De,urlResponse:null,sessionId:null,postBody:null}:{type:_.type,eventId:_.eventId,tenantId:_.tenantId,sessionId:_.sessionId,urlResponse:b,postBody:null}}return null}(cn,Ze.url)),f.onEvent(ei||ip())});return function(cn){return $e.apply(this,arguments)}}();typeof v<"u"&&"function"==typeof v.subscribe&&v.subscribe(null,z);const De=b,Pe=`${M.packageName.toLowerCase()}://`;vo().handleOpenURL=function(){var $e=(0,p.Z)(function*(Ze){if(Ze.toLowerCase().startsWith(Pe)&&z({url:Ze}),"function"==typeof De)try{De(Ze)}catch(cn){console.error(cn)}});return function(Ze){return $e.apply(this,arguments)}}()}};function ip(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ee("no-auth-event")}}function Ru(){var _;return(null===(_=self?.location)||void 0===_?void 0:_.protocol)||null}function nd(_=(0,P.z$)()){return!("file:"!==Ru()&&"ionic:"!==Ru()&&"capacitor:"!==Ru()||!_.toLowerCase().match(/iphone|ipad|ipod|android/))}function pm(){try{const _=self.localStorage,c=au();if(_)return _.setItem(c,"1"),_.removeItem(c),!function FD(_=(0,P.z$)()){return function ap(){return(0,P.w1)()&&11===document?.documentMode}()||function Nu(_=(0,P.z$)()){return/Edge\/\d+/.test(_)}(_)}()||(0,P.hl)()}catch{return il()&&(0,P.hl)()}return!1}function il(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Ah(){return(function hm(){return"http:"===Ru()||"https:"===Ru()}()||(0,P.ru)()||nd())&&!function fm(){return(0,P.b$)()||(0,P.UG)()}()&&pm()&&!il()}function Mh(){return nd()&&typeof document<"u"}function Hr(){return(Hr=(0,p.Z)(function*(){return!!Mh()&&new Promise(_=>{const c=setTimeout(()=>{_(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(c),_(!0)})})})).apply(this,arguments)}const Ar={LOCAL:"local",NONE:"none",SESSION:"session"},ea=ie,Nh="persistence";function Ou(_){return rd.apply(this,arguments)}function rd(){return(rd=(0,p.Z)(function*(_){yield _._initializationPromise;const c=sl(),f=U(Nh,_.config.apiKey,_.name);c&&c.setItem(f,_._getPersistence())})).apply(this,arguments)}function sl(){var _;try{return(null===(_=function Ls(){return typeof window<"u"?window:null}())||void 0===_?void 0:_.sessionStorage)||null}catch{return null}}const ol=ie;class Vs{constructor(){this.browserResolver=rn(yr),this.cordovaResolver=rn(rp),this.underlyingResolver=null,this._redirectPersistence=Ts,this._completeRedirectFn=In,this._overrideRedirectResult=qn}_initialize(c){var f=this;return(0,p.Z)(function*(){return yield f.selectUnderlyingResolver(),f.assertedUnderlyingResolver._initialize(c)})()}_openPopup(c,f,v,b){var M=this;return(0,p.Z)(function*(){return yield M.selectUnderlyingResolver(),M.assertedUnderlyingResolver._openPopup(c,f,v,b)})()}_openRedirect(c,f,v,b){var M=this;return(0,p.Z)(function*(){return yield M.selectUnderlyingResolver(),M.assertedUnderlyingResolver._openRedirect(c,f,v,b)})()}_isIframeWebStorageSupported(c,f){this.assertedUnderlyingResolver._isIframeWebStorageSupported(c,f)}_originValidation(c){return this.assertedUnderlyingResolver._originValidation(c)}get _shouldInitProactively(){return Mh()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ol(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var c=this;return(0,p.Z)(function*(){if(c.underlyingResolver)return;const f=yield function Rh(){return Hr.apply(this,arguments)}();c.underlyingResolver=f?c.cordovaResolver:c.browserResolver})()}}function id(_){return _.unwrap()}function sd(_){return Pu(_)}function Pu(_){const{_tokenResponse:c}=_ instanceof P.ZR?_.customData:_;if(!c)return null;if(!(_ instanceof P.ZR)&&"temporaryProof"in c&&"phoneNumber"in c)return jt.credentialFromResult(_);const f=c.providerId;if(!f||f===le.PASSWORD)return null;let v;switch(f){case le.GOOGLE:v=Kr;break;case le.FACEBOOK:v=Cc;break;case le.GITHUB:v=bi;break;case le.TWITTER:v=xo;break;default:const{oauthIdToken:b,oauthAccessToken:M,oauthTokenSecret:B,pendingToken:z,nonce:De}=c;return M||B||b||z?z?f.startsWith("saml.")?oi._create(f,z):Fe._fromParams({providerId:f,signInMethod:f,pendingToken:z,idToken:b,accessToken:M}):new Fr(f).credential({idToken:b,accessToken:M,rawNonce:De}):null}return _ instanceof P.ZR?v.credentialFromError(_):v.credentialFromResult(_)}function Mr(_,c){return c.catch(f=>{throw f instanceof P.ZR&&function Ph(_,c){var f;const v=null===(f=c.customData)||void 0===f?void 0:f._tokenResponse;if("auth/multi-factor-auth-required"===c?.code)c.resolver=new gm(_,function ru(_,c){var f;const v=(0,P.m9)(_),b=c;return ie(c.customData.operationType,v,"argument-error"),ie(null===(f=b.customData._serverResponse)||void 0===f?void 0:f.mfaPendingCredential,v,"argument-error"),Ds._fromError(v,b)}(_,c));else if(v){const b=Pu(c),M=c;b&&(M.credential=b,M.tenantId=v.tenantId||void 0,M.email=v.email||void 0,M.phoneNumber=v.phoneNumber||void 0)}}(_,f),f}).then(f=>{const b=f.user;return{operationType:f.operationType,credential:sd(f),additionalUserInfo:_h(f),user:Us.getOrCreate(b)}})}function xh(_,c){return Io.apply(this,arguments)}function Io(){return(Io=(0,p.Z)(function*(_,c){const f=yield c;return{verificationId:f.verificationId,confirm:v=>Mr(_,f.confirm(v))}})).apply(this,arguments)}class gm{constructor(c,f){this.resolver=f,this.auth=function Oh(_){return _.wrapped()}(c)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(c){return Mr(id(this.auth),this.resolver.resolveSignIn(c))}}class Us{constructor(c){this._delegate=c,this.multiFactor=function ao(_){const c=(0,P.m9)(_);return Ut.has(c)||Ut.set(c,ws._fromUser(c)),Ut.get(c)}(c)}static getOrCreate(c){return Us.USER_MAP.has(c)||Us.USER_MAP.set(c,new Us(c)),Us.USER_MAP.get(c)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(c){return this._delegate.getIdTokenResult(c)}getIdToken(c){return this._delegate.getIdToken(c)}linkAndRetrieveDataWithCredential(c){return this.linkWithCredential(c)}linkWithCredential(c){var f=this;return(0,p.Z)(function*(){return Mr(f.auth,Uf(f._delegate,c))})()}linkWithPhoneNumber(c,f){var v=this;return(0,p.Z)(function*(){return xh(v.auth,function Cn(_,c,f){return st.apply(this,arguments)}(v._delegate,c,f))})()}linkWithPopup(c){var f=this;return(0,p.Z)(function*(){return Mr(f.auth,function jc(_,c,f){return Os.apply(this,arguments)}(f._delegate,c,Vs))})()}linkWithRedirect(c){var f=this;return(0,p.Z)(function*(){return yield Ou(un(f.auth)),Cu(f._delegate,c,Vs)})()}reauthenticateAndRetrieveDataWithCredential(c){return this.reauthenticateWithCredential(c)}reauthenticateWithCredential(c){var f=this;return(0,p.Z)(function*(){return Mr(f.auth,Bf(f._delegate,c))})()}reauthenticateWithPhoneNumber(c,f){return xh(this.auth,function _r(_,c,f){return ho.apply(this,arguments)}(this._delegate,c,f))}reauthenticateWithPopup(c){return Mr(this.auth,function Ka(_,c,f){return Ns.apply(this,arguments)}(this._delegate,c,Vs))}reauthenticateWithRedirect(c){var f=this;return(0,p.Z)(function*(){return yield Ou(un(f.auth)),zo(f._delegate,c,Vs)})()}sendEmailVerification(c){return function Cs(_,c){return Mi.apply(this,arguments)}(this._delegate,c)}unlink(c){var f=this;return(0,p.Z)(function*(){return yield function jl(_,c){return Zn.apply(this,arguments)}(f._delegate,c),f})()}updateEmail(c){return function Gf(_,c){return eu((0,P.m9)(_),c,null)}(this._delegate,c)}updatePassword(c){return function Xl(_,c){return eu((0,P.m9)(_),null,c)}(this._delegate,c)}updatePhoneNumber(c){return function Bn(_,c){return hi.apply(this,arguments)}(this._delegate,c)}updateProfile(c){return function $f(_,c){return Ua.apply(this,arguments)}(this._delegate,c)}verifyBeforeUpdateEmail(c,f){return function La(_,c,f){return Va.apply(this,arguments)}(this._delegate,c,f)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Us.USER_MAP=new WeakMap;const Nn=ie;let xu=(()=>{class _{constructor(f,v){if(this.app=f,v.isInitialized())return this._delegate=v.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:b}=f.options;Nn(b,"invalid-api-key",{appName:f.name}),Nn(b,"invalid-api-key",{appName:f.name});const M=typeof window<"u"?Vs:void 0;this._delegate=v.initialize({options:{persistence:kh(b,f.name),popupRedirectResolver:M}}),this._delegate._updateErrorMap(Be),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Us.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(f){this._delegate.languageCode=f}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(f){this._delegate.tenantId=f}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(f,v){!function Sa(_,c,f){const v=un(_);ie(v._canInitEmulator,v,"emulator-config-failed"),ie(/^https?:\/\//.test(c),v,"invalid-emulator-scheme");const b=!!f?.disableWarnings,M=Gn(c),{host:B,port:z}=function yc(_){const c=Gn(_),f=/(\/\/)?([^?#/]+)/.exec(_.substr(c.length));if(!f)return{host:"",port:null};const v=f[2].split("@").pop()||"",b=/^(\[[^\]]+\])(:|$)/.exec(v);if(b){const M=b[1];return{host:M,port:Nl(v.substr(M.length+1))}}{const[M,B]=v.split(":");return{host:M,port:Nl(B)}}}(c);v.config.emulator={url:`${M}//${B}${null===z?"":`:${z}`}/`},v.settings.appVerificationDisabledForTesting=!0,v.emulatorConfig=Object.freeze({host:B,port:z,protocol:M.replace(":",""),options:Object.freeze({disableWarnings:b})}),b||function Vf(){function _(){const c=document.createElement("p"),f=c.style;c.innerText="Running in emulator mode. Do not use with production credentials.",f.position="fixed",f.width="100%",f.backgroundColor="#ffffff",f.border=".1em solid #000000",f.color="#b50000",f.bottom="0px",f.left="0px",f.margin="0px",f.zIndex="10000",f.textAlign="center",c.classList.add("firebase-emulator-warning"),document.body.appendChild(c)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(this._delegate,f,v)}applyActionCode(f){return function li(_,c){return Lr.apply(this,arguments)}(this._delegate,f)}checkActionCode(f){return wc(this._delegate,f)}confirmPasswordReset(f,v){return function jf(_,c,f){return Ai.apply(this,arguments)}(this._delegate,f,v)}createUserWithEmailAndPassword(f,v){var b=this;return(0,p.Z)(function*(){return Mr(b._delegate,function ql(_,c,f){return Lo.apply(this,arguments)}(b._delegate,f,v))})()}fetchProvidersForEmail(f){return this.fetchSignInMethodsForEmail(f)}fetchSignInMethodsForEmail(f){return function Jl(_,c){return io.apply(this,arguments)}(this._delegate,f)}isSignInWithEmailLink(f){return function gh(_,c){const f=wi.parseLink(c);return"EMAIL_SIGNIN"===f?.operation}(0,f)}getRedirectResult(){var f=this;return(0,p.Z)(function*(){Nn(Ah(),f._delegate,"operation-not-supported-in-this-environment");const v=yield function ns(_,c){return Yn.apply(this,arguments)}(f._delegate,Vs);return v?Mr(f._delegate,Promise.resolve(v)):{credential:null,user:null}})()}addFrameworkForLogging(f){!function sp(_,c){un(_)._logFramework(c)}(this._delegate,f)}onAuthStateChanged(f,v,b){const{next:M,error:B,complete:z}=od(f,v,b);return this._delegate.onAuthStateChanged(M,B,z)}onIdTokenChanged(f,v,b){const{next:M,error:B,complete:z}=od(f,v,b);return this._delegate.onIdTokenChanged(M,B,z)}sendSignInLinkToEmail(f,v){return function Vo(_,c,f){return ro.apply(this,arguments)}(this._delegate,f,v)}sendPasswordResetEmail(f,v){return function om(_,c,f){return Fo.apply(this,arguments)}(this._delegate,f,v||void 0)}setPersistence(f){var v=this;return(0,p.Z)(function*(){let b;switch(function Pi(_,c){ea(Object.values(Ar).includes(c),_,"invalid-persistence-type"),(0,P.b$)()?ea(c!==Ar.SESSION,_,"unsupported-persistence-type"):(0,P.UG)()?ea(c===Ar.NONE,_,"unsupported-persistence-type"):il()?ea(c===Ar.NONE||c===Ar.LOCAL&&(0,P.hl)(),_,"unsupported-persistence-type"):ea(c===Ar.NONE||pm(),_,"unsupported-persistence-type")}(v._delegate,f),f){case Ar.SESSION:b=Ts;break;case Ar.LOCAL:b=(yield rn(gr)._isAvailable())?gr:lo;break;case Ar.NONE:b=er;break;default:return he("argument-error",{appName:v._delegate.name})}return v._delegate.setPersistence(b)})()}signInAndRetrieveDataWithCredential(f){return this.signInWithCredential(f)}signInAnonymously(){return Mr(this._delegate,function ko(_){return An.apply(this,arguments)}(this._delegate))}signInWithCredential(f){return Mr(this._delegate,zl(this._delegate,f))}signInWithCustomToken(f){return Mr(this._delegate,function Dc(_,c){return Si.apply(this,arguments)}(this._delegate,f))}signInWithEmailAndPassword(f,v){return Mr(this._delegate,function bc(_,c,f){return zl((0,P.m9)(_),to.credential(c,f))}(this._delegate,f,v))}signInWithEmailLink(f,v){return Mr(this._delegate,function Mn(_,c,f){return Fa.apply(this,arguments)}(this._delegate,f,v))}signInWithPhoneNumber(f,v){return xh(this._delegate,function As(_,c,f){return co.apply(this,arguments)}(this._delegate,f,v))}signInWithPopup(f){var v=this;return(0,p.Z)(function*(){return Nn(Ah(),v._delegate,"operation-not-supported-in-this-environment"),Mr(v._delegate,function vu(_,c,f){return Rs.apply(this,arguments)}(v._delegate,f,Vs))})()}signInWithRedirect(f){var v=this;return(0,p.Z)(function*(){return Nn(Ah(),v._delegate,"operation-not-supported-in-this-environment"),yield Ou(v._delegate),Vr(v._delegate,f,Vs)})()}updateCurrentUser(f){return this._delegate.updateCurrentUser(f)}verifyPasswordResetCode(f){return function no(_,c){return Un.apply(this,arguments)}(this._delegate,f)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return _.Persistence=Ar,_})();function od(_,c,f){let v=_;"function"!=typeof _&&({next:v,error:c,complete:f}=_);const b=v;return{next:B=>b(B&&Us.getOrCreate(B)),error:c,complete:f}}function kh(_,c){const f=function ta(_,c){const f=sl();if(!f)return[];const v=U(Nh,_,c);switch(f.getItem(v)){case Ar.NONE:return[er];case Ar.LOCAL:return[gr,Ts];case Ar.SESSION:return[Ts];default:return[]}}(_,c);if(typeof self<"u"&&!f.includes(gr)&&f.push(gr),typeof window<"u")for(const v of[lo,Ts])f.includes(v)||f.push(v);return f.includes(er)||f.push(er),f}class jn{constructor(){this.providerId="phone",this._delegate=new jt(id(Q.Z.auth()))}static credential(c,f){return jt.credential(c,f)}verifyPhoneNumber(c,f){return this._delegate.verifyPhoneNumber(c,f)}unwrap(){return this._delegate}}jn.PHONE_SIGN_IN_METHOD=jt.PHONE_SIGN_IN_METHOD,jn.PROVIDER_ID=jt.PROVIDER_ID;const al=ie;class lp{constructor(c,f,v=Q.Z.app()){var b;al(null===(b=v.options)||void 0===b?void 0:b.apiKey,"invalid-api-key",{appName:v.name}),this._delegate=new Za(c,f,v.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Dy(_){_.INTERNAL.registerComponent(new de.wA("auth-compat",c=>{const f=c.getProvider("app-compat").getImmediate(),v=c.getProvider("auth");return new xu(f,v)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:to,FacebookAuthProvider:Cc,GithubAuthProvider:bi,GoogleAuthProvider:Kr,OAuthProvider:Fr,SAMLAuthProvider:Bl,PhoneAuthProvider:jn,PhoneMultiFactorGenerator:el,RecaptchaVerifier:lp,TwitterAuthProvider:xo,Auth:xu,AuthCredential:_s,Error:P.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),_.registerVersion("@firebase/auth-compat","0.4.2")}(Q.Z)},5861:(Qe,ve,O)=>{function p(P,X,ne,ue,de,Se,le){try{var F=P[Se](le),H=F.value}catch(Y){return void ne(Y)}F.done?X(H):Promise.resolve(H).then(ue,de)}function Q(P){return function(){var X=this,ne=arguments;return new Promise(function(ue,de){var Se=P.apply(X,ne);function le(H){p(Se,ue,de,le,F,"next",H)}function F(H){p(Se,ue,de,le,F,"throw",H)}le(void 0)})}}O.d(ve,{Z:()=>Q})},7582:(Qe,ve,O)=>{function X(se,ae){var fe={};for(var pe in se)Object.prototype.hasOwnProperty.call(se,pe)&&ae.indexOf(pe)<0&&(fe[pe]=se[pe]);if(null!=se&&"function"==typeof Object.getOwnPropertySymbols){var me=0;for(pe=Object.getOwnPropertySymbols(se);me<pe.length;me++)ae.indexOf(pe[me])<0&&Object.prototype.propertyIsEnumerable.call(se,pe[me])&&(fe[pe[me]]=se[pe[me]])}return fe}function Y(se,ae,fe,pe){return new(fe||(fe=Promise))(function(Ee,We){function ke(xt){try{tt(pe.next(xt))}catch(pt){We(pt)}}function nn(xt){try{tt(pe.throw(xt))}catch(pt){We(pt)}}function tt(xt){xt.done?Ee(xt.value):function me(Ee){return Ee instanceof fe?Ee:new fe(function(We){We(Ee)})}(xt.value).then(ke,nn)}tt((pe=pe.apply(se,ae||[])).next())})}function te(se){return this instanceof te?(this.v=se,this):new te(se)}function he(se,ae,fe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var me,pe=fe.apply(se,ae||[]),Ee=[];return me={},We("next"),We("throw"),We("return"),me[Symbol.asyncIterator]=function(){return this},me;function We(qt){pe[qt]&&(me[qt]=function(Yt){return new Promise(function(bn,Bt){Ee.push([qt,Yt,bn,Bt])>1||ke(qt,Yt)})})}function ke(qt,Yt){try{!function nn(qt){qt.value instanceof te?Promise.resolve(qt.value.v).then(tt,xt):pt(Ee[0][2],qt)}(pe[qt](Yt))}catch(bn){pt(Ee[0][3],bn)}}function tt(qt){ke("next",qt)}function xt(qt){ke("throw",qt)}function pt(qt,Yt){qt(Yt),Ee.shift(),Ee.length&&ke(Ee[0][0],Ee[0][1])}}function ye(se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var fe,ae=se[Symbol.asyncIterator];return ae?ae.call(se):(se=function Te(se){var ae="function"==typeof Symbol&&Symbol.iterator,fe=ae&&se[ae],pe=0;if(fe)return fe.call(se);if(se&&"number"==typeof se.length)return{next:function(){return se&&pe>=se.length&&(se=void 0),{value:se&&se[pe++],done:!se}}};throw new TypeError(ae?"Object is not iterable.":"Symbol.iterator is not defined.")}(se),fe={},pe("next"),pe("throw"),pe("return"),fe[Symbol.asyncIterator]=function(){return this},fe);function pe(Ee){fe[Ee]=se[Ee]&&function(We){return new Promise(function(ke,nn){!function me(Ee,We,ke,nn){Promise.resolve(nn).then(function(tt){Ee({value:tt,done:ke})},We)}(ke,nn,(We=se[Ee](We)).done,We.value)})}}}O.d(ve,{FC:()=>he,KL:()=>ye,_T:()=>X,mG:()=>Y,qq:()=>te}),"function"==typeof SuppressedError&&SuppressedError}},Qe=>{Qe(Qe.s=7754)}]);